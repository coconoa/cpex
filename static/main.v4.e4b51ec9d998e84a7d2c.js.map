{"version":3,"sources":["webpack:///./static/panes/conformance-view.js","webpack:///./static/modes/asm-mode.ts","webpack:///./static/panes/compiler.js","webpack:///./static/modes/ocaml-mode.ts","webpack:///./static/modes/llvm-ir-mode.ts","webpack:///./static/utils.ts","webpack:///./static/panes/executor.js","webpack:///./static/panes/cfg-view.js","webpack:///./static/history-widget.js","webpack:///./static/panes/rustmacroexp-view.ts","webpack:///./static/modes/nim-mode.ts","webpack:///./static/modes/cppx-blue-mode.ts","webpack:///./static/multifile-service.ts","webpack:///./static/modes/gccdump-rtl-gimple-mode.ts","webpack:///./static/modes/cppp-mode.ts","webpack:///./static/changelog.html","webpack:///./static/options.ts","webpack:///./static/analytics.js","webpack:///./static/modes/asmruby-mode.ts","webpack:///./static/modes/cpp-for-opencl-mode.ts","webpack:///./static/timing-info-widget.js","webpack:///./static/modes/crystal-mode.ts","webpack:///./static/history.js","webpack:///./static/modes/ispc-mode.ts","webpack:///./static/panes/gnatdebug-view.ts","webpack:///./static/panes/editor.js","webpack:///./static/modes/cmake-mode.ts","webpack:///./static/presentation.js","webpack:///./static/panes/opt-view.js","webpack:///./static/modes/d-mode.ts","webpack:///./static/panes/tool.js","webpack:///./static/modes/ada-mode.ts","webpack:///./static/modes/openclc-mode.ts","webpack:///./static/panes/flags-view.js","webpack:///./static/colour.ts","webpack:///./static/modes/nc-mode.ts","webpack:///./static/panes/tool-input-view.js","webpack:///./static/modes/cppcircle-mode.ts","webpack:///./static/main.js","webpack:///./static/load-save.js","webpack:///./static/simplecook.ts","webpack:///./static/ansi-to-html.ts","webpack:///./static/rison.js","webpack:///./static/modes/haskell-mode.ts","webpack:///./static/panes/ast-view.js","webpack:///./static/modes/clean-mode.ts","webpack:///./static/motd.js","webpack:///./static/modes/zig-mode.ts","webpack:///./static/toggles.js","webpack:///./static/formatter-registry.ts","webpack:///./static/settings.js","webpack:///./static/policies/privacy.html","webpack:///./static/monaco-config.ts","webpack:///./static/modes/fortran-mode.ts","webpack:///./static/sharing.ts","webpack:///./static/compiler-service.js","webpack:///./static/panes/device-view.js","webpack:///./static/panes/output.js","webpack:///./static/libs-widget-ext.js","webpack:///./static/modes/ptx-mode.ts","webpack:///./static/themes.js","webpack:///./static/panes/tree.ts","webpack:///./static/hub.js","webpack:///./static/panes/gccdump-view.js","webpack:///./static/url.ts","webpack:///./static/codelens-handler.ts","webpack:///./static/local.ts","webpack:///./static/components.js","webpack:///./static/panes/diff.js","webpack:///./static/alert.ts","webpack:///./static/panes/pane.ts","webpack:///./static/policies/cookies.html","webpack:///./static/line-colouring.ts","webpack:///./static/modes/asm6502-mode.ts","webpack:///./static/compiler-picker.js","webpack:///./static/modes/cuda-mode.ts","webpack:///./static/lib-utils.ts","webpack:///./static/panes/rustmir-view.ts","webpack:///./static/panes/ir-view.js","webpack:///./static/modes/cppx-gold-mode.ts","webpack:///./static/fontscale.js","webpack:///./static/modes/_all.js"],"names":["options","_","$","Promise","ga","Components","Libraries","CompilerPicker","utils","LibUtils","Conformance","hub","container","state","this","eventHub","createEventHub","compilerService","domRoot","getElement","html","editorId","editorid","maxCompilations","cvCompilerCountMax","langId","keys","languages","source","sourceNeedsExpanding","expandedSource","compilerPickers","currentLibs","status","allowCompile","allowAdd","stateByLang","initButtons","initLibraries","initCallbacks","initFromState","handleToolbarUI","proxy","hitType","eventCategory","eventAction","document","on","bind","e","which","libsButton","popover","elem","target","is","has","length","closest","getCompilerId","compilerEntry","picker","tomSelect","getValue","prototype","onLibsChanged","newLibs","libsWidget","get","saveState","compileAll","Widget","conformanceContentRoot","find","selectorList","addCompilerButton","selectorTemplate","topBar","hideable","unsubscribe","emit","close","resize","onEditorChange","onEditorClose","onLanguageChange","addCompilerPicker","getPaneName","setTitle","compilerCount","compilerText","config","compilerId","compileOptions","newSelector","clone","newCompilerEntry","parent","optionsField","statusIcon","prependOptions","onOptionsChange","debounce","compileChild","val","not","removeCompilerPicker","popCompilerButton","onCompilerChange","toggleClass","handleStatusIcon","code","compiler","findCompiler","setCompilationOptionsPopover","updateLibraries","getCompilerConfig","getCompilerWith","undefined","lastCompilerId","lastState","libs","layoutManager","createDragSource","click","findParentRowOrColumn","root","contentItems","addChild","append","push","element","content","template","reject","entry","id","remove","expandSource","expand","then","resolve","newSource","defer","self","handleCompileOutIcon","result","hasOutput","stdout","stderr","hasResultAnyOutput","handleOutputButtonTitle","onCompileResponse","compilationOptions","join","calculateStatusIcon","request","userArguments","filters","compilerOptions","produceAst","produceOptInfo","skipAsm","libraries","lang","files","each","item","name","version","ver","submit","x","catch","asm","error","prop","handleCompilationStatus","currentState","compilers","map","setState","topBarHeight","updateAndCalcTopBarHeight","outerHeight","height","getOverlappingLibraries","compilerIds","libUtils","first","forEach","filteredLibraries","getSupportedLibraries","libsArr","extend","libsInCommon","intersection","lib","libkey","includes","versionsInCommon","versions","pick","versionkey","omit","isEmpty","uniq","filter","setNewLangId","newLangId","oldLangId","langState","module","exports","monaco","def","defaultToken","escapes","registers","intelOperators","tokenizer","token","next","include","rest","bracket","comment","string","whitespace","register","setMonarchTokensProvider","colour","Toggles","FontScale","LruCache","Alert","bigInt","codeLensHandler","monacoConfig","TimingWidget","Settings","OpcodeCache","max","n","JSON","stringify","Compiler","nextCompilerId","sourceTreeId","tree","sourceEditorId","settings","getStoredSettings","originalCompilerId","initLangAndCompiler","infoByLang","deferCompiles","deferred","needsCompile","deviceViewOpen","currentLangId","assembly","colours","lastResult","lastTimeTaken","pendingRequestSentAt","pendingCMakeRequestSentAt","nextRequest","nextCMakeRequest","optViewOpen","flagsViewOpen","cfgViewOpen","wantOptInfo","decorations","prevDecorations","labelDefinitions","alertSystem","prefixMessage","awaitingInitialResults","selection","linkedFadeTimeoutId","toolsMenu","revealJumpStack","monacoDisassembly","outputEditor","editor","create","monacoPlaceholder","extendConfig","readOnly","language","glyphMargin","embedded","renderIndentGuides","vimInUse","fontScale","compilerPicker","initEditorActions","initEditorCommands","onSettingsChange","sendCompiler","updateCompilerInfo","updateButtons","compile","errorResult","text","fakeAsm","fake","getEditorIdBySourcefile","sourcefile","getTreeById","multifileService","getEditorIdByFilename","file","mainsource","processFromLangAndCompiler","unregister","dispose","initPanerButtons","outputConfig","getOutput","outputBtn","cloneComponent","type","componentName","componentState","createOptView","getOptViewWith","optOutput","getCompilerName","createFlagsView","getFlagsViewWith","createAstView","getAstViewWith","astOutput","createIrView","getIrViewWith","irOutput","createDeviceView","getDeviceViewWith","devices","createRustMirView","getRustMirViewWith","rustMirOutput","createRustMacroExpView","getRustMacroExpViewWith","rustMacroExpOutput","createGccDumpView","getGccDumpViewWith","gccDumpOutput","createGnatDebugView","getGnatDebugViewWith","gnatDebugOutput","createCfgView","getCfgViewWith","createExecutor","treeId","getLibsInUse","libId","versionId","getExecutorWith","panerDropdown","togglePannerAdder","dropdown","_dragListener","optButton","popularArgumentsMenu","flagsButton","astButton","irButton","deviceButton","rustMirButton","rustMacroExpButton","gccDumpButton","gnatDebugButton","cfgButton","executorButton","initToolButtons","undefer","bottomBarHeight","bottomBar","layout","width","getLabelAtPosition","position","asmLine","lineNumber","column","labels","i","range","startCol","endCol","jumpToLabel","label","labelDefLineNum","endLineContent","getModel","getLineContent","pushRevealJump","setSelection","Selection","revealLineInCenter","saveViewState","revealJumpStackHasElementsCtxKey","set","popAndRevealJump","restoreViewState","pop","isLabelCtxKey","createContextKey","isAsmKeywordCtxKey","addAction","keybindings","KeyMod","CtrlCmd","KeyCode","Enter","precondition","contextMenuGroupId","contextMenuOrder","run","ed","getPosition","contextmenu","getContribution","realMethod","_onContextMenu","currentWord","getWordAtPosition","Range","Math","startColumn","endColumn","word","isWordAsmKeyword","apply","arguments","Shift","F10","keybindingContext","desiredLine","line","F8","onAsmToolTip","F1","colouriseAsm","console","log","getEffectiveFilters","binary","supportsBinary","execute","supportsExecute","libraryCode","supportsLibraryCodeFilter","disabledFilters","findTools","tools","toolId","args","stdin","subcontent","getActiveTools","newToolSettings","isInitialised","toConfig","isToolActive","activetools","tool","bypassCache","newTools","compileInfoLabel","astViewOpen","produceGccDump","opened","gccDumpViewOpen","pass","gccDumpPassSelected","treeDump","treeDumpEnabled","rtlDump","rtlDumpEnabled","ipaDump","ipaDumpEnabled","dumpFlags","produceCfg","produceGnatDebug","gnatDebugViewOpen","produceIr","irViewOpen","produceDevice","produceRustMir","rustMirViewOpen","produceRustMacroExp","rustMacroExpViewOpen","compileFromTree","compileFromEditorSource","getMainSource","getFiles","treeState","cmakeProject","isACMakeProject","cmakeArgs","customOutputFilename","sendCMakeCompile","sendCompile","expanded","onCompilerResponse","onCMakeResponse","Date","now","progress","setTimeout","setAssembly","submitCMake","clearTimeout","localCacheHit","message","isString","stack","setNormalMargin","updateOptions","lineNumbers","lineNumbersMinChars","setBinaryMargin","getBinaryForLine","obj","address","toString","filteredCount","editorModel","msg","pluck","isOutputOpened","setValue","visibleRanges","getVisibleRanges","currentTopLine","startLineNumber","revealLine","revealLinesInCenter","endLineNumber","labelUsages","inlineClassName","hoverMessage","value","updateDecorations","codeLenses","opcodes","command","title","registerLensesForCompiler","currentAsmLang","getModeId","registerProviderForLanguage","doNextCompileRequest","doNextCMakeRequest","cached","timeTaken","wasRealReply","handleCompileRequestAndResult","eventLabel","eventValue","timingCategory","timingVar","timingValue","isArray","indexToDiscard","findLastIndex","splice","buildsteps","step","concat","outputTextCount","outputErrorCount","infoLabelText","asmSize","postCompilationResult","popularArguments","handlePopularArgumentsResult","requestPopularArguments","checkForUnwiseArguments","isEditorPartOfProject","compileOnChange","onCompilerFlagsChange","compilerFlags","onToolOpened","toolSettings","buttons","idx","button","toolButton","toolName","data","onToolClosed","supportsTool","onOutputOpened","resendResult","onOutputClosed","onOptViewClosed","onFlagsViewClosed","initialOptionsFieldPlacehoder","onAstViewOpened","onToolSettingsChange","onAstViewClosed","onIrViewOpened","onIrViewClosed","onDeviceViewOpened","onDeviceViewClosed","onRustMirViewOpened","onRustMirViewClosed","onGnatDebugViewOpened","onGnatDebugViewClosed","onRustMacroExpViewOpened","onRustMacroExpViewClosed","onGccDumpUIInit","onGccDumpFiltersChanged","reqCompile","addressOption","slim","slimOption","raw","rawOption","details","detailsOption","stats","statsOption","blocks","blocksOption","vops","vopsOption","lineno","linenoOption","uid","uidOption","all","allOption","onGccDumpPassSelected","passObject","onGccDumpViewOpened","onGccDumpViewClosed","supportsGccDump","onOptViewOpened","onFlagsViewOpened","onCfgViewOpened","onCfgViewClosed","initFilterButtons","filterBinaryButton","filterBinaryTitle","filterExecuteButton","filterExecuteTitle","filterLabelsButton","filterLabelsTitle","filterDirectivesButton","filterDirectivesTitle","filterLibraryCodeButton","filterLibraryCodeTitle","filterCommentsButton","filterCommentsTitle","filterTrimButton","filterTrimTitle","filterIntelButton","filterIntelTitle","filterDemangleButton","filterDemangleTitle","noBinaryFiltersButtons","oldFilter","patchOldFilters","compileClearCache","fullCompilerName","fullTimingInfo","toggle","shortCompilerName","setCompilerVersionPopover","fullVersion","statusLabel","isSupportedTool","initToolButton","createToolView","monacoStdin","langTools","getToolViewWith","empty","addTool","btn","addClass","enableToolButtons","activeTools","formatFilterTitle","hasClass","isIntelFilterDisabled","supportsIntel","supportsDemangle","noBinaryFiltersDisabled","supportsFiltersInBinary","indexOf","supportsOptOutput","supportsAstView","supportsIrView","supportsDeviceAsmView","supportsRustMirView","supportsRustMacroExpView","supportsCfg","supportsGnatDebugView","children","arg","key","argumentButton","createElement","attr","description","escape","curOptions","change","onFontScale","initListeners","onFilterChange","onTreeClose","onColours","onColoursForCompiler","onResendCompilation","onCompilerSetDecorations","onPanesLinkLine","onRequestCompilation","off","displayCompilationTiming","optionsChange","mouseMoveThrottledFunction","throttle","onMouseMove","cursorSelectionThrottledFunction","onDidChangeCursorSelection","mouseUpThrottledFunction","onMouseUp","cache","reset","optionsArray","unwiseOptions","opt","notify","group","collapseSimilar","updateCompilerName","notification","alertClass","dismissTime","updateCompilerUI","addState","scheme","asmColours","index","col","applyColours","getLanguageName","langName","compName","compilerName","compilerVersion","compilerFullVersion","compilerNotification","isEmptyObject","deltaDecorations","flatten","values","clearLinkedLines","linkedCode","colBegin","colEnd","sender","Number","lineNums","directlyLinkedLineNums","signalFromAnotherPane","fileEditorId","currentCol","lineClass","linkedLinesDecoration","isWholeLine","linesDecorationsClassName","className","directlyLinkedLinesDecoration","bodyContent","versionContent","hiddenSection","lines","split","hiddenVersionText","hide","clickToExpandContent","parseHTML","newSettings","before","lastHoverShowSource","hoverShowSource","useCustomContextMenu","minimap","enabled","showMinimap","fontFamily","editorsFFont","fontLigatures","editorsFLigatures","hexLike","hexLike2","decimalLike","getAsmInfo","opcode","instructionSet","cacheName","found","base","window","httpRoot","ajax","url","location","origin","dataType","contentType","success","event","ctrlKey","leftButton","hoverAsm","sourceLine","sourceColBegin","sourceColEnd","getLineCount","numericToolTip","match","exec","asBig","isNegative","and","toUpperCase","getNumericToolTip","response","asmToolTip","tooltip","isTrusted","getLineTokens","model","flavour","tokens","tokenize","some","t","offset","intel","pos","asmHelp","alert","appendInfo","focus","setPosition","rejection","encodeURIComponent","defaultCompiler","info","updateCompilersSelector","getCurrentLangCompilers","getCompilersForLang","update","keywords","typeKeywords","numbers","cases","types","statements","topBarHeightMax","topBarHeightMin","show","AnsiToHtml","Filter","makeAnsiToHtml","color","fg","bg","stream","escapeXML","Executor","contentRoot","nextExecutorId","executionArguments","execArgs","executionStdin","execStdin","normalAnsiToHtml","errorAnsiToHtml","compilerIsVisible","panelCompilation","panelArgs","panelStdin","outputContentRoot","compileTimeLabel","executeParameters","executorRequest","addCompilerOutputLine","lineNum","appendTo","preventDefault","clearPreviousOutput","executionStatusSection","compilerOutputSection","executionOutputSection","handleOutput","output","ansiParser","outElem","tag","columnNumber","toHtml","getBuildStdoutFromResult","arr","buildResult","getBuildStderrFromResult","getExecutionStdoutfromResult","execResult","getExecutionStderrfromResult","handleCompileRequestAndResponse","compileStdout","compileStderr","execStdout","execStderr","buildResultCode","didExecute","exitCode","timeLabelText","onResendExecutionResult","toggleWrapButton","execArgsField","execStdinField","wrapButton","wrapTitle","initToggleButtons","toggleCompilation","toggleArgs","toggleStdin","toggleCompilerOut","compilationPanelShown","hidePanel","argsPanelShown","showPanel","stdinPanelShown","compilerOutShown","wrap","removeClass","onToggleWrapChange","sendExecutor","panel","togglePanel","execArgsChange","onExecArgsChange","execStdinChange","onExecStdinChange","MutationObserver","observe","attributes","attributeFilter","newStdin","getLinkHint","css","ariaLabel","allCompilers","any","hidden","vis","TomSelect","Cfg","defaultCfgOutput","nodes","shape","edges","binaryModeSupport","savedPos","savedScale","scale","needsMove","currentFunc","selectedFn","functions","networkOpts","autoResize","locale","arrows","to","smooth","roundness","physics","font","face","align","hierarchical","direction","nodeSpacing","levelSeparation","hierarchicalRepulsion","nodeDistance","interaction","navigationButtons","navigation","keyboard","speed","y","zoom","bindToWindow","cfgVisualiser","Network","_editorid","_binaryFilter","pickerEl","querySelector","functionPicker","sortField","valueField","labelField","searchField","dropdownParent","plugins","onChange","showCfgResults","selectNodes","adaptStructure","names","onCompileResult","functionNames","cfg","Object","clearOptions","addOption","refreshOptions","clear","addItem","onCompiler","_compilerName","onFiltersChange","toggles","toggleNavigationButton","toggleNavigationTitle","togglePhysicsButton","togglePhysicsTitle","onCompilerClose","setOptions","formatButtonTitle","canvas","setSize","redraw","assignLevels","idToIdx","node","dagEdges","level","inCount","isEdgeValid","edge","from","dfs","targetIndex","markLevels","nodeA","nodeB","diff","min","setData","moveTo","animation","destroy","getEffectiveOptions","getViewPosition","getScale","History","HistoryDiffState","HistoryWidget","modal","diffEditor","lhs","rhs","currentList","sources","refresh","initializeIfNeeded","placeholder","createDiffEditor","scrollBeyondLastLine","createModel","setModel","original","modified","inline","renderSideBySide","resizeLayout","getLanguagesFromHistoryEntry","populateFromLocalStorage","sortedList","populate","dt","replace","load","onLoad","hideRadiosAndSetDiff","items","foundbase","foundcomp","li","comp","baseShouldBeVisible","compShouldBeVisible","itemRight","itemLeft","list","baseMarked","compMarked","tabcontent","showRustMacroExpResults","getInitialHTML","createEditor","editorRoot","registerOpeningAnalyticsEvent","compilerInfo","registerCallbacks","throttleFunction","hasRustMacroExpOutput","isAwaitingInitialResults","selectionStartLineNumber","Pane","RustMacroExp","operators","wordOperators","symbols","charEscapes","hexNumber","decNumber","octNumber","binNumber","exponent","brackets","tripleQuoteString","rawString","character","cppx_blue","cpp","cppp","setLanguageConfiguration","conf","tokenPostfix","unshift","JSZip","MultifileFile","FiledataPair","MultifileServiceState","isCMakeProject","compilerLanguageId","newFileId","validExtraFilenameExtensions","defaultLangIdUnknownExt","cmakeLangId","cmakeMainSourceFilename","maxFilesize","isHiddenFile","filename","isValidFilename","MultifileService","filenameExt","extname","extensions","isCMakeFile","basename","getLanguageIdFromFilename","possibleLang","loadProjectFromFile","f","callback","zipFilename","mainSourcefilename","getDefaultMainCMakeFilename","loadAsync","zip","relativePath","zipEntry","dir","removeFromName","properName","substring","async","fileId","isIncluded","isOpen","isMainSource","addFile","saveProjectToZipfile","forEachFile","getFileContents","generateAsync","blob","err","getState","getLanguageId","isCompatibleWithCMake","setLanguageId","setAsCMakeProject","yes","checkFileEditor","getEditorById","getSource","getFileByFileId","setAsMainSource","mainFileId","isValidFile","filterOutNonsense","filtered","contents","isMainSourceFile","endsWith","getDefaultMainSourceFilename","mainFile","getFileByEditorId","getMainSourceEditorId","addFileForEditorId","removeFileByFileId","excludeByFileId","includeByFileId","renameFile","includeByEditorId","forEachOpenFile","getSuggestedFilename","suggestedFilename","currentLanguage","fileExists","excludeFile","enterSomething","setFilename","no","yesClass","yesHtml","noClass","noHtml","renameFileByEditorId","keyword","removeKeywords","addKeywords","configElement","getElementById","getAttribute","staticRoot","extraOptions","parse","decodeURIComponent","compilerExplorerOptions","Sentry","statusTrackingEnabled","sentryDsn","init","dsn","release","environment","sentryEnvironment","hasBeenEnabled","isEnabled","initialise","s","o","r","a","m","googleAnalyticsEnabled","GoogleAnalyticsObject","q","l","getElementsByTagName","src","parentNode","insertBefore","googleAnalyticsAccount","cookieDomain","cookieFlags","doEnable","cppForOpenCL","vectorTypes","floatsuffix","definition","Chart","pushTimingInfo","time","datasets","steps","parseInt","addBuildResultToTimings","packageDownloadAndUnzipTime","downloads","timings","timing","concatTimings","execTime","compileResult","totalTime","chartDiv","fontColour","defaults","theme","ctx","getContext","legend","fontColor","fontSize","scales","xAxes","gridLines","ticks","beginAtZero","yAxes","displayData","borderWidth","barThickness","backgroundColor","retreivedFromCache","retreivedFromCacheTime","objdumpTime","parsingTime","stepsTotal","initializeChartDataFromResult","numsuffix","comments","lineComment","autoClosingPairs","open","surroundingPairs","indentationRules","increaseIndentPattern","decreaseIndentPattern","local","filterComponentState","Sharing","stringifiedHistory","getArrayWithJustTheCode","editorSources","stringifiedConfig","extractEditorSources","component","subsources","completeHistory","duplicateIdx","sourcesToCompareTo","difference","getSimilarSourcesIndex","shift","sorted","sort","b","sourcelist","trackHistory","debouncedPush","ispc","showGnatDebugResults","hasGnatDebugOutput","GnatDebug","loadSaveLib","monacoVim","loadSave","LoadSave","Editor","nextEditorId","ourCompilers","ourExecutors","widgetsByCompiler","asmByCompiler","defaultFileByCompiler","busyCompilers","treeCompilers","extraDecorations","fadeTimeoutId","editorSourceByLang","langKeys","initLanguage","legacyReadOnly","mobileViewer","setEOL","EndOfLineSequence","LF","setSource","updateEditorCode","getAction","useVim","enableVim","usableLanguages","compilersByLang","selectize","languageBtn","identity","lastChangeEmitted","updateTitle","updateState","onMotd","motd","updateExtraDecorations","decorationsDirty","decoration","toLowerCase","findNextMatch","regex","maybeEmitChange","force","updateSource","onNewSource","waitingForLanguage","defaultLanguage","newEditorLastLang","lastOpenedLangId","requestCompilation","onTreeCompilerEditorIncludeChange","onTreeCompilerEditorExcludeChange","onColoursForEditor","onCompilerOpen","onExecutorOpen","onCompiling","onSelectLine","onEditorSetDecoration","onEditorLinkLine","onConformanceViewOpen","onConformanceViewClose","sendEditor","onDidChangeContent","debouncedEmitChange","onDidFocusEditorText","onDidBlurEditorText","onDidChangeCursorPosition","onEscapeKey","onInsertKey","tryPanesLinkLine","currentCursorPosition","VimMode","Vim","maybeInitVimState_","vimMode","insertMode","exitInsertMode","visualMode","exitVisualMode","insertEvent","stopPropagation","browserEvent","defaultPrevented","keyCode","handleKeyDown","initVimMode","vimFlag","disableVim","loadSaveButton","paneAdderDropdown","addExecutorButton","conformanceViewerButton","addEditorButton","toggleVimButton","getCompiler","getExecutorConfig","getExecutor","getConformanceConfig","getConformanceView","getEditorConfig","getEditor","addPaneOpener","dragSource","dragConfig","initLoadSaver","metaKey","String","fromCharCode","enableCtrlStree","hasTree","trees","enableCtrlS","setMinimalOptions","onSaveToFile","showLoadSaver","thirdPartyIntegrationEnabled","cppInsightsButton","updateOpenInCppInsights","quickBenchButton","updateOpenInQuickBench","b64UTFEncode","str","btoa","v","asciiEncodeJsonText","json","chr","charCodeAt","substr","getCompilerStates","states","compilerIdStr","glCompiler","getComponentsByName","c","cppStd","link","cleanupSemVer","semver","semverStr","vercomps","quickBenchState","knownCompiler","compilerExtInfo","groupOrName","baseName","groupName","optim","cppVersion","changeLanguage","newLang","cmake","clearLinkedLine","thisLineNumber","reveal","selectedToken","getTokenSpan","asms","isCpp","isClean","searchOnCppreference","searchOnCloogle","addCommand","F9","KEY_D","preferredLanguage","getPreferredLanguageTag","langTag","navigator","primaryLanguageSubtagIdx","doesMatchEditor","otherSource","confirmOverwrite","ask","operation","getFullModelRange","forceMoveMarkers","viewState","pushUndoStop","pushEditOperations","cursorState","numberUsedLines","formatCurrentText","previousSource","hasOwnProperty","call","formatter","formatBase","exit","answer","xhr","e_status","responseText","wordWrap","wordWrapColumn","getLayoutInfo","viewportColumn","after","autoIndent","autoClosingBrackets","autoCloseBrackets","quickSuggestions","showQuickSuggestions","delayAfterChange","tabSize","tabWidth","insertSpaces","useSpaces","foundInTrees","defaultFile","sourcefilename","ordinal","k","updateColours","colourScheme","selected","executorId","unused","setModelMarkers","onExecutorClose","getAllOutputAndErrors","widgets","compact","severity","Infinity","span","tags","inputFilename","ch","lastOffset","lastWasString","startsWith","currentOffset","columnBegin","columnEnd","lastTokenSpan","keepSourcesOnLangChange","setModelLanguage","example","removeEditor","builtins","wordPattern","__electricCharacterSupport","tokenType","isElectric","__characterPairSupport","notIn","_currentPresentation","Presentation","maxSlides","currentSlide","originallocation","href","prev","hasUIBeenReset","reload","getCurrentSlide","setCurrentSlide","Opt","_currentDecorations","optEditor","_compilerid","isCompilerSupported","showOptResults","hasOptOutput","getCurrentEditorLanguage","getDisplayableOpt","optResult","optType","displayString","results","DebugLoc","groupBy","Line","mapObject","linenumber","reduce","acc","glyphMarginClassName","glyphMarginHoverMessage","nestingcomment","rawstring","blockComment","ceoptions","Tool","editorContentRoot","plainContentRoot","optionsToolbar","badLangToolbar","monacoEditorOpen","monacoEditorHasBeenAutoOpened","monacoStdinField","localStdinField","createToolInputView","getToolInputViewWith","initArgs","onToolInputChange","onToolInputViewClosed","openMonacoEditor","toggleUsable","isUsable","getInputArgs","input","getInputStdin","barsHeight","argsPanelShow","setLanguage","languageId","enableToggle","setTarget","foundTool","toolResult","toolInfo","stdinHint","setEditorContent","add","sourcechanged","newsource","setNormalContent","codeLens","codeLensProvider","standardTypes","delimiters","nc","openclc","Flags","getOptions","schemes","desc","count","themes","schemeName","previousDecorations","newDecorations","entries","realLineNumber","ToolInputView","_toolId","_toolName","_compilerId","shouldSetSelectionInitially","_toolid","onToolClose","onToolInputViewCloseRequest","onSetToolInput","getInput","ret","cppcircle","analytics","GoldenLayout","clipboard","Hub","themer","jsCookie","SimpleCook","presentation","simpleCooks","historyWidget","hasCookieConsented","policies","cookies","hash","isMobileViewer","calcLocaleChangedDate","policyModal","timestamp","toLocaleString","setupButtons","privacy","expires","sameSite","callDoConsent","callDontConsent","history","replaceState","done","fail","slides","findConfig","defaultConfig","showMaximiseIcon","showCloseIcon","hasHeaders","embeddedUrl","params","unrisonify","chain","object","getEditorWith","deserialiseState","configFromEmbedded","savedState","maximisedItemId","impl","removeOrphanedMaximisedItemFromConfig","fixBugsInConfig","activeItemIndex","search","start","RegExp","TypeError","currentUrl","URL","hostnameParts","hostname","subLangId","subdomainPart","langBySubdomain","alias","defaultLangId","cookieDomainRe","domain","showPopoutIcon","hashPart","captureException","sizeRoot","top","updateSize","shouldSave","defaultSettings","currentSettings","Themer","setSettings","subdomainLangId","setupSettings","addDropdown","setupAdd","thing","func","addInEditorStackIfPossible","addAtRoot","getDiff","getTree","trigger","ppolicyBellNotification","pprivacyBellNotification","pcookiesBellNotification","setOnDoConsent","setOnDontConsent","setOnHide","spolicyBellNotification","sprivacyBellNotification","scookiesBellNotification","storedCookieConsent","cpolicyBellNotification","cprivacyBellNotification","ccookiesBellNotification","initPolicies","motdUrl","enableCommunityAds","sendMotd","gitReleaseCommit","versionLink","hideEditorToolbars","onSponsorClick","sponsor","transport","pageloadUrl","visibleIcons","dataset","statsid","post","saveAs","getLocalFiles","editorText","extension","fetchBuiltins","onLocalFile","onSaveToBrowserStorage","getJSON","populateBuiltins","isVisible","doLoad","populateLocalStorage","populateLocalHistory","reader","FileReader","onload","readAsText","setLocalFile","fileEditor","fileLang","Blob","onDoConsent","onDontConsent","onHide","colors","newline","0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","red","green","blue","g","ref","j","len","toHexString","toColorHexString","setStyleColor","gray","num","generateOutput","pushText","_code","codeMap","resetStyles","pushTag","pushStyle","22","closeTag","23","24","39","pushForegroundColor","49","pushBackgroundColor","handleDisplay","slice","handleXterm256","stackClone","reverse","low","high","categoryForCode","style","last","opts","stickyStack","_input","_this","buf","ansiMatch","pattern","sub","g1","trim","res","process","handler","results1","outer","category","updateStickyStack","sq","enc","idrx","rison","uri_ok","hi","lo","test","not_idchar","not_idstart","id_ok","next_id","quote","toJSON","fn","array","number","isFinite","Array","__prototype__","encode_rison","ki","ks","encode","encode_object","Error","encode_array","encode_uri","decode","parser","decode_object","decode_array","errcb","errorHandler","WHITESPACE","readValue","table","lastIndex","parse_array","ar","bangs","charAt","segments","permittedSigns","transitions","builtintypes","Ast","astEditor","astCode","showAstResults","onColoursOnCompile","mediateDependentCalls","dependencyProxy","dependentProxy","hasAstOutput","getDisplayableAst","astResult","astType","fullText","astColours","hoverCode","singleNodeLines","astLine","contextLines","directlyLinkedLines","motdNode","adsEnabled","subLang","applicableAds","ads","ad","randomAd","random","handleMotd","EventEmitter","Togglesv2","$widget","$button","$checkbox","icon","updateDisplay","forcedState","isChecked","triggerHandler","prepend","_change","enable","widget","getFormattedCode","formatterId","fetch","method","credentials","headers","body","cause","statusText","getDocumentFormatter","isOneTrueStyle","provideDocumentFormattingEdits","onFormatError","formattedSource","provider","registerDocumentFormattingEditProvider","Setting","Control","param","control","Checkbox","Select","Slider","sliderSettings","Textbox","Numeric","getUi","putUi","settingsObjs","onUiChange","defaultValue","Type","colourSchemeSelect","toFixed","themeSelect","defaultThemeId","default","handleThemes","newTheme","newThemeStoredScheme","isStoredUsable","matchMedia","matches","dark","langs","defaultLanguageSelector","formats","format","DEFAULT_MONACO_CONFIG","fixedOverflowWidgets","maxColumn","folding","emptySelectionClipboard","overrides","ignoreCase","subroutines","unIndentedLinePattern","LinkType","cloneDeep","shareServices","twitter","embedValid","logoClass","cssClass","getLink","reddit","share","shareShort","shareFull","shareEmbed","clippyButton","openShareModalForType","Short","onStateChanged","onOpenModalPane","onCloseModalPane","ensureUrlIsNotOutdated","strippedToLast","pathname","lastIndexOf","serialiseState","bindToLinkType","Full","Embed","relatedTarget","currentBind","currentTarget","socialSharingElements","permalink","embedsettings","updatePermaLink","getLinks","newUrl","extra","storeCurrentConfig","sharingEnabled","updateShares","displayTooltip","clearSelection","shareShortCopyToClipBtn","shareFullCopyToClipBtn","shareEmbedCopyToClipBtn","onClipButtonPressed","protocol","isNavigatorClipboardAvailable","copyLinkTypeToClipboard","doLinkCopyToClipboard","where","placement","writeText","getShortLink","getEmbeddedHtml","useExternalShortener","urlShortenService","pushState","isReadOnly","getEmbeddedUrl","total","keysToRemove","filterComponentStateImpl","baseTemplate","service","serviceName","newElement","CompilerService","allowStoreCodeDebug","handleRequestError","textStatus","errorThrown","getDefaultCompilerForLang","foundCompiler","matchingCompilers","firstLang","getGroupsInUse","localeCompare","sensitivity","findCompilerInList","jsonRequest","doCache","cachedResult","bindHandler","partial","okToCache","usedOptions","presplit","includeFind","promises","lineNumZeroBased","getSelectizerOrder","field","doesCompilationResultHaveWarnings","lastSlashPos","compilerOut","asciiColorsRe","filterAsciiColors","DeviceAsm","deviceEditor","_editorId","selectedDevice","device","deviceCode","lastColours","lastColourScheme","changeDeviceEl","showDeviceAsmResults","onDeviceSelect","deviceNames","makeDeviceSelector","updateDeviceAsm","p","removeOption","irColours","irLine","Output","addOutputLines","setCompileStatus","programOutput","emitEditorLinkLine","goto","isCompiling","LibsWidgetExt","dropdownButton","onChangeCallback","possibleLibs","currentCompilerId","updateButton","availableLibs","updateAvailableLibs","markLibrary","fullRefresh","searchInput","startSearching","showSelectedLibs","showSelectedLibsAsSearchResults","showFavorites","selectedLibs","getFavorites","setFavorites","faves","isAFavorite","addToFavorites","removeFromFavorites","newFavoriteLibDiv","libDiv","cloneNode","quickSelectButton","selectLibAndVersion","favoritesDiv","versionArr","getLibInfoById","div","getAndEmptySearchResults","searchResults","newSelectedLibDiv","detailsButton","addSearchResult","conjureUpExamples","examples","examplesHeader","examplesList","exampleId","exampleLink","newSearchResult","faveButton","faveStar","noVersionSelectedOption","hasVisibleVersions","option","used","verId","library","card","lcSearchtext","descriptionSearchResults","autodetect","nolibsMessage","listUsedLibs","initLangDefaultLibs","defaultLibs","libPair","pairSplits","libsInUse","getVersionOrAlias","findKey","actualVersion","curver","curverId","libVer","assign","ptx","path","defineTheme","inherit","rules","foreground","fontStyle","initialSettings","currentTheme","setTheme","setProperty","TreeState","nextTreeId","rowTemplate","namedItems","unnamedItems","cmakeArgsInput","customOutputFilenameInput","lineColouring","LineColouring","initInputs","getCmakeArgs","getCustomOutputFilename","onEditorOpen","toggleCMakeButton","onToggleCMakeChange","updateCMakeArgs","updateCustomOutputFilename","isOn","sendCompilerChangesToEditor","sendCompileRequests","sendChangesToAllEditors","removeFile","addRowToTreelist","stageButton","unstageButton","renameButton","deleteButton","editFile","moveToInclude","moveToExclude","activateTabForContainer","getConfigForNewEditor","bindClickToOpenPane","getConfigForNewCompiler","getCompilerForTree","getConfigForNewExecutor","getExecutorForTree","getFormattedDateTime","d","datestring","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","triggerSaveAs","Tree","addFromAssembly","calculate","updateColoursNone","getColoursForCompiler","getColoursForEditor","mainbarHeight","argsHeight","outputfileHeight","innerHeight","removeTree","executor","toolInputView","optView","flagsView","astView","irView","deviceView","rustMirView","gnatDebugView","rustMacroExpView","gccDumpView","cfgView","conformanceView","Ids","editorIds","executorIds","treeIds","editors","deferredEmissions","registerComponent","codeEditorFactory","compilerFactory","treeFactory","executorFactory","outputFactory","toolFactory","getToolInputView","toolInputViewFactory","getComponent","diffFactory","getOptView","optViewFactory","getFlagsView","flagsViewFactory","getAstView","astViewFactory","getIrView","irViewFactory","getDeviceView","deviceViewFactory","getRustMirView","rustMirViewFactory","getGnatDebugView","gnatDebugViewFactory","getRustMacroExpView","rustMacroExpViewFactory","getGccDumpView","gccDumpViewFactory","getCfgView","cfgViewFactory","confomanceFactory","WrappedEventHub","subscriptions","compilerEmissions","nonCompilerEmissions","isClosable","editorObj","treeObj","Diff","Ir","RustMir","GccDump","context","evt","captureMessage","dependent","dependency","dependencyExecuted","lastDependentArgs","isRow","isColumn","findParentRowOrColumnOrStack","isStack","getTreesWithEditorId","getTrees","findEditorInChildren","child","editorFound","findEditorParentRowOrColumn","newElem","insertPoint","rootFirstItem","newRow","createContentItem","replaceChild","tab","header","setActiveContentItem","contentItem","gccDumpEditor","gccdump_picker","maxOptions","selectedPass","passType","selectedPassO","filename_suffix","command_prefix","uiIsReady","onUiNotReady","dumpFiltersButtons","dumpTreesButton","dumpTreesTitle","dumpRtlButton","dumpRtlTitle","dumpIpaButton","dumpIpaTitle","optionAddressButton","optionAddressTitle","optionSlimButton","optionSlimTitle","optionRawButton","optionRawTitle","optionDetailsButton","optionDetailsTitle","optionStatsButton","optionStatsTitle","optionBlocksButton","optionBlocksTitle","optionVopsButton","optionVopsTitle","optionLinenoButton","optionLinenoTitle","optionUidButton","optionUidTitle","optionAllButton","optionAllTitle","onPassSelect","disable","onUiReady","passId","inhibitPassSelect","updatePass","passes","syntaxHighlight","currOutput","currentPassOutput","showGccDumpResults","lzstring","convertOldState","sc","sourcez","decompressFromBase64","filterAsm","loadState","unminifyConfig","risonify","stateText","exception","z","ex","minifyConfig","uncompressed","compressed","compressToBase64","registeredCodelenses","providersPerLanguage","provide","lenses","without","registerCodeLensProvider","provideCodeLenses","prefix","localStoragePrefix","ifNotPresent","localStorage","getItem","setItem","removeItem","compilerArgs","optimization","deviceOutput","State","difftype","lhsdifftype","rhsdifftype","querySelectorAll","instance","render","classList","contains","getItemDisplayTitle","onDiffSelect","updateCompilerNames","updateCompilers","requestResendResult","lhsChanged","rhsChanged","onExecuteResult","onExecutor","onThemeChange","execId","maxLength","updateCompilersFor","yesHandler","noHandler","yesNoModal","onClose","question","askOptions","autoDismiss","fadeOut","yesButton","noButton","answerEdit","registerButtons","registerStandardCallbacks","registerEditorActions","getCurrentState","colouredSourceLinesByEditor","linesAndColourByCompiler","linesAndColourByEditor","asmLineIdx","compilerLine","colourIdx","getUniqueLinesForEditor","setColourBySourceline","editorIdStr","nextSelectorId","domNode","onCompilerFavoriteChange","lastLangId","isFunction","initialize","optgroupField","optgroups","getGroups","lockOptgroupOrder","closeAfterSelect","duplicates","extraClasses","$groups","dropdown_content","optionElement","clickedGroup","parentElement","isAddingNewFavorite","elemTop","offsetTop","updateOption","getOption","previousSmooth","scrollBehavior","scrollTop","favorites","cuda","copyAndFilterLibraries","allLibraries","filterLibAndVersion","filterLibIds","Set","copiedLibraries","libid","libcopy","versionid","supportedLibrariesArr","allLibs","showRustMirResults","hasRustMirOutput","irEditor","irCode","showIrResults","hasIrOutput","linkedLineDecorations","directlyLinkedLineDecorations","characters","fontSelectorOrEditor","oldScale","defaultFontScale","usePxUnits","fontUsePx","floor","buttonDropdown","onClickEvent","siblings","selectedId","originalEvent","deltaY","eq","makeFontSizeDropdown","isFontOfStr","setScale"],"mappings":"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A,SACA,UACA,MACA,YACA,aACA,MACA,eACA,UACA,OACA,QACA,MACA,OACA,UACA,UACA,MACA,SACA,SACA,MACA,OACA,OACA,MACA,MACA,MACA,MACA,SACA,SACA,WACA,WACA,WACA,OACA,OACA,OACA,OACA,UACA,UACA,WACA,WACA,aACA,cACA,KACA,KACA,KACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,YACA,UACA,OACA,OACA,OACA,OACA,OACA,OACA,cACA,cACA,WACA,eACA,iBACA,QACA,MACA,iBACA,eACA,gBACA,yBACA,YACA,qBACA,MACA,OACA,QACA,MACA,QACA,MACA,MACA,WACA,SACA,eACA,eACA,OACA,SACA,YACA,aACA,aACA,gBACA,UACA,UACA,WACA,SACA,SACA,SACA,YACA,YACA,WACA,cACA,cACA,MACA,eACA,qBACA,cACA,uBAGJC,aAAc,CACV,UAAW,SAAU,OAAQ,MAAO,QAAS,OAAQ,OAAQ,OAAQ,SAGzEsQ,UAAW,CACP,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAAM,KAAM,KAAM,KACrD,KAAM,KAAM,KAAM,KAAM,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3D,KAAM,KAAM,MAAO,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KACvD,KAAM,MAAO,MAAO,QAIxBE,QAAS,sBAGTh5B,QAAS,wEAGTG,UAAW,CACP9F,KAAM,CAEF,CAAC,gBAAiB,CACdquB,MAAO,CACH,gBAAiB,UACjB,YAAa,UACb,WAAY,gBAGpB,CAAC,cAAe,mBAGhB,CAACpoB,QAAS,eAGV,CAAC,YAAa,aACd,CAAC,mBAAoB,aACrB,CAAC,WAAY,CACTooB,MAAO,CACH,aAAc,WACd,WAAY,MAUpB,CAAC,0BAA2B,gBAC5B,CAAC,oBAAqB,cACtB,CAAC,MAAO,UAGR,CAAC,QAAS,aAGV,CAAC,kBAAmB,kBACpB,CAAC,IAAK,CAACtoB,MAAO,eAAgBI,QAAS,QAASH,KAAM,YAGtD,CAAC,WAAY,UACb,CAAC,mBAAoB,CAAC,SAAU,gBAAiB,WACj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UAChBnE,QAIXmkD,EAAIjhD,UAAU2O,iBAAmB,SAAU4e,GACvCzwB,KAAKqkD,UAAUzkC,cAAc,CACzBlG,YAAa+W,EAAYI,qBACzBC,QAAS,CACLC,QAASN,EAAYO,aAEzBC,WAAYR,EAAYS,aACxBC,cAAeV,EAAYW,qBAInC+yB,EAAIjhD,UAAU4pB,2BAA6B,SAAU3qB,GAC7CnC,KAAKwQ,yBACLxQ,KAAKyQ,UAAYtO,EAAEsO,UACnBzQ,KAAKi2C,gBAIb3pC,EAAOC,QAAU,CACb43C,IAAKA,I,mFClOT,IAAI33C,EAAS,EAAQ,QA6PrBA,EAAO3L,UAAU0M,SAAS,CAAC7F,GAAI,MAC/B8E,EAAO3L,UAAU2M,yBAAyB,IA3P/B,CACHd,aAAc,UAEdwoB,SAAU,CACN,WACA,QACA,QACA,MACA,SACA,OACA,OACA,OACA,QACA,OACA,OACA,OACA,QACA,UACA,OACA,SACA,OACA,QACA,QACA,WACA,QACA,QACA,QACA,UACA,WACA,UACA,aACA,KACA,SACA,OACA,OACA,SACA,SACA,QACA,QACA,UACA,QACA,MACA,UACA,kBACA,WACA,OACA,UACA,KACA,SACA,YACA,SACA,KACA,QACA,MACA,YACA,YACA,QACA,KACA,OACA,OACA,QACA,QACA,SACA,MACA,UACA,OACA,MACA,WACA,UACA,SACA,UACA,YACA,SACA,OACA,OACA,MACA,SACA,QACA,SACA,QACA,SACA,SACA,QACA,SACA,eACA,WACA,OACA,QACA,OACA,MACA,UACA,SACA,SACA,QACA,QACA,OACA,QACA,QACA,WACA,SACA,UACA,OACA,WACA,QACA,QACA,OACA,WACA,qBACA,aACA,WACA,eACA,sBACA,YACA,WACA,WACA,gBAEJC,aAAc,CACV,OAAQ,OAAQ,QAAS,QAAS,SAAU,MAAO,OAAQ,OAAQ,QAAS,OAAQ,QAAS,QAC7F,QAAS,SAAU,OAAQ,SAAU,UAAW,QAAS,SAAU,UAAW,QAAS,QAG3FsQ,UAAW,CACP,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC9B,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM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cACA,QACA,OACA,WACA,QACA,QACA,SACA,SACA,WACA,UACA,KACA,OACA,KACA,WACA,SACA,KACA,UACA,QACA,UACA,SACA,YACA,YACA,KACA,UACA,SACA,kBACA,OACA,SACA,UACA,OACA,OACA,WACA,WACA,MACA,YACA,OACA,QACA,UACA,YACA,QACA,UACA,YACA,UACA,YACA,SACA,OACA,OACA,OACA,YACA,SACA,SACA,SACA,OACA,SACA,WACA,OACA,YACA,aACA,SACA,OACA,KACA,OACA,MACA,QACA,WACA,OACA,QACA,QACA,SAGJC,aAAc,CACV,UACA,YACA,OACA,UACA,UACA,OACA,QAEA,SACA,YACA,cACA,YACA,UACA,UAGJsQ,UAAW,CACP,IACA,KACA,KACA,IACA,KACA,IACA,KACA,KACA,IACA,IACA,IACA,IACA,KACA,KACA,QACA,OACA,QACA,OACA,OACA,OACA,OACA,OACA,SACA,QACA,QAGJlJ,UAAW,CACP,MACA,QACA,OACA,QACA,UACA,UACA,QACA,OACA,MACA,YACA,QACA,MACA,OACA,QACA,aACA,OACA,QACA,QACA,YACA,YACA,YACA,YACA,YACA,YACA,MACA,MACA,WACA,MACA,MACA,QACA,eACA,WACA,QACA,WACA,UACA,OACA,QACA,yBACA,mBACA,mBACA,QACA,MACA,OACA,QACA,SACA,OACA,SACA,MACA,cACA,QACA,UACA,UACA,UACA,UACA,MACA,OACA,cACA,MACA,WACA,kBACA,UACA,QACA,WACA,QACA,OACA,QACA,SACA,OACA,OACA,OACA,QACA,QACA,QACA,QACA,aACA,iBACA,iBACA,cACA,iBACA,YACA,kBACA,WACA,YACA,aACA,0BACA,wBACA,wBACA,sBACA,oBACA,uBACA,mBACA,kBACA,mBACA,wBACA,oBACA,wBACA,iCACA,iBACA,aACA,OACA,cACA,QACA,MACA,MACA,UACA,QACA,SACA,gBACA,gBACA,gBACA,OACA,SACA,WACA,QACA,MACA,WACA,MACA,MACA,MACA,MACA,MACA,YACA,QACA,UACA,QACA,QACA,SACA,MACA,cACA,SACA,SACA,QACA,aACA,MACA,cACA,SACA,SACA,MACA,SACA,UACA,WACA,OACA,QACA,MACA,OACA,aACA,OACA,SACA,SACA,SACA,YACA,UACA,UACA,QACA,QACA,OACA,SACA,UACA,YACA,eACA,QACA,OACA,qBACA,oBACA,qBACA,eACA,QACA,SACA,SACA,SACA,OACA,MACA,OACA,OACA,UACA,SACA,OACA,eACA,MACA,MACA,OACA,aACA,OACA,SACA,WACA,YACA,OACA,SACA,WACA,SACA,UAGJujC,YAAa,CACT,cACA,kBACA,WACA,gBACA,uBACA,cACA,uBACA,2BACA,gBACA,wBACA,yBACA,kBACA,0BACA,gBACA,wBACA,yBACA,kBACA,0BACA,aACA,SACA,gBACA,cACA,gBAIJn6B,QAAS,sBACTh5B,QAAS,wEAGTG,UAAW,CACP9F,KAAM,CAEF,CAAC,oCAAqC,CAClCquB,MAAO,CACH,gBAAiB,kBACjB,YAAa,UACb,WAAY,gBAIpB,CAAC,iBAAkB,CACfA,MAAO,CACH,YAAa,UACb,aAAc,UACd,eAAgB,UAChB,WAAY,gBAKpB,CAAC,OAAQ,WAGT,CAACpoB,QAAS,eAGV,CAAC,YAAa,aACd,CAAC,mBAAoB,aACrB,CAAC,WAAY,CACTooB,MAAO,CACH,aAAc,WACd,WAAY,MAKpB,CAAC,4BAA6B,gBAC9B,CAAC,sCAAuC,cACxC,CAAC,0BAA2B,gBAC5B,CAAC,0BAA2B,iBAC5B,CAAC,KAAM,UAGP,CAAC,QAAS,aAGV,CAAC,kBAAmB,kBACpB,CAAC,IAAK,SAAU,WAGhB,CAAC,WAAY,UACb,CAAC,mBAAoB,CAAC,SAAU,gBAAiB,WACjD,CAAC,IAAK,mBAGV/nB,WAAY,CACR,CAAC,aAAc,UAGnBF,QAAS,CACL,CAAC,IAAK,YAGVC,OAAQ,CACJ,CAAC,UAAW,UACZ,CAAC,WAAY,iBACb,CAAC,MAAO,yBACR,CAAC,IAAK,SAAU,WA4ChCb,EAAO3L,UAAU0M,SAAS,CAAC7F,GAAI,YAC/B8E,EAAO3L,UAA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","file":"main.v4.e4b51ec9d998e84a7d2c.js","sourcesContent":["// Copyright (c) 2017, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\nvar options = require('../options').options;\nvar _ = require('underscore');\nvar $ = require('jquery');\nvar Promise = require('es6-promise').Promise;\nvar ga = require('../analytics').ga;\nvar Components = require('../components');\nvar Libraries = require('../libs-widget-ext');\nvar CompilerPicker = require('../compiler-picker').CompilerPicker;\nvar utils = require('../utils');\nvar LibUtils = require('../lib-utils').LibUtils;\n\nfunction Conformance(hub, container, state) {\n    this.hub = hub;\n    this.container = container;\n    this.eventHub = hub.createEventHub();\n    this.compilerService = hub.compilerService;\n    this.domRoot = container.getElement();\n    this.domRoot.html($('#conformance').html());\n    this.editorId = state.editorid;\n    this.maxCompilations = options.cvCompilerCountMax || 6;\n    this.langId = state.langId || _.keys(options.languages)[0];\n    this.source = state.source || '';\n    this.sourceNeedsExpanding = true;\n    this.expandedSource = null;\n    this.compilerPickers = [];\n    this.currentLibs = [];\n\n    this.status = {\n        allowCompile: false,\n        allowAdd: true,\n    };\n    this.stateByLang = {};\n\n    this.initButtons();\n    this.initLibraries(state);\n    this.initCallbacks();\n    this.initFromState(state);\n    this.handleToolbarUI();\n    ga.proxy('send', {\n        hitType: 'event',\n        eventCategory: 'OpenViewPane',\n        eventAction: 'Conformance',\n    });\n\n    // Dismiss the popover on escape.\n    $(document).on('keyup.editable', _.bind(function (e) {\n        if (e.which === 27) {\n            this.libsButton.popover('hide');\n        }\n    }, this));\n\n    // Dismiss on any click that isn't either in the opening element, inside\n    // the popover or on any alert\n    $(document).on('click', _.bind(function (e) {\n        var elem = this.libsButton;\n        var target = $(e.target);\n        if (!target.is(elem) && elem.has(target).length === 0 && target.closest('.popover').length === 0) {\n            elem.popover('hide');\n        }\n    }, this));\n}\n\nConformance.prototype.onLibsChanged = function () {\n    var newLibs = this.libsWidget.get();\n    if (newLibs !== this.currentLibs) {\n        this.currentLibs = newLibs;\n        this.saveState();\n        this.compileAll();\n    }\n};\n\nConformance.prototype.initLibraries = function (state) {\n    this.libsWidget = new Libraries.Widget(this.langId, null, this.libsButton, state, _.bind(this.onLibsChanged, this));\n    // No callback is done on initialization, so make sure we store the current libs\n    this.currentLibs = this.libsWidget.get();\n};\n\nConformance.prototype.initButtons = function () {\n    this.conformanceContentRoot = this.domRoot.find('.conformance-wrapper');\n    this.selectorList = this.domRoot.find('.compiler-list');\n    this.addCompilerButton = this.domRoot.find('.add-compiler');\n    this.selectorTemplate = $('#compiler-selector').find('.form-row');\n    this.topBar = this.domRoot.find('.top-bar');\n    this.libsButton = this.topBar.find('.show-libs');\n    this.hideable = this.domRoot.find('.hideable');\n};\n\nConformance.prototype.initCallbacks = function () {\n    this.container.on('destroy', function () {\n        this.eventHub.unsubscribe();\n        this.eventHub.emit('conformanceViewClose', this.editorId);\n    }, this);\n\n    this.container.on('destroy', this.close, this);\n    this.container.on('open', function () {\n        this.eventHub.emit('conformanceViewOpen', this.editorId);\n    }, this);\n\n    this.container.on('resize', this.resize, this);\n    this.container.on('shown', this.resize, this);\n    this.eventHub.on('resize', this.resize, this);\n    this.eventHub.on('editorChange', this.onEditorChange, this);\n    this.eventHub.on('editorClose', this.onEditorClose, this);\n    this.eventHub.on('languageChange', this.onLanguageChange, this);\n\n    this.addCompilerButton.on('click', _.bind(function () {\n        this.addCompilerPicker();\n        this.saveState();\n    }, this));\n};\n\nConformance.prototype.getPaneName = function () {\n    return 'Conformance Viewer (Editor #' + this.editorId + ')';\n};\n\nConformance.prototype.setTitle = function (compilerCount) {\n    var compilerText = '';\n    if (compilerCount !== 0) {\n        compilerText = ' ' + compilerCount + '/' + this.maxCompilations;\n    }\n    this.container.setTitle(this.getPaneName() + compilerText);\n};\n\nConformance.prototype.addCompilerPicker = function (config) {\n    if (!config) {\n        config = {\n            // Compiler id which is being used\n            compilerId: '',\n            // Options which are in use\n            options: options.compileOptions[this.langId],\n        };\n    }\n    var newSelector = this.selectorTemplate.clone();\n    var newCompilerEntry = {\n        parent: newSelector,\n        picker: null,\n        optionsField: null,\n        statusIcon: null,\n        prependOptions: null,\n    };\n\n    var onOptionsChange = _.debounce(_.bind(function () {\n        this.saveState();\n        this.compileChild(newCompilerEntry);\n    }, this), 800);\n\n    newCompilerEntry.optionsField = newSelector.find('.conformance-options')\n        .val(config.options)\n        .on('change', onOptionsChange)\n        .on('keyup', onOptionsChange);\n\n    newSelector.find('.close').not('.extract-compiler')\n        .on('click', _.bind(function () {\n            this.removeCompilerPicker(newCompilerEntry);\n        }, this));\n\n    newCompilerEntry.statusIcon = newSelector.find('.status-icon');\n    newCompilerEntry.prependOptions = newSelector.find('.prepend-options');\n    var popCompilerButton = newSelector.find('.extract-compiler');\n\n    var onCompilerChange = _.bind(function (compilerId) {\n        popCompilerButton.toggleClass('d-none', !compilerId);\n        this.saveState();\n        // Hide the results icon when a new compiler is selected\n        this.handleStatusIcon(newCompilerEntry.statusIcon, {code: 0});\n        var compiler = this.compilerService.findCompiler(this.langId, compilerId);\n        if (compiler) this.setCompilationOptionsPopover(newCompilerEntry.prependOptions, compiler.options);\n        this.updateLibraries();\n        this.compileChild(newCompilerEntry);\n    }, this);\n\n    newCompilerEntry.picker = new CompilerPicker(\n        $(newSelector[0]), this.hub, this.langId,\n        config.compilerId, _.bind(onCompilerChange, this)\n    );\n\n    var getCompilerConfig = _.bind(function () {\n        return Components.getCompilerWith(\n            this.editorId, undefined, newCompilerEntry.optionsField.val(),\n            newCompilerEntry.picker.lastCompilerId, this.langId, this.lastState.libs\n        );\n    }, this);\n\n    this.container.layoutManager.createDragSource(popCompilerButton, getCompilerConfig);\n\n    popCompilerButton.click(_.bind(function () {\n        var insertPoint = this.hub.findParentRowOrColumn(this.container) ||\n            this.container.layoutManager.root.contentItems[0];\n        insertPoint.addChild(getCompilerConfig);\n    }, this));\n\n    this.selectorList.append(newSelector);\n    this.compilerPickers.push(newCompilerEntry);\n\n    this.handleToolbarUI();\n};\n\nConformance.prototype.setCompilationOptionsPopover = function (element, content) {\n    element.popover('dispose');\n    element.popover({\n        content: content || 'No options in use',\n        template: '<div class=\"popover' +\n            (content ? ' compiler-options-popover' : '') +\n            '\" role=\"tooltip\"><div class=\"arrow\"></div>' +\n            '<h3 class=\"popover-header\"></h3><div class=\"popover-body\"></div></div>',\n    });\n};\n\nConformance.prototype.removeCompilerPicker = function (compilerEntry) {\n    this.compilerPickers = _.reject(this.compilerPickers, function (entry) {\n        return compilerEntry.picker.id === entry.picker.id;\n    });\n    compilerEntry.picker.tomSelect.close();\n    compilerEntry.parent.remove();\n\n    this.updateLibraries();\n    this.handleToolbarUI();\n    this.saveState();\n};\n\nConformance.prototype.expandSource = function () {\n    if (this.sourceNeedsExpanding || !this.expandedSource) {\n        return this.compilerService.expand(this.source).then(_.bind(function (expandedSource) {\n            this.expandedSource = expandedSource;\n            this.sourceNeedsExpanding = false;\n            return expandedSource;\n        }, this));\n    }\n    return Promise.resolve(this.expandedSource);\n};\n\nConformance.prototype.onEditorChange = function (editorId, newSource, langId) {\n    if (editorId === this.editorId) {\n        this.langId = langId;\n        this.source = newSource;\n        this.sourceNeedsExpanding = true;\n        this.compileAll();\n    }\n};\n\nConformance.prototype.onEditorClose = function (editorId) {\n    if (editorId === this.editorId) {\n        this.close();\n        _.defer(function (self) {\n            self.container.close();\n        }, this);\n    }\n};\n\nfunction hasResultAnyOutput(result) {\n    return (result.stdout || []).length > 0 || (result.stderr || []).length > 0;\n}\n\nConformance.prototype.handleCompileOutIcon = function (element, result) {\n    var hasOutput = hasResultAnyOutput(result);\n    element.toggleClass('d-none', !hasOutput);\n    if (hasOutput) {\n        this.compilerService.handleOutputButtonTitle(element, result);\n    }\n};\n\nConformance.prototype.onCompileResponse = function (compilerEntry, result) {\n    var compilationOptions = '';\n    if (result.compilationOptions) {\n        compilationOptions = result.compilationOptions.join(' ');\n    }\n\n    this.setCompilationOptionsPopover(compilerEntry.prependOptions, compilationOptions);\n\n    this.handleCompileOutIcon(compilerEntry.parent.find('.compiler-out'), result);\n\n    this.handleStatusIcon(compilerEntry.statusIcon, this.compilerService.calculateStatusIcon(result));\n    this.saveState();\n};\n\nfunction getCompilerId(compilerEntry) {\n    if (compilerEntry && compilerEntry.picker && compilerEntry.picker.tomSelect) {\n        return compilerEntry.picker.tomSelect.getValue();\n    }\n    return '';\n}\n\nConformance.prototype.compileChild = function (compilerEntry) {\n    var compilerId = getCompilerId(compilerEntry);\n    if (compilerId === '') return;\n    // Hide previous status icons\n    this.handleStatusIcon(compilerEntry.statusIcon, {code: 4});\n\n    this.expandSource().then(_.bind(function (expandedSource) {\n        var request = {\n            source: expandedSource,\n            compiler: compilerId,\n            options: {\n                userArguments: compilerEntry.optionsField.val() || '',\n                filters: {},\n                compilerOptions: {produceAst: false, produceOptInfo: false, skipAsm: true},\n                libraries: [],\n            },\n            lang: this.langId,\n            files: [],\n        };\n\n        _.each(this.currentLibs, function (item) {\n            request.options.libraries.push({\n                id: item.name,\n                version: item.ver,\n            });\n        });\n\n        // This error function ensures that the user will know we had a problem (As we don't save asm)\n        this.compilerService.submit(request)\n            .then(_.bind(function (x) {\n                this.onCompileResponse(compilerEntry, x.result);\n            }, this))\n            .catch(_.bind(function (x) {\n                this.onCompileResponse(compilerEntry, {\n                    asm: '',\n                    code: -1,\n                    stdout: '',\n                    stderr: x.error,\n                });\n            }, this));\n    }, this));\n};\n\nConformance.prototype.compileAll = function () {\n    _.each(this.compilerPickers, _.bind(function (compilerEntry) {\n        this.compileChild(compilerEntry);\n    }, this));\n};\n\nConformance.prototype.handleToolbarUI = function () {\n    var compilerCount = this.compilerPickers.length;\n\n    // Only allow new compilers if we allow for more\n    this.addCompilerButton.prop('disabled', compilerCount >= this.maxCompilations);\n\n    this.setTitle(compilerCount);\n};\n\nConformance.prototype.handleStatusIcon = function (statusIcon, status) {\n    this.compilerService.handleCompilationStatus(null, statusIcon, status);\n};\n\nConformance.prototype.currentState = function () {\n    var compilers = _.map(this.compilerPickers, function (compilerEntry) {\n        return {\n            compilerId: getCompilerId(compilerEntry),\n            options: compilerEntry.optionsField.val() || '',\n        };\n    });\n    return {\n        editorid: this.editorId,\n        langId: this.langId,\n        compilers: compilers,\n        libs: this.currentLibs,\n    };\n};\n\nConformance.prototype.saveState = function () {\n    this.lastState = this.currentState();\n    this.container.setState(this.lastState);\n};\n\nConformance.prototype.resize = function () {\n    // The pane becomes unusable long before this hides the icons\n    // Added either way just in case we ever add more icons to this pane\n    var topBarHeight = utils.updateAndCalcTopBarHeight(this.domRoot, this.topBar, this.hideable);\n    this.conformanceContentRoot.outerHeight(this.domRoot.height() - topBarHeight);\n};\n\nConformance.prototype.getOverlappingLibraries = function (compilerIds) {\n    var compilers = _.map(compilerIds, _.bind(function (compilerId) {\n        return this.compilerService.findCompiler(this.langId, compilerId);\n    }, this));\n\n    var libUtils = new LibUtils();\n\n    var langId = this.langId;\n\n    var libraries = {};\n    var first = true;\n    _.forEach(compilers, function (compiler) {\n        if (compiler) {\n            var filteredLibraries = libUtils.getSupportedLibraries(compiler.libsArr, langId);\n\n            if (first) {\n                libraries = _.extend({}, filteredLibraries);\n                first = false;\n            } else {\n                var libsInCommon = _.intersection(_.keys(libraries),\n                    _.keys(filteredLibraries));\n\n                _.forEach(libraries, function (lib, libkey) {\n                    if (libsInCommon.includes(libkey)) {\n                        var versionsInCommon = _.intersection(_.keys(lib.versions),\n                            _.keys(filteredLibraries[libkey].versions));\n\n                        libraries[libkey].versions = _.pick(lib.versions,\n                            function (version, versionkey) {\n                                return versionsInCommon.includes(versionkey);\n                            });\n                    } else {\n                        libraries[libkey] = false;\n                    }\n                });\n\n                libraries = _.omit(libraries, function (lib) {\n                    return !lib || _.isEmpty(lib.versions);\n                });\n            }\n        }\n    });\n\n    return libraries;\n};\n\nConformance.prototype.updateLibraries = function () {\n    var compilerIds = _.uniq(\n        _.filter(\n            _.map(this.compilerPickers, function (compilerEntry) {\n                return getCompilerId(compilerEntry);\n            })\n            , function (compilerId) {\n                return compilerId !== '';\n            })\n    );\n\n    var libraries = this.getOverlappingLibraries(compilerIds);\n\n    this.libsWidget.setNewLangId(this.langId, compilerIds.join('|'), libraries);\n};\n\nConformance.prototype.onLanguageChange = function (editorId, newLangId) {\n    if (editorId === this.editorId && this.langId !== newLangId) {\n        var oldLangId = this.langId;\n        this.stateByLang[oldLangId] = this.currentState();\n\n        this.langId = newLangId;\n        _.each(this.compilerPickers, function (compilerEntry) {\n            compilerEntry.picker.tomSelect.close();\n            compilerEntry.parent.remove();\n        });\n        this.compilerPickers = [];\n        var langState = this.stateByLang[newLangId];\n        this.initFromState(langState);\n        this.updateLibraries();\n        this.handleToolbarUI();\n        this.saveState();\n    }\n};\n\nConformance.prototype.close = function () {\n    this.eventHub.unsubscribe();\n    _.each(this.compilerPickers, function (compilerEntry) {\n        compilerEntry.picker.tomSelect.close();\n        compilerEntry.parent.remove();\n    });\n    this.eventHub.emit('conformanceViewClose', this.editorId);\n};\n\nConformance.prototype.initFromState = function (state) {\n    if (state && state.compilers) {\n        this.lastState = state;\n        _.each(state.compilers, _.bind(this.addCompilerPicker, this));\n    } else {\n        this.lastState = this.currentState();\n    }\n};\n\nmodule.exports = {\n    Conformance: Conformance,\n};\n","// Copyright (c) 2012, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar monaco = require('monaco-editor');\n\nfunction definition() {\n    return {\n        // Set defaultToken to invalid to see what you do not tokenize yet\n        defaultToken: 'invalid',\n\n        // C# style strings\n        escapes: /\\\\(?:[abfnrtv\\\\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,\n\n        registers: /%?\\b(r[0-9]+[dbw]?|([er]?([abcd][xhl]|cs|fs|ds|ss|sp|bp|ip|sil?|dil?))|[xyz]mm[0-9]+|sp|fp|lr)\\b/,\n\n        intelOperators: /PTR|(D|Q|[XYZ]MM)?WORD/,\n\n        tokenizer: {\n            root: [\n                // Error document\n                [/^<.*>$/, {token: 'annotation'}],\n                // Label definition\n                [/^[.a-zA-Z0-9_$?@].*:/, {token: 'type.identifier'}],\n                // Label definition (quoted)\n                [/^\"([^\"\\\\]|\\\\.)*\":/, {token: 'type.identifier'}],\n                // Label definition (ARM style)\n                [/^\\s*[|][^|]*[|]/, {token: 'type.identifier'}],\n                // Label definition (CL style)\n                [/^\\s*[.a-zA-Z0-9_$|]*\\s+(PROC|ENDP|DB|DD)/, {token: 'type.identifier'}],\n                // Constant definition\n                [/^[.a-zA-Z0-9_$?@][^=]*=/, {token: 'type.identifier'}],\n                // opcode\n                [/[.a-zA-Z_][.a-zA-Z_0-9]*/, {token: 'keyword', next: '@rest'}],\n                // braces and parentheses at the start of the line (e.g. nvcc output)\n                [/[(){}]/, {token: 'operator', next: '@rest'}],\n\n                // whitespace\n                {include: '@whitespace'},\n            ],\n\n            rest: [\n                // pop at the beginning of the next line and rematch\n                [/^.*$/, {token: '@rematch', next: '@pop'}],\n\n                [/@registers/, 'variable.predefined'],\n                [/@intelOperators/, 'annotation'],\n                // brackets\n                [/[{}<>()[\\]]/, '@brackets'],\n\n                // ARM-style label reference\n                [/[|][^|]*[|]*/, 'type.identifier'],\n\n                // numbers\n                [/\\d*\\.\\d+([eE][-+]?\\d+)?/, 'number.float'],\n                [/([$]|0[xX])[0-9a-fA-F]+/, 'number.hex'],\n                [/\\d+/, 'number'],\n                // ARM-style immediate numbers (which otherwise look like comments)\n                [/#-?\\d+/, 'number'],\n\n                // operators\n                [/[-+,*/!:&{}()]/, 'operator'],\n\n                // strings\n                [/\"([^\"\\\\]|\\\\.)*$/, 'string.invalid'],  // non-terminated string\n                [/\"/, {token: 'string.quote', bracket: '@open', next: '@string'}],\n\n                // characters\n                [/'[^\\\\']'/, 'string'],\n                [/(')(@escapes)(')/, ['string', 'string.escape', 'string']],\n                [/'/, 'string.invalid'],\n\n                // Assume anything else is a label reference\n                [/%?[.?_$a-zA-Z@][.?_$a-zA-Z0-9@]*/, 'type.identifier'],\n\n                // whitespace\n                {include: '@whitespace'},\n            ],\n\n            comment: [\n                [/[^/*]+/, 'comment'],\n                [/\\/\\*/, 'comment', '@push'],    // nested comment\n                ['\\\\*/', 'comment', '@pop'],\n                [/[/*]/, 'comment'],\n            ],\n\n            string: [\n                [/[^\\\\\"]+/, 'string'],\n                [/@escapes/, 'string.escape'],\n                [/\\\\./, 'string.escape.invalid'],\n                [/\"/, {token: 'string.quote', bracket: '@close', next: '@pop'}],\n            ],\n\n            whitespace: [\n                [/[ \\t\\r\\n]+/, 'white'],\n                [/\\/\\*/, 'comment', '@comment'],\n                [/\\/\\/.*$/, 'comment'],\n                [/[#;\\\\@].*$/, 'comment'],\n            ],\n        },\n    };\n}\n\nvar def = definition();\nmonaco.languages.register({id: 'asm'});\nmonaco.languages.setMonarchTokensProvider('asm', def);\n\nexport = def;\n","// Copyright (c) 2012, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar ga = require('../analytics').ga;\nvar colour = require('../colour');\nvar Toggles = require('../toggles').Toggles;\nvar FontScale = require('../fontscale').FontScale;\nvar Promise = require('es6-promise').Promise;\nvar Components = require('../components');\nvar LruCache = require('lru-cache');\nvar options = require('../options').options;\nvar monaco = require('monaco-editor');\nvar Alert = require('../alert').Alert;\nvar bigInt = require('big-integer');\nvar Libraries = require('../libs-widget-ext');\nvar codeLensHandler = require('../codelens-handler');\nvar monacoConfig = require('../monaco-config');\nvar TimingWidget = require('../timing-info-widget');\nvar CompilerPicker = require('../compiler-picker').CompilerPicker;\nvar Settings = require('../settings');\nvar utils = require('../utils');\nvar LibUtils = require('../lib-utils').LibUtils;\n\nrequire('../modes/asm-mode');\nrequire('../modes/asmruby-mode');\nrequire('../modes/ptx-mode');\n\nvar OpcodeCache = new LruCache({\n    max: 64 * 1024,\n    length: function (n) {\n        return JSON.stringify(n).length;\n    },\n});\n\nfunction patchOldFilters(filters) {\n    if (filters === undefined) return undefined;\n    // Filters are of the form {filter: true|false ...}. In older versions, we used\n    // to suppress the {filter:false} form. This means we can't distinguish between\n    // \"filter not on\" and \"filter not present\". In the latter case we want to default\n    // the filter. In the former case we want the filter off. Filters now don't suppress\n    // but there are plenty of permalinks out there with no filters set at all. Here\n    // we manually set any missing filters to 'false' to recover the old behaviour of\n    // \"if it's not here, it's off\".\n    _.each(['binary', 'labels', 'directives', 'commentOnly', 'trim', 'intel'], function (oldFilter) {\n        if (filters[oldFilter] === undefined) filters[oldFilter] = false;\n    });\n    return filters;\n}\n\nvar languages = options.languages;\n\n// Disable max line count only for the constructor. Turns out, it needs to do quite a lot of things\n// eslint-disable-next-line max-statements\nfunction Compiler(hub, container, state) {\n    this.container = container;\n    this.hub = hub;\n    this.eventHub = hub.createEventHub();\n    this.compilerService = hub.compilerService;\n    this.domRoot = container.getElement();\n    this.domRoot.html($('#compiler').html());\n    this.id = state.id || hub.nextCompilerId();\n    this.sourceTreeId = state.tree ? state.tree : false;\n    if (this.sourceTreeId) {\n        this.sourceEditorId = false;\n    } else {\n        this.sourceEditorId = state.source || 1;\n    }\n    this.settings = Settings.getStoredSettings();\n    this.originalCompilerId = state.compiler;\n    this.initLangAndCompiler(state);\n    this.infoByLang = {};\n    this.deferCompiles = hub.deferred;\n    this.needsCompile = false;\n    this.deviceViewOpen = false;\n    this.options = state.options || options.compileOptions[this.currentLangId];\n    this.source = '';\n    this.assembly = [];\n    this.colours = [];\n    this.lastResult = {};\n    this.lastTimeTaken = 0;\n    this.pendingRequestSentAt = 0;\n    this.pendingCMakeRequestSentAt = 0;\n    this.nextRequest = null;\n    this.nextCMakeRequest = null;\n    this.optViewOpen = false;\n    this.flagsViewOpen = state.flagsViewOpen || false;\n    this.cfgViewOpen = false;\n    this.wantOptInfo = state.wantOptInfo;\n    this.decorations = {};\n    this.prevDecorations = [];\n    this.labelDefinitions = {};\n    this.alertSystem = new Alert();\n    this.alertSystem.prefixMessage = 'Compiler #' + this.id + ': ';\n\n    this.awaitingInitialResults = false;\n    this.selection = state.selection;\n\n    this.linkedFadeTimeoutId = -1;\n    this.toolsMenu = null;\n\n    this.revealJumpStack = [];\n\n    this.initButtons(state);\n\n    var monacoDisassembly = 'asm';\n    if (languages[this.currentLangId] && languages[this.currentLangId].monacoDisassembly) {\n        // TODO: If languages[this.currentLangId] is not valid, something went wrong. Find out what\n        monacoDisassembly = languages[this.currentLangId].monacoDisassembly;\n    }\n\n    this.outputEditor = monaco.editor.create(this.monacoPlaceholder[0], monacoConfig.extendConfig({\n        readOnly: true,\n        language: monacoDisassembly,\n        glyphMargin: !options.embedded,\n        renderIndentGuides: false,\n        vimInUse: false,\n    }, this.settings));\n\n    this.fontScale = new FontScale(this.domRoot, state, this.outputEditor);\n    this.compilerPicker = new CompilerPicker(\n        this.domRoot,\n        this.hub,\n        this.currentLangId,\n        this.compiler ? this.compiler.id : null,\n        _.bind(this.onCompilerChange, this)\n    );\n\n    this.initLibraries(state);\n\n    this.initEditorActions();\n    this.initEditorCommands();\n\n    this.initCallbacks();\n    // Handle initial settings\n    this.onSettingsChange(this.settings);\n    this.sendCompiler();\n    this.updateCompilerInfo();\n    this.updateButtons();\n    this.saveState();\n    ga.proxy('send', {\n        hitType: 'event',\n        eventCategory: 'OpenViewPane',\n        eventAction: 'Compiler',\n    });\n\n    if (this.sourceTreeId) {\n        this.compile();\n    }\n}\n\nCompiler.prototype.getEditorIdBySourcefile = function (sourcefile) {\n    if (this.sourceTreeId) {\n        var tree = this.hub.getTreeById(this.sourceTreeId);\n        if (tree) {\n            return tree.multifileService.getEditorIdByFilename(sourcefile.file);\n        }\n    } else {\n        if (sourcefile !== null && (sourcefile.file === null || sourcefile.mainsource)) {\n            return this.sourceEditorId;\n        }\n    }\n\n    return false;\n};\n\nCompiler.prototype.initLangAndCompiler = function (state) {\n    var langId = state.lang;\n    var compilerId = state.compiler;\n    var result = this.compilerService.processFromLangAndCompiler(langId, compilerId);\n    this.compiler = result.compiler;\n    this.currentLangId = result.langId;\n    this.updateLibraries();\n};\n\nCompiler.prototype.close = function () {\n    codeLensHandler.unregister(this.id);\n    this.eventHub.unsubscribe();\n    this.eventHub.emit('compilerClose', this.id);\n    this.outputEditor.dispose();\n};\n\nCompiler.prototype.initPanerButtons = function () {\n    var outputConfig = _.bind(function () {\n        return Components.getOutput(this.id, this.sourceEditorId, this.sourceTreeId);\n    }, this);\n\n    this.container.layoutManager.createDragSource(this.outputBtn, outputConfig);\n    this.outputBtn.click(_.bind(function () {\n        var insertPoint = this.hub.findParentRowOrColumn(this.container) ||\n            this.container.layoutManager.root.contentItems[0];\n        insertPoint.addChild(outputConfig);\n    }, this));\n\n    var cloneComponent = _.bind(function () {\n        var currentState = this.currentState();\n        // Delete the saved id to force a new one\n        delete currentState.id;\n        return {\n            type: 'component',\n            componentName: 'compiler',\n            componentState: currentState,\n        };\n    }, this);\n    var createOptView = _.bind(function () {\n        return Components.getOptViewWith(this.id, this.source, this.lastResult.optOutput, this.getCompilerName(),\n            this.sourceEditorId);\n    }, this);\n\n    var createFlagsView = _.bind(function () {\n        return Components.getFlagsViewWith(this.id, this.getCompilerName(), this.optionsField.val());\n    }, this);\n\n    if (this.flagsViewOpen) {\n        createFlagsView();\n    }\n\n    var createAstView = _.bind(function () {\n        return Components.getAstViewWith(this.id, this.source, this.lastResult.astOutput, this.getCompilerName(),\n            this.sourceEditorId);\n    }, this);\n\n    var createIrView = _.bind(function () {\n        return Components.getIrViewWith(this.id, this.source, this.lastResult.irOutput, this.getCompilerName(),\n            this.sourceEditorId);\n    }, this);\n\n    var createDeviceView = _.bind(function () {\n        return Components.getDeviceViewWith(this.id, this.source, this.lastResult.devices, this.getCompilerName(),\n            this.sourceEditorId);\n    }, this);\n\n    var createRustMirView = _.bind(function () {\n        return Components.getRustMirViewWith(this.id, this.source, this.lastResult.rustMirOutput,\n            this.getCompilerName(), this.sourceEditorId);\n    }, this);\n\n    var createRustMacroExpView = _.bind(function () {\n        return Components.getRustMacroExpViewWith(this.id, this.source, this.lastResult.rustMacroExpOutput,\n            this.getCompilerName(), this.sourceEditorId);\n    }, this);\n\n    var createGccDumpView = _.bind(function () {\n        return Components.getGccDumpViewWith(this.id, this.getCompilerName(), this.sourceEditorId,\n            this.lastResult.gccDumpOutput);\n    }, this);\n\n    var createGnatDebugView = _.bind(function () {\n        return Components.getGnatDebugViewWith(this.id, this.source, this.lastResult.gnatDebugOutput,\n            this.getCompilerName(), this.sourceEditorId);\n    }, this);\n\n    var createCfgView = _.bind(function () {\n        return Components.getCfgViewWith(this.id, this.sourceEditorId);\n    }, this);\n\n    var createExecutor = _.bind(function () {\n        var currentState = this.currentState();\n        var editorId = currentState.source;\n        var treeId = currentState.tree;\n        var langId = currentState.lang;\n        var compilerId = currentState.compiler;\n        var libs = [];\n        _.each(this.libsWidget.getLibsInUse(), function (item) {\n            libs.push({\n                name: item.libId,\n                ver: item.versionId,\n            });\n        });\n        return Components.getExecutorWith(editorId, langId, compilerId, libs, currentState.options, treeId);\n    }, this);\n\n    var panerDropdown = this.domRoot.find('.pane-dropdown');\n    var togglePannerAdder = function () {\n        panerDropdown.dropdown('toggle');\n    };\n\n    this.container.layoutManager\n        .createDragSource(this.domRoot.find('.btn.add-compiler'), cloneComponent)\n        ._dragListener.on('dragStart', togglePannerAdder);\n\n    this.domRoot.find('.btn.add-compiler').click(_.bind(function () {\n        var insertPoint = this.hub.findParentRowOrColumn(this.container) ||\n            this.container.layoutManager.root.contentItems[0];\n        insertPoint.addChild(cloneComponent);\n    }, this));\n\n    this.container.layoutManager\n        .createDragSource(this.optButton, createOptView)\n        ._dragListener.on('dragStart', togglePannerAdder);\n\n    this.optButton.click(_.bind(function () {\n        var insertPoint = this.hub.findParentRowOrColumn(this.container) ||\n            this.container.layoutManager.root.contentItems[0];\n        insertPoint.addChild(createOptView);\n    }, this));\n\n    var popularArgumentsMenu = this.domRoot.find('div.populararguments div.dropdown-menu');\n    this.container.layoutManager\n        .createDragSource(this.flagsButton, createFlagsView)\n        ._dragListener.on('dragStart', togglePannerAdder);\n\n    this.flagsButton.click(_.bind(function () {\n        var insertPoint = this.hub.findParentRowOrColumn(this.container) ||\n            this.container.layoutManager.root.contentItems[0];\n        insertPoint.addChild(createFlagsView);\n    }, this));\n\n    popularArgumentsMenu.append(this.flagsButton);\n\n    this.container.layoutManager\n        .createDragSource(this.astButton, createAstView)\n        ._dragListener.on('dragStart', togglePannerAdder);\n\n    this.astButton.click(_.bind(function () {\n        var insertPoint = this.hub.findParentRowOrColumn(this.container) ||\n            this.container.layoutManager.root.contentItems[0];\n        insertPoint.addChild(createAstView);\n    }, this));\n\n    this.container.layoutManager\n        .createDragSource(this.irButton, createIrView)\n        ._dragListener.on('dragStart', togglePannerAdder);\n\n    this.irButton.click(_.bind(function () {\n        var insertPoint = this.hub.findParentRowOrColumn(this.container) ||\n            this.container.layoutManager.root.contentItems[0];\n        insertPoint.addChild(createIrView);\n    }, this));\n\n    this.container.layoutManager\n        .createDragSource(this.deviceButton, createDeviceView)\n        ._dragListener.on('dragStart', togglePannerAdder);\n\n    this.deviceButton.click(_.bind(function () {\n        var insertPoint = this.hub.findParentRowOrColumn(this.container) ||\n            this.container.layoutManager.root.contentItems[0];\n        insertPoint.addChild(createDeviceView);\n    }, this));\n\n    this.container.layoutManager\n        .createDragSource(this.rustMirButton, createRustMirView)\n        ._dragListener.on('dragStart', togglePannerAdder);\n\n    this.rustMirButton.click(_.bind(function () {\n        var insertPoint = this.hub.findParentRowOrColumn(this.container) ||\n            this.container.layoutManager.root.contentItems[0];\n        insertPoint.addChild(createRustMirView);\n    }, this));\n\n    this.container.layoutManager\n        .createDragSource(this.rustMacroExpButton, createRustMacroExpView)\n        ._dragListener.on('dragStart', togglePannerAdder);\n\n    this.rustMacroExpButton.click(_.bind(function () {\n        var insertPoint = this.hub.findParentRowOrColumn(this.container) ||\n            this.container.layoutManager.root.contentItems[0];\n        insertPoint.addChild(createRustMacroExpView);\n    }, this));\n\n    this.container.layoutManager\n        .createDragSource(this.gccDumpButton, createGccDumpView)\n        ._dragListener.on('dragStart', togglePannerAdder);\n\n    this.gccDumpButton.click(_.bind(function () {\n        var insertPoint = this.hub.findParentRowOrColumn(this.container) ||\n            this.container.layoutManager.root.contentItems[0];\n        insertPoint.addChild(createGccDumpView);\n    }, this));\n\n    this.container.layoutManager\n        .createDragSource(this.gnatDebugButton, createGnatDebugView)\n        ._dragListener.on('dragStart', togglePannerAdder);\n\n    this.gnatDebugButton.click(_.bind(function () {\n        var insertPoint = this.hub.findParentRowOrColumn(this.container) ||\n            this.container.layoutManager.root.contentItems[0];\n        insertPoint.addChild(createGnatDebugView);\n    }, this));\n\n    this.container.layoutManager\n        .createDragSource(this.cfgButton, createCfgView)\n        ._dragListener.on('dragStart', togglePannerAdder);\n\n    this.cfgButton.click(_.bind(function () {\n        var insertPoint = this.hub.findParentRowOrColumn(this.container) ||\n            this.container.layoutManager.root.contentItems[0];\n        insertPoint.addChild(createCfgView);\n    }, this));\n\n    this.container.layoutManager\n        .createDragSource(this.executorButton, createExecutor)\n        ._dragListener.on('dragStart', togglePannerAdder);\n\n    this.executorButton.click(_.bind(function () {\n        var insertPoint = this.hub.findParentRowOrColumn(this.container) ||\n            this.container.layoutManager.root.contentItems[0];\n        insertPoint.addChild(createExecutor);\n    }, this));\n\n    this.initToolButtons(togglePannerAdder);\n};\n\nCompiler.prototype.undefer = function () {\n    this.deferCompiles = false;\n    if (this.needsCompile) {\n        this.compile();\n    }\n};\n\nCompiler.prototype.resize = function () {\n    var topBarHeight = utils.updateAndCalcTopBarHeight(this.domRoot, this.topBar, this.hideable);\n    var bottomBarHeight = this.bottomBar.outerHeight(true);\n    this.outputEditor.layout({\n        width: this.domRoot.width(),\n        height: this.domRoot.height() - topBarHeight - bottomBarHeight,\n    });\n};\n\n// Returns a label name if it can be found in the given position, otherwise\n// returns null.\nCompiler.prototype.getLabelAtPosition = function (position) {\n    var asmLine = this.assembly[position.lineNumber - 1];\n    // Outdated position.lineNumber can happen (Between compilations?) - Check for those and skip\n    if (asmLine) {\n        var column = position.column;\n        var labels = asmLine.labels || [];\n\n        for (var i = 0; i < labels.length; ++i) {\n            if (column >= labels[i].range.startCol &&\n                column < labels[i].range.endCol\n            ) {\n                return labels[i];\n            }\n        }\n    }\n    return null;\n};\n\n// Jumps to a label definition related to a label which was found in the\n// given position and highlights the given range. If no label can be found in\n// the given positon it do nothing.\nCompiler.prototype.jumpToLabel = function (position) {\n    var label = this.getLabelAtPosition(position);\n\n    if (!label) {\n        return;\n    }\n\n    var labelDefLineNum = this.labelDefinitions[label.name];\n    if (!labelDefLineNum) {\n        return;\n    }\n\n    // Highlight the new range.\n    var endLineContent = this.outputEditor.getModel().getLineContent(labelDefLineNum);\n\n    this.pushRevealJump();\n\n    this.outputEditor.setSelection(new monaco.Selection(\n        labelDefLineNum, 0,\n        labelDefLineNum, endLineContent.length + 1));\n\n    // Jump to the given line.\n    this.outputEditor.revealLineInCenter(labelDefLineNum);\n};\n\nCompiler.prototype.pushRevealJump = function () {\n    this.revealJumpStack.push(this.outputEditor.saveViewState());\n    this.revealJumpStackHasElementsCtxKey.set(true);\n};\n\nCompiler.prototype.popAndRevealJump = function () {\n    if (this.revealJumpStack.length > 0) {\n        this.outputEditor.restoreViewState(this.revealJumpStack.pop());\n        this.revealJumpStackHasElementsCtxKey.set(this.revealJumpStack.length > 0);\n    }\n};\n\nCompiler.prototype.initEditorActions = function () {\n    this.isLabelCtxKey = this.outputEditor.createContextKey('isLabel', true);\n    this.revealJumpStackHasElementsCtxKey = this.outputEditor.createContextKey('hasRevealJumpStackElements', false);\n    this.isAsmKeywordCtxKey = this.outputEditor.createContextKey('isAsmKeyword', true);\n\n    this.outputEditor.addAction({\n        id: 'jumptolabel',\n        label: 'Jump to label',\n        keybindings: [monaco.KeyMod.CtrlCmd | monaco.KeyCode.Enter],\n        precondition: 'isLabel',\n        contextMenuGroupId: 'navigation',\n        contextMenuOrder: 1.5,\n        run: _.bind(function (ed) {\n            this.jumpToLabel(ed.getPosition());\n        }, this),\n    });\n\n    // Hiding the 'Jump to label' context menu option if no label can be found\n    // in the clicked position.\n    var contextmenu = this.outputEditor.getContribution('editor.contrib.contextmenu');\n    var realMethod = contextmenu._onContextMenu;\n    contextmenu._onContextMenu = _.bind(function (e) {\n        if (e && e.target && e.target.position) {\n            if (this.isLabelCtxKey) {\n                var label = this.getLabelAtPosition(e.target.position);\n                this.isLabelCtxKey.set(label !== null);\n            }\n\n            if (this.isAsmKeywordCtxKey) {\n                var currentWord = this.outputEditor.getModel().getWordAtPosition(e.target.position);\n                if (currentWord) {\n                    currentWord.range = new monaco.Range(e.target.position.lineNumber,\n                        Math.max(currentWord.startColumn, 1),\n                        e.target.position.lineNumber, currentWord.endColumn);\n                    if (currentWord.word) {\n                        this.isAsmKeywordCtxKey.set(this.isWordAsmKeyword(currentWord));\n                    }\n                }\n            }\n        }\n        realMethod.apply(contextmenu, arguments);\n    }, this);\n\n\n    this.outputEditor.addAction({\n        id: 'returnfromreveal',\n        label: 'Return from reveal jump',\n        keybindings: [monaco.KeyMod.CtrlCmd | monaco.KeyMod.Shift | monaco.KeyCode.Enter],\n        contextMenuGroupId: 'navigation',\n        contextMenuOrder: 1.4,\n        precondition: 'hasRevealJumpStackElements',\n        run: _.bind(function () {\n            this.popAndRevealJump();\n        }, this),\n    });\n\n    this.outputEditor.addAction({\n        id: 'viewsource',\n        label: 'Scroll to source',\n        keybindings: [monaco.KeyMod.CtrlCmd | monaco.KeyCode.F10],\n        keybindingContext: null,\n        contextMenuGroupId: 'navigation',\n        contextMenuOrder: 1.5,\n        run: _.bind(function (ed) {\n            var desiredLine = ed.getPosition().lineNumber - 1;\n            var source = this.assembly[desiredLine].source;\n            if (source && source.line > 0) {\n                var editorId = this.getEditorIdBySourcefile(source);\n                if (editorId) {\n                    // a null file means it was the user's source\n                    this.eventHub.emit('editorLinkLine', editorId, source.line, -1, -1, true);\n                }\n            }\n        }, this),\n    });\n\n    this.outputEditor.addAction({\n        id: 'viewasmdoc',\n        label: 'View assembly documentation',\n        keybindings: [monaco.KeyMod.CtrlCmd | monaco.KeyCode.F8],\n        keybindingContext: null,\n        precondition: 'isAsmKeyword',\n        contextMenuGroupId: 'help',\n        contextMenuOrder: 1.5,\n        run: _.bind(this.onAsmToolTip, this),\n    });\n\n    this.outputEditor.addAction({\n        id: 'toggleColourisation',\n        label: 'Toggle colourisation',\n        keybindings: [monaco.KeyMod.CtrlCmd | monaco.KeyMod.Shift | monaco.KeyCode.F1],\n        keybindingContext: null,\n        run: _.bind(function () {\n            this.eventHub.emit('modifySettings', {\n                colouriseAsm: !this.settings.colouriseAsm,\n            });\n        }, this),\n    });\n\n};\n\nCompiler.prototype.initEditorCommands = function () {\n    this.outputEditor.addAction({\n        id: 'dumpAsm',\n        label: 'Developer: Dump asm',\n        run: _.bind(function () {\n            // eslint-disable-next-line no-console\n            console.log(this.assembly);\n        }, this),\n    });\n};\n\n// Gets the filters that will actually be used (accounting for issues with binary\n// mode etc).\nCompiler.prototype.getEffectiveFilters = function () {\n    if (!this.compiler) return {};\n    var filters = this.filters.get();\n    if (filters.binary && !this.compiler.supportsBinary) {\n        delete filters.binary;\n    }\n    if (filters.execute && !this.compiler.supportsExecute) {\n        delete filters.execute;\n    }\n    if (filters.libraryCode && !this.compiler.supportsLibraryCodeFilter) {\n        delete filters.libraryCode;\n    }\n    _.each(this.compiler.disabledFilters, function (filter) {\n        if (filters[filter]) {\n            delete filters[filter];\n        }\n    });\n    return filters;\n};\n\nCompiler.prototype.findTools = function (content, tools) {\n    if (content.componentName === 'tool') {\n        if (content.componentState.compiler === this.id) {\n            tools.push({\n                id: content.componentState.toolId,\n                args: content.componentState.args,\n                stdin: content.componentState.stdin,\n            });\n        }\n    } else if (content.content) {\n        _.each(content.content, function (subcontent) {\n            tools = this.findTools(subcontent, tools);\n        }, this);\n    }\n\n    return tools;\n};\n\nCompiler.prototype.getActiveTools = function (newToolSettings) {\n    if (!this.compiler) return {};\n\n    var tools = [];\n    if (newToolSettings) {\n        tools.push({\n            id: newToolSettings.toolId,\n            args: newToolSettings.args,\n            stdin: newToolSettings.stdin,\n        });\n    }\n\n    if (this.container.layoutManager.isInitialised) {\n        var config = this.container.layoutManager.toConfig();\n        return this.findTools(config, tools);\n    } else {\n        return tools;\n    }\n};\n\nCompiler.prototype.isToolActive = function (activetools, toolId) {\n    return _.find(activetools, function (tool) {\n        return tool.id === toolId;\n    });\n};\n\nCompiler.prototype.compile = function (bypassCache, newTools) {\n    if (this.deferCompiles) {\n        this.needsCompile = true;\n        return;\n    }\n    this.needsCompile = false;\n    this.compileInfoLabel.text(' - Compiling...');\n    var options = {\n        userArguments: this.options,\n        compilerOptions: {\n            produceAst: this.astViewOpen,\n            produceGccDump: {\n                opened: this.gccDumpViewOpen,\n                pass: this.gccDumpPassSelected,\n                treeDump: this.treeDumpEnabled,\n                rtlDump: this.rtlDumpEnabled,\n                ipaDump: this.ipaDumpEnabled,\n                dumpFlags: this.dumpFlags,\n            },\n            produceOptInfo: this.wantOptInfo,\n            produceCfg: this.cfgViewOpen,\n            produceGnatDebug: this.gnatDebugViewOpen,\n            produceIr: this.irViewOpen,\n            produceDevice: this.deviceViewOpen,\n            produceRustMir: this.rustMirViewOpen,\n            produceRustMacroExp: this.rustMacroExpViewOpen,\n        },\n        filters: this.getEffectiveFilters(),\n        tools: this.getActiveTools(newTools),\n        libraries: [],\n    };\n\n    _.each(this.libsWidget.getLibsInUse(), function (item) {\n        options.libraries.push({\n            id: item.libId,\n            version: item.versionId,\n        });\n    });\n\n    if (this.sourceTreeId) {\n        this.compileFromTree(options, bypassCache);\n    } else {\n        this.compileFromEditorSource(options, bypassCache);\n    }\n};\n\nCompiler.prototype.compileFromTree = function (options, bypassCache) {\n    var tree = this.hub.getTreeById(this.sourceTreeId);\n    if (!tree) {\n        this.sourceTreeId = false;\n        this.compileFromEditorSource(options, bypassCache);\n        return;\n    }\n\n    var mainsource = tree.multifileService.getMainSource();\n\n    var request = {\n        source: mainsource,\n        compiler: this.compiler ? this.compiler.id : '',\n        options: options,\n        lang: this.currentLangId,\n        files: tree.multifileService.getFiles(),\n    };\n\n    var treeState = tree.currentState();\n    var cmakeProject = tree.multifileService.isACMakeProject();\n\n    if (bypassCache) request.bypassCache = true;\n    if (!this.compiler) {\n        this.onCompileResponse(request, errorResult('<Please select a compiler>'), false);\n    } else if (cmakeProject && request.source === '') {\n        this.onCompileResponse(request, errorResult('<Please supply a CMakeLists.txt>'), false);\n    } else {\n        if (cmakeProject) {\n            request.options.compilerOptions.cmakeArgs = treeState.cmakeArgs;\n            request.options.compilerOptions.customOutputFilename = treeState.customOutputFilename;\n            this.sendCMakeCompile(request);\n        } else {\n            this.sendCompile(request);\n        }\n    }\n};\n\nCompiler.prototype.compileFromEditorSource = function (options, bypassCache) {\n    this.compilerService.expand(this.source).then(_.bind(function (expanded) {\n        var request = {\n            source: expanded || '',\n            compiler: this.compiler ? this.compiler.id : '',\n            options: options,\n            lang: this.currentLangId,\n            files: [],\n        };\n        if (bypassCache) request.bypassCache = true;\n        if (!this.compiler) {\n            this.onCompileResponse(request, errorResult('<Please select a compiler>'), false);\n        } else {\n            this.sendCompile(request);\n        }\n    }, this));\n};\n\nCompiler.prototype.sendCMakeCompile = function (request) {\n    var onCompilerResponse = _.bind(this.onCMakeResponse, this);\n\n    if (this.pendingCMakeRequestSentAt) {\n        // If we have a request pending, then just store this request to do once the\n        // previous request completes.\n        this.nextCMakeRequest = request;\n        return;\n    }\n    this.eventHub.emit('compiling', this.id, this.compiler);\n    // Display the spinner\n    this.handleCompilationStatus({code: 4});\n    this.pendingCMakeRequestSentAt = Date.now();\n    // After a short delay, give the user some indication that we're working on their\n    // compilation.\n    var progress = setTimeout(_.bind(function () {\n        this.setAssembly({asm: fakeAsm('<Compiling...>')}, 0);\n    }, this), 500);\n    this.compilerService.submitCMake(request)\n        .then(function (x) {\n            clearTimeout(progress);\n            onCompilerResponse(request, x.result, x.localCacheHit);\n        })\n        .catch(function (x) {\n            clearTimeout(progress);\n            var message = 'Unknown error';\n            if (_.isString(x)) {\n                message = x;\n            } else if (x) {\n                message = x.error || x.code || message;\n            }\n            onCompilerResponse(request,\n                errorResult('<Compilation failed: ' + message + '>'), false);\n        });\n};\n\nCompiler.prototype.sendCompile = function (request) {\n    var onCompilerResponse = _.bind(this.onCompileResponse, this);\n\n    if (this.pendingRequestSentAt) {\n        // If we have a request pending, then just store this request to do once the\n        // previous request completes.\n        this.nextRequest = request;\n        return;\n    }\n    this.eventHub.emit('compiling', this.id, this.compiler);\n    // Display the spinner\n    this.handleCompilationStatus({code: 4});\n    this.pendingRequestSentAt = Date.now();\n    // After a short delay, give the user some indication that we're working on their\n    // compilation.\n    var progress = setTimeout(_.bind(function () {\n        this.setAssembly({asm: fakeAsm('<Compiling...>')}, 0);\n    }, this), 500);\n    this.compilerService.submit(request)\n        .then(function (x) {\n            clearTimeout(progress);\n            onCompilerResponse(request, x.result, x.localCacheHit);\n        })\n        .catch(function (e) {\n            clearTimeout(progress);\n            var message = 'Unknown error';\n            if (_.isString(e)) {\n                message = e;\n            } else if (e) {\n                message = e.error || e.code || e.message;\n                if (e.stack) console.log(e);\n            }\n            onCompilerResponse(request, errorResult('<Compilation failed: ' + message + '>'), false);\n        });\n};\n\nCompiler.prototype.setNormalMargin = function () {\n    this.outputEditor.updateOptions({\n        lineNumbers: true,\n        lineNumbersMinChars: 1,\n    });\n};\n\nCompiler.prototype.setBinaryMargin = function () {\n    this.outputEditor.updateOptions({\n        lineNumbersMinChars: 6,\n        lineNumbers: _.bind(this.getBinaryForLine, this),\n    });\n};\n\nCompiler.prototype.getBinaryForLine = function (line) {\n    var obj = this.assembly[line - 1];\n    if (obj) {\n        return obj.address ? obj.address.toString(16) : '';\n    } else {\n        return '???';\n    }\n};\n\nCompiler.prototype.setAssembly = function (result, filteredCount) {\n    var asm = result.asm || fakeAsm('<No output>');\n    this.assembly = asm;\n    if (!this.outputEditor || !this.outputEditor.getModel()) return;\n    var editorModel = this.outputEditor.getModel();\n    var msg = '<No assembly generated>';\n    if (asm.length) {\n        msg = _.pluck(asm, 'text').join('\\n');\n    } else if (filteredCount > 0) {\n        msg = '<No assembly to display (~' + filteredCount + (filteredCount === 1 ? ' line' : ' lines') + ' filtered)>';\n    }\n\n    if (asm.length === 1 && result.code !== 0 && (result.stderr || result.stdout)) {\n        msg += '\\n\\n# For more information see the output window';\n        if (!this.isOutputOpened) {\n            msg += '\\n# To open the output window, click or drag the \"Output\" icon at the bottom of this window';\n        }\n    }\n\n    editorModel.setValue(msg);\n\n    if (!this.awaitingInitialResults) {\n        if (this.selection) {\n            this.outputEditor.setSelection(this.selection);\n            this.outputEditor.revealLinesInCenter(\n                this.selection.startLineNumber, this.selection.endLineNumber);\n        }\n        this.awaitingInitialResults = true;\n    } else {\n        var visibleRanges = this.outputEditor.getVisibleRanges();\n        var currentTopLine =\n            visibleRanges.length > 0 ? visibleRanges[0].startLineNumber : 1;\n        this.outputEditor.revealLine(currentTopLine);\n    }\n\n    this.decorations.labelUsages = [];\n    _.each(this.assembly, _.bind(function (obj, line) {\n        if (!obj.labels || !obj.labels.length) return;\n\n        obj.labels.forEach(function (label) {\n            this.decorations.labelUsages.push({\n                range: new monaco.Range(line + 1, label.range.startCol,\n                    line + 1, label.range.endCol),\n                options: {\n                    inlineClassName: 'asm-label-link',\n                    hoverMessage: [{\n                        value: 'Ctrl + Left click to follow the label',\n                    }],\n                },\n            });\n        }, this);\n    }, this));\n    this.updateDecorations();\n\n    var codeLenses = [];\n    if (this.getEffectiveFilters().binary) {\n        this.setBinaryMargin();\n        _.each(this.assembly, _.bind(function (obj, line) {\n            if (obj.opcodes) {\n                var address = obj.address ? obj.address.toString(16) : '';\n                codeLenses.push({\n                    range: {\n                        startLineNumber: line + 1,\n                        startColumn: 1,\n                        endLineNumber: line + 2,\n                        endColumn: 1,\n                    },\n                    id: address,\n                    command: {\n                        title: obj.opcodes.join(' '),\n                    },\n                });\n            }\n        }, this));\n    } else {\n        this.setNormalMargin();\n    }\n\n    codeLensHandler.registerLensesForCompiler(this.id, editorModel, codeLenses);\n\n    var currentAsmLang = editorModel.getModeId();\n    codeLensHandler.registerProviderForLanguage(currentAsmLang);\n};\n\nfunction errorResult(text) {\n    return {asm: fakeAsm(text), code: -1, stdout: '', stderr: ''};\n}\n\nfunction fakeAsm(text) {\n    return [{text: text, source: null, fake: true}];\n}\n\nCompiler.prototype.doNextCompileRequest = function () {\n    if (this.nextRequest) {\n        var next = this.nextRequest;\n        this.nextRequest = null;\n        this.sendCompile(next);\n    }\n};\n\nCompiler.prototype.doNextCMakeRequest = function () {\n    if (this.nextCMakeRequest) {\n        var next = this.nextCMakeRequest;\n        this.nextCMakeRequest = null;\n        this.sendCMakeCompile(next);\n    }\n};\n\nCompiler.prototype.onCMakeResponse = function (request, result, cached) {\n    result.source = this.source;\n    this.lastResult = result;\n    var timeTaken = Math.max(0, Date.now() - this.pendingCMakeRequestSentAt);\n    this.lastTimeTaken = timeTaken;\n    var wasRealReply = this.pendingCMakeRequestSentAt > 0;\n    this.pendingCMakeRequestSentAt = 0;\n\n    this.handleCompileRequestAndResult(request, result, cached, wasRealReply, timeTaken);\n\n    this.doNextCMakeRequest();\n};\n\nCompiler.prototype.handleCompileRequestAndResult = function (request, result, cached, wasRealReply, timeTaken) {\n    ga.proxy('send', {\n        hitType: 'event',\n        eventCategory: 'Compile',\n        eventAction: request.compiler,\n        eventLabel: request.options.userArguments,\n        eventValue: cached ? 1 : 0,\n    });\n    ga.proxy('send', {\n        hitType: 'timing',\n        timingCategory: 'Compile',\n        timingVar: request.compiler,\n        timingValue: timeTaken,\n    });\n\n    // Delete trailing empty lines\n    if ($.isArray(result.asm)) {\n        var indexToDiscard = _.findLastIndex(result.asm, function (line) {\n            return !_.isEmpty(line.text);\n        });\n        result.asm.splice(indexToDiscard + 1, result.asm.length - indexToDiscard);\n    }\n\n    this.labelDefinitions = result.labelDefinitions || {};\n    if (result.asm) {\n        this.setAssembly(result, result.filteredCount || 0);\n    } else if (result.result && result.result.asm) {\n        this.setAssembly(result.result, result.result.filteredCount || 0);\n    }\n\n    var stdout = result.stdout || [];\n    var stderr = result.stderr || [];\n    var failed = result.code ? result.code !== 0 : false;\n\n    if (result.buildsteps) {\n        _.each(result.buildsteps, function (step) {\n            stdout = stdout.concat(step.stdout || []);\n            stderr = stderr.concat(step.stderr || []);\n            failed = failed | (step.code !== 0);\n        });\n    }\n\n    this.handleCompilationStatus(this.compilerService.calculateStatusIcon(result));\n    this.outputTextCount.text(stdout.length);\n    this.outputErrorCount.text(stderr.length);\n    if (this.isOutputOpened || (stdout.length === 0 && stderr.length === 0)) {\n        this.outputBtn.prop('title', '');\n    } else {\n        this.compilerService.handleOutputButtonTitle(this.outputBtn, result);\n    }\n    var infoLabelText = '';\n    if (cached) {\n        infoLabelText = ' - cached';\n    } else if (wasRealReply) {\n        infoLabelText = ' - ' + timeTaken + 'ms';\n    }\n\n    if (result.asmSize !== undefined) {\n        infoLabelText += ' (' + result.asmSize + 'B)';\n    }\n\n    if (result.filteredCount && result.filteredCount > 0) {\n        infoLabelText += ' ~' + result.filteredCount + (result.filteredCount === 1 ? ' line' : ' lines') + ' filtered';\n    }\n\n    this.compileInfoLabel.text(infoLabelText);\n\n    if (result.result) {\n        this.postCompilationResult(request, result.result);\n    } else {\n        this.postCompilationResult(request, result);\n    }\n\n    this.eventHub.emit('compileResult', this.id, this.compiler, result, languages[this.currentLangId]);\n};\n\nCompiler.prototype.onCompileResponse = function (request, result, cached) {\n    // Save which source produced this change. It should probably be saved earlier though\n    result.source = this.source;\n    this.lastResult = result;\n    var timeTaken = Math.max(0, Date.now() - this.pendingRequestSentAt);\n    this.lastTimeTaken = timeTaken;\n    var wasRealReply = this.pendingRequestSentAt > 0;\n    this.pendingRequestSentAt = 0;\n\n    this.handleCompileRequestAndResult(request, result, cached, wasRealReply, timeTaken);\n\n    this.doNextCompileRequest();\n};\n\nCompiler.prototype.postCompilationResult = function (request, result) {\n    if (result.popularArguments) {\n        this.handlePopularArgumentsResult(result.popularArguments);\n    } else {\n        this.compilerService.requestPopularArguments(this.compiler.id, request.options.userArguments).then(\n            _.bind(function (result) {\n                if (result && result.result) {\n                    this.handlePopularArgumentsResult(result.result);\n                }\n            }, this)\n        );\n    }\n\n    this.updateButtons();\n\n    this.checkForUnwiseArguments(result.compilationOptions);\n    this.setCompilationOptionsPopover(result.compilationOptions ? result.compilationOptions.join(' ') : '');\n};\n\nCompiler.prototype.onEditorChange = function (editor, source, langId, compilerId) {\n    if (this.sourceTreeId) {\n        var tree = this.hub.getTreeById(this.sourceTreeId);\n        if (tree) {\n            if (tree.multifileService.isEditorPartOfProject(editor)) {\n                if (this.settings.compileOnChange) {\n                    this.compile();\n\n                    return;\n                }\n            }\n        }\n    }\n\n    if (editor === this.sourceEditorId && langId === this.currentLangId &&\n        (compilerId === undefined || compilerId === this.id)) {\n        this.source = source;\n        if (this.settings.compileOnChange) {\n            this.compile();\n        }\n    }\n};\n\nCompiler.prototype.onCompilerFlagsChange = function (compilerId, compilerFlags) {\n    if (compilerId === this.id) {\n        this.onOptionsChange(compilerFlags);\n    }\n};\n\nCompiler.prototype.onToolOpened = function (compilerId, toolSettings) {\n    if (this.id === compilerId) {\n        var toolId = toolSettings.toolId;\n\n        var buttons = this.toolsMenu.find('button');\n        $(buttons).each(_.bind(function (idx, button) {\n            var toolButton = $(button);\n            var toolName = toolButton.data('toolname');\n            if (toolId === toolName) {\n                toolButton.prop('disabled', true);\n            }\n        }, this));\n\n        this.compile(false, toolSettings);\n    }\n};\n\nCompiler.prototype.onToolClosed = function (compilerId, toolSettings) {\n    if (this.id === compilerId) {\n        var toolId = toolSettings.toolId;\n\n        var buttons = this.toolsMenu.find('button');\n        $(buttons).each(_.bind(function (idx, button) {\n            var toolButton = $(button);\n            var toolName = toolButton.data('toolname');\n            if (toolId === toolName) {\n                toolButton.prop('disabled', !this.supportsTool(toolId));\n            }\n        }, this));\n    }\n};\n\nCompiler.prototype.onOutputOpened = function (compilerId) {\n    if (this.id === compilerId) {\n        this.isOutputOpened = true;\n        this.outputBtn.prop('disabled', true);\n        this.resendResult();\n    }\n};\n\nCompiler.prototype.onOutputClosed = function (compilerId) {\n    if (this.id === compilerId) {\n        this.isOutputOpened = false;\n        this.outputBtn.prop('disabled', false);\n    }\n};\n\nCompiler.prototype.onOptViewClosed = function (id) {\n    if (this.id === id) {\n        this.wantOptInfo = false;\n        this.optViewOpen = false;\n        this.optButton.prop('disabled', this.optViewOpen);\n    }\n};\n\nCompiler.prototype.onFlagsViewClosed = function (id, compilerFlags) {\n    if (this.id === id) {\n        this.flagsViewOpen = false;\n        this.optionsField.val(compilerFlags);\n        this.optionsField.prop('disabled', this.flagsViewOpen);\n        this.optionsField.prop('placeholder', this.initialOptionsFieldPlacehoder);\n        this.flagsButton.prop('disabled', this.flagsViewOpen);\n\n        this.compilerService.requestPopularArguments(this.compiler.id, compilerFlags).then(\n            _.bind(function (result) {\n                if (result && result.result) {\n                    this.handlePopularArgumentsResult(result.result);\n                }\n            }, this)\n        );\n\n        this.saveState();\n    }\n};\n\nCompiler.prototype.onAstViewOpened = function (id) {\n    if (this.id === id) {\n        this.astButton.prop('disabled', true);\n        this.astViewOpen = true;\n        this.compile();\n    }\n};\n\nCompiler.prototype.onToolSettingsChange = function (id) {\n    if (this.id === id) {\n        this.compile();\n    }\n};\n\nCompiler.prototype.onAstViewClosed = function (id) {\n    if (this.id === id) {\n        this.astButton.prop('disabled', false);\n        this.astViewOpen = false;\n    }\n};\n\nCompiler.prototype.onIrViewOpened = function (id) {\n    if (this.id === id) {\n        this.irButton.prop('disabled', true);\n        this.irViewOpen = true;\n        this.compile();\n    }\n};\n\nCompiler.prototype.onIrViewClosed = function (id) {\n    if (this.id === id) {\n        this.irButton.prop('disabled', false);\n        this.irViewOpen = false;\n    }\n};\n\nCompiler.prototype.onDeviceViewOpened = function (id) {\n    if (this.id === id) {\n        this.deviceButton.prop('disabled', true);\n        this.deviceViewOpen = true;\n        this.compile();\n    }\n};\n\nCompiler.prototype.onDeviceViewClosed = function (id) {\n    if (this.id === id) {\n        this.deviceButton.prop('disabled', false);\n        this.deviceViewOpen = false;\n    }\n};\n\nCompiler.prototype.onRustMirViewOpened = function (id) {\n    if (this.id === id) {\n        this.rustMirButton.prop('disabled', true);\n        this.rustMirViewOpen = true;\n        this.compile();\n    }\n};\n\nCompiler.prototype.onRustMirViewClosed = function (id) {\n    if (this.id === id) {\n        this.rustMirButton.prop('disabled', false);\n        this.rustMirViewOpen = false;\n    }\n};\n\nCompiler.prototype.onGnatDebugViewOpened = function (id) {\n    if (this.id === id) {\n        this.gnatDebugButton.prop('disabled', true);\n        this.gnatDebugViewOpen = true;\n        this.compile();\n    }\n};\n\nCompiler.prototype.onGnatDebugViewClosed = function (id) {\n    if (this.id === id) {\n        this.gnatDebugButton.prop('disabled', false);\n        this.gnatDebugViewOpen = false;\n    }\n};\n\nCompiler.prototype.onRustMacroExpViewOpened = function (id) {\n    if (this.id === id) {\n        this.rustMacroExpButton.prop('disabled', true);\n        this.rustMacroExpViewOpen = true;\n        this.compile();\n    }\n};\n\nCompiler.prototype.onRustMacroExpViewClosed = function (id) {\n    if (this.id === id) {\n        this.rustMacroExpButton.prop('disabled', false);\n        this.rustMacroExpViewOpen = false;\n    }\n};\n\nCompiler.prototype.onGccDumpUIInit = function (id) {\n    if (this.id === id) {\n        this.compile();\n    }\n};\n\nCompiler.prototype.onGccDumpFiltersChanged = function (id, filters, reqCompile) {\n    if (this.id === id) {\n        this.treeDumpEnabled = (filters.treeDump !== false);\n        this.rtlDumpEnabled = (filters.rtlDump !== false);\n        this.ipaDumpEnabled = (filters.ipaDump !== false);\n        this.dumpFlags = {\n            address: filters.addressOption !== false,\n            slim: filters.slimOption !== false,\n            raw: filters.rawOption !== false,\n            details: filters.detailsOption !== false,\n            stats: filters.statsOption !== false,\n            blocks: filters.blocksOption !== false,\n            vops: filters.vopsOption !== false,\n            lineno: filters.linenoOption !== false,\n            uid: filters.uidOption !== false,\n            all: filters.allOption !== false,\n        };\n\n        if (reqCompile) {\n            this.compile();\n        }\n    }\n};\n\nCompiler.prototype.onGccDumpPassSelected = function (id, passObject, reqCompile) {\n    if (this.id === id) {\n        this.gccDumpPassSelected = passObject;\n\n        if (reqCompile && passObject !== null) {\n            this.compile();\n        }\n    }\n};\n\nCompiler.prototype.onGccDumpViewOpened = function (id) {\n    if (this.id === id) {\n        this.gccDumpButton.prop('disabled', true);\n        this.gccDumpViewOpen = true;\n    }\n};\n\nCompiler.prototype.onGccDumpViewClosed = function (id) {\n    if (this.id === id) {\n        this.gccDumpButton.prop('disabled', !this.compiler.supportsGccDump);\n        this.gccDumpViewOpen = false;\n\n        delete this.gccDumpPassSelected;\n        delete this.treeDumpEnabled;\n        delete this.rtlDumpEnabled;\n        delete this.ipaDumpEnabled;\n        delete this.dumpFlags;\n    }\n};\n\nCompiler.prototype.onOptViewOpened = function (id) {\n    if (this.id === id) {\n        this.optViewOpen = true;\n        this.wantOptInfo = true;\n        this.optButton.prop('disabled', this.optViewOpen);\n        this.compile();\n    }\n};\n\nCompiler.prototype.onFlagsViewOpened = function (id) {\n    if (this.id === id) {\n        this.flagsViewOpen = true;\n        this.handlePopularArgumentsResult(false);\n        this.optionsField.prop('disabled', this.flagsViewOpen);\n        this.optionsField.val('');\n        this.optionsField.prop('placeholder', 'see detailed flags window');\n        this.flagsButton.prop('disabled', this.flagsViewOpen);\n        this.compile();\n        this.saveState();\n    }\n};\n\nCompiler.prototype.onCfgViewOpened = function (id) {\n    if (this.id === id) {\n        this.cfgButton.prop('disabled', true);\n        this.cfgViewOpen = true;\n        this.compile();\n    }\n};\n\nCompiler.prototype.onCfgViewClosed = function (id) {\n    if (this.id === id) {\n        this.cfgViewOpen = false;\n        this.cfgButton.prop('disabled', this.getEffectiveFilters().binary);\n    }\n};\n\nCompiler.prototype.initFilterButtons = function () {\n    this.filterBinaryButton = this.domRoot.find('[data-bind=\\'binary\\']');\n    this.filterBinaryTitle = this.filterBinaryButton.prop('title');\n\n    this.filterExecuteButton = this.domRoot.find('[data-bind=\\'execute\\']');\n    this.filterExecuteTitle = this.filterExecuteButton.prop('title');\n\n    this.filterLabelsButton = this.domRoot.find('[data-bind=\\'labels\\']');\n    this.filterLabelsTitle = this.filterLabelsButton.prop('title');\n\n    this.filterDirectivesButton = this.domRoot.find('[data-bind=\\'directives\\']');\n    this.filterDirectivesTitle = this.filterDirectivesButton.prop('title');\n\n    this.filterLibraryCodeButton = this.domRoot.find('[data-bind=\\'libraryCode\\']');\n    this.filterLibraryCodeTitle = this.filterLibraryCodeButton.prop('title');\n\n    this.filterCommentsButton = this.domRoot.find('[data-bind=\\'commentOnly\\']');\n    this.filterCommentsTitle = this.filterCommentsButton.prop('title');\n\n    this.filterTrimButton = this.domRoot.find('[data-bind=\\'trim\\']');\n    this.filterTrimTitle = this.filterTrimButton.prop('title');\n\n    this.filterIntelButton = this.domRoot.find('[data-bind=\\'intel\\']');\n    this.filterIntelTitle = this.filterIntelButton.prop('title');\n\n    this.filterDemangleButton = this.domRoot.find('[data-bind=\\'demangle\\']');\n    this.filterDemangleTitle = this.filterDemangleButton.prop('title');\n\n    this.noBinaryFiltersButtons = this.domRoot.find('.nonbinary');\n};\n\nCompiler.prototype.initButtons = function (state) {\n    this.filters = new Toggles(this.domRoot.find('.filters'), patchOldFilters(state.filters));\n\n    this.optButton = this.domRoot.find('.btn.view-optimization');\n    this.flagsButton = this.domRoot.find('div.populararguments div.dropdown-menu button');\n    this.astButton = this.domRoot.find('.btn.view-ast');\n    this.irButton = this.domRoot.find('.btn.view-ir');\n    this.deviceButton = this.domRoot.find('.btn.view-device');\n    this.gnatDebugButton = this.domRoot.find('.btn.view-gnatdebug');\n    this.rustMirButton = this.domRoot.find('.btn.view-rustmir');\n    this.rustMacroExpButton = this.domRoot.find('.btn.view-rustmacroexp');\n    this.gccDumpButton = this.domRoot.find('.btn.view-gccdump');\n    this.gnatDebugButton = this.domRoot.find('.btn.view-gnatdebug');\n    this.cfgButton = this.domRoot.find('.btn.view-cfg');\n    this.executorButton = this.domRoot.find('.create-executor');\n    this.libsButton = this.domRoot.find('.btn.show-libs');\n\n    this.compileInfoLabel = this.domRoot.find('.compile-info');\n    this.compileClearCache = this.domRoot.find('.clear-cache');\n\n    this.outputBtn = this.domRoot.find('.output-btn');\n    this.outputTextCount = this.domRoot.find('span.text-count');\n    this.outputErrorCount = this.domRoot.find('span.err-count');\n\n    this.optionsField = this.domRoot.find('.options');\n    this.initialOptionsFieldPlacehoder = this.optionsField.prop('placeholder');\n    this.prependOptions = this.domRoot.find('.prepend-options');\n    this.fullCompilerName = this.domRoot.find('.full-compiler-name');\n    this.fullTimingInfo = this.domRoot.find('.full-timing-info');\n    this.setCompilationOptionsPopover(this.compiler ? this.compiler.options : null);\n    // Dismiss on any click that isn't either in the opening element, inside\n    // the popover or on any alert\n    $(document).on('mouseup', _.bind(function (e) {\n        var target = $(e.target);\n        if (!target.is(this.prependOptions) && this.prependOptions.has(target).length === 0 &&\n            target.closest('.popover').length === 0)\n            this.prependOptions.popover('hide');\n\n        if (!target.is(this.fullCompilerName) && this.fullCompilerName.has(target).length === 0 &&\n            target.closest('.popover').length === 0)\n            this.fullCompilerName.popover('hide');\n    }, this));\n\n    this.initFilterButtons(state);\n\n    this.filterExecuteButton.toggle(options.supportsExecute);\n    this.filterLibraryCodeButton.toggle(options.supportsLibraryCodeFilter);\n\n    this.optionsField.val(this.options);\n\n    this.shortCompilerName = this.domRoot.find('.short-compiler-name');\n    this.compilerPicker = this.domRoot.find('.compiler-picker');\n    this.setCompilerVersionPopover({version: '', fullVersion: ''}, '');\n\n    this.topBar = this.domRoot.find('.top-bar');\n    this.bottomBar = this.domRoot.find('.bottom-bar');\n    this.statusLabel = this.domRoot.find('.status-text');\n\n    this.hideable = this.domRoot.find('.hideable');\n    this.statusIcon = this.domRoot.find('.status-icon');\n\n    this.monacoPlaceholder = this.domRoot.find('.monaco-placeholder');\n\n    this.initPanerButtons();\n};\n\nCompiler.prototype.onLibsChanged = function () {\n    this.saveState();\n    this.compile();\n};\n\nCompiler.prototype.initLibraries = function (state) {\n    var libUtils = new LibUtils();\n\n    this.libsWidget = new Libraries.Widget(this.currentLangId, this.compiler, this.libsButton,\n        state, _.bind(this.onLibsChanged, this),\n        libUtils.getSupportedLibraries(this.compiler ? this.compiler.libsArr: [], this.currentLangId));\n};\n\nCompiler.prototype.updateLibraries = function () {\n    if (this.libsWidget) {\n        var libUtils = new LibUtils();\n\n        var filteredLibraries = {};\n        if (this.compiler) {\n            filteredLibraries = libUtils.getSupportedLibraries(this.compiler.libsArr, this.currentLangId);\n        }\n\n        this.libsWidget.setNewLangId(this.currentLangId,\n            this.compiler ? this.compiler.id : false,\n            filteredLibraries);\n    }\n};\n\nCompiler.prototype.isSupportedTool = function (tool) {\n    if (this.sourceTreeId) {\n        return tool.tool.type === 'postcompilation';\n    } else {\n        return true;\n    }\n};\n\nCompiler.prototype.supportsTool = function (toolId) {\n    if (!this.compiler) return;\n\n    return _.find(this.compiler.tools, _.bind(function (tool) {\n        return (tool.tool.id === toolId && this.isSupportedTool(tool));\n    }, this));\n};\n\nCompiler.prototype.initToolButton = function (togglePannerAdder, button, toolId) {\n    var createToolView = _.bind(function () {\n        var args = '';\n        var monacoStdin = false;\n        var langTools = options.tools[this.currentLangId];\n        if (langTools && langTools[toolId] && langTools[toolId].tool) {\n            if (langTools[toolId].tool.args !== undefined) {\n                args = langTools[toolId].tool.args;\n            }\n            if (langTools[toolId].tool.monacoStdin !== undefined) {\n                monacoStdin = langTools[toolId].tool.monacoStdin;\n            }\n        }\n        return Components.getToolViewWith(this.id, this.sourceEditorId, toolId, args, monacoStdin, this.sourceTreeId);\n    }, this);\n\n    this.container.layoutManager\n        .createDragSource(button, createToolView)\n        ._dragListener.on('dragStart', togglePannerAdder);\n\n    button.click(_.bind(function () {\n        button.prop('disabled', true);\n        var insertPoint = this.hub.findParentRowOrColumn(this.container) ||\n            this.container.layoutManager.root.contentItems[0];\n        insertPoint.addChild(createToolView);\n    }, this));\n};\n\nCompiler.prototype.initToolButtons = function (togglePannerAdder) {\n    this.toolsMenu = this.domRoot.find('.toolsmenu');\n    this.toolsMenu.empty();\n\n    if (!this.compiler) return;\n\n    var addTool = _.bind(function (toolName, title) {\n        var btn = $('<button class=\\'dropdown-item btn btn-light btn-sm\\'>');\n        btn.addClass('view-' + toolName);\n        btn.data('toolname', toolName);\n        btn.append('<span class=\\'dropdown-icon fas fa-cog\\'></span>' + title);\n        this.toolsMenu.append(btn);\n\n        if (toolName !== 'none') {\n            this.initToolButton(togglePannerAdder, btn, toolName);\n        }\n    }, this);\n\n    if (_.isEmpty(this.compiler.tools)) {\n        addTool('none', 'No tools available');\n    } else {\n        _.each(this.compiler.tools, _.bind(function (tool) {\n            if (this.isSupportedTool(tool)) {\n                addTool(tool.tool.id, tool.tool.name);\n            }\n        }, this));\n    }\n};\n\nCompiler.prototype.enableToolButtons = function () {\n    var activeTools = this.getActiveTools();\n\n    var buttons = this.toolsMenu.find('button');\n    $(buttons).each(_.bind(function (idx, button) {\n        var toolButton = $(button);\n        var toolName = toolButton.data('toolname');\n        toolButton.prop('disabled',\n            !(this.supportsTool(toolName)\n                && !this.isToolActive(activeTools, toolName)));\n    }, this));\n};\n\nCompiler.prototype.updateButtons = function () {\n    if (!this.compiler) return;\n    var filters = this.getEffectiveFilters();\n    // We can support intel output if the compiler supports it, or if we're compiling\n    // to binary (as we can disassemble it however we like).\n    var formatFilterTitle = function (button, title) {\n        button.prop('title', '[' + (button.hasClass('active') ? 'ON' : 'OFF') + '] ' + title +\n            (button.prop('disabled') ? ' [LOCKED]' : ''));\n    };\n    var isIntelFilterDisabled = !this.compiler.supportsIntel && !filters.binary;\n    this.filterIntelButton.prop('disabled', isIntelFilterDisabled);\n    formatFilterTitle(this.filterIntelButton, this.filterIntelTitle);\n    // Disable binary support on compilers that don't work with it.\n    this.filterBinaryButton.prop('disabled', !this.compiler.supportsBinary);\n    formatFilterTitle(this.filterBinaryButton, this.filterBinaryTitle);\n    this.filterExecuteButton.prop('disabled', !this.compiler.supportsExecute);\n    formatFilterTitle(this.filterExecuteButton, this.filterExecuteTitle);\n    // Disable demangle for compilers where we can't access it\n    this.filterDemangleButton.prop('disabled', !this.compiler.supportsDemangle);\n    formatFilterTitle(this.filterDemangleButton, this.filterDemangleTitle);\n    // Disable any of the options which don't make sense in binary mode.\n    var noBinaryFiltersDisabled = !!filters.binary && !this.compiler.supportsFiltersInBinary;\n    this.noBinaryFiltersButtons.prop('disabled', noBinaryFiltersDisabled);\n\n    this.filterLibraryCodeButton.prop('disabled', !this.compiler.supportsLibraryCodeFilter);\n    formatFilterTitle(this.filterLibraryCodeButton, this.filterLibraryCodeTitle);\n\n    this.filterLabelsButton.prop('disabled', this.compiler.disabledFilters.indexOf('labels') !== -1);\n    formatFilterTitle(this.filterLabelsButton, this.filterLabelsTitle);\n    this.filterDirectivesButton.prop('disabled', this.compiler.disabledFilters.indexOf('directives') !== -1);\n    formatFilterTitle(this.filterDirectivesButton, this.filterDirectivesTitle);\n    this.filterCommentsButton.prop('disabled', this.compiler.disabledFilters.indexOf('commentOnly') !== -1);\n    formatFilterTitle(this.filterCommentsButton, this.filterCommentsTitle);\n    this.filterTrimButton.prop('disabled', this.compiler.disabledFilters.indexOf('trim') !== -1);\n    formatFilterTitle(this.filterTrimButton, this.filterTrimTitle);\n\n    if (this.flagsButton) {\n        this.flagsButton.prop('disabled', this.flagsViewOpen);\n    }\n    this.optButton.prop('disabled', this.optViewOpen);\n    this.astButton.prop('disabled', this.astViewOpen);\n    this.irButton.prop('disabled', this.irViewOpen);\n    this.deviceButton.prop('disabled', this.deviceViewOpen);\n    this.rustMirButton.prop('disabled', this.rustMirViewOpen);\n    this.rustMacroExpButton.prop('disabled', this.rustMacroExpViewOpen);\n    this.cfgButton.prop('disabled', this.cfgViewOpen);\n    this.gccDumpButton.prop('disabled', this.gccDumpViewOpen);\n    this.gnatDebugButton.prop('disabled', this.gnatDebugViewOpen);\n    // The executorButton does not need to be changed here, because you can create however\n    // many executors as you want.\n\n    this.optButton.toggle(!!this.compiler.supportsOptOutput);\n    this.astButton.toggle(!!this.compiler.supportsAstView);\n    this.irButton.toggle(!!this.compiler.supportsIrView);\n    this.deviceButton.toggle(!!this.compiler.supportsDeviceAsmView);\n    this.rustMirButton.toggle(!!this.compiler.supportsRustMirView);\n    this.rustMacroExpButton.toggle(!!this.compiler.supportsRustMacroExpView);\n    this.cfgButton.toggle(!!this.compiler.supportsCfg);\n    this.gccDumpButton.toggle(!!this.compiler.supportsGccDump);\n    this.gnatDebugButton.toggle(!!this.compiler.supportsGnatDebugView);\n    this.executorButton.toggle(!!this.compiler.supportsExecute);\n\n    this.enableToolButtons();\n};\n\nCompiler.prototype.handlePopularArgumentsResult = function (result) {\n    var popularArgumentsMenu = $(this.domRoot.find('div.populararguments div.dropdown-menu'));\n\n    while (popularArgumentsMenu.children().length > 1) {\n        popularArgumentsMenu.children()[1].remove();\n    }\n\n    if (result && !this.flagsViewOpen) {\n        _.forEach(result, _.bind(function (arg, key) {\n            var argumentButton = $(document.createElement('button'));\n            argumentButton.addClass('dropdown-item btn btn-light btn-sm');\n            argumentButton.attr('title', arg.description);\n            argumentButton.data('arg', key);\n            argumentButton.html(\n                '<div class=\\'argmenuitem\\'>' +\n                '<span class=\\'argtitle\\'>' + _.escape(key) + '</span>' +\n                '<span class=\\'argdescription\\'>' + arg.description + '</span>' +\n                '</div>');\n\n            argumentButton.click(_.bind(function () {\n                var button = argumentButton;\n                var curOptions = this.optionsField.val();\n                if (curOptions.length > 0) {\n                    this.optionsField.val(curOptions + ' ' + button.data('arg'));\n                } else {\n                    this.optionsField.val(button.data('arg'));\n                }\n\n                this.optionsField.change();\n            }, this));\n\n            popularArgumentsMenu.append(argumentButton);\n        }, this));\n\n    }\n};\n\nCompiler.prototype.onFontScale = function () {\n    this.saveState();\n};\n\n// Disable only for initListeners as there are more and more callbacks.\n// eslint-disable-next-line max-statements\nCompiler.prototype.initListeners = function () {\n    this.filters.on('change', _.bind(this.onFilterChange, this));\n    this.fontScale.on('change', _.bind(this.onFontScale, this));\n\n    this.container.on('destroy', this.close, this);\n    this.container.on('resize', this.resize, this);\n    this.container.on('shown', this.resize, this);\n    this.container.on('open', function () {\n        this.eventHub.emit('compilerOpen', this.id, this.sourceEditorId, this.sourceTreeId);\n    }, this);\n    this.eventHub.on('editorChange', this.onEditorChange, this);\n    this.eventHub.on('compilerFlagsChange', this.onCompilerFlagsChange, this);\n    this.eventHub.on('editorClose', this.onEditorClose, this);\n    this.eventHub.on('treeClose', this.onTreeClose, this);\n    this.eventHub.on('colours', this.onColours, this);\n    this.eventHub.on('coloursForCompiler', this.onColoursForCompiler, this);\n    this.eventHub.on('resendCompilation', this.onResendCompilation, this);\n    this.eventHub.on('findCompilers', this.sendCompiler, this);\n    this.eventHub.on('compilerSetDecorations', this.onCompilerSetDecorations, this);\n    this.eventHub.on('panesLinkLine', this.onPanesLinkLine, this);\n    this.eventHub.on('settingsChange', this.onSettingsChange, this);\n    this.eventHub.on('requestCompilation', this.onRequestCompilation, this);\n\n    this.eventHub.on('toolSettingsChange', this.onToolSettingsChange, this);\n    this.eventHub.on('toolOpened', this.onToolOpened, this);\n    this.eventHub.on('toolClosed', this.onToolClosed, this);\n\n    this.eventHub.on('optViewOpened', this.onOptViewOpened, this);\n    this.eventHub.on('optViewClosed', this.onOptViewClosed, this);\n    this.eventHub.on('flagsViewOpened', this.onFlagsViewOpened, this);\n    this.eventHub.on('flagsViewClosed', this.onFlagsViewClosed, this);\n    this.eventHub.on('astViewOpened', this.onAstViewOpened, this);\n    this.eventHub.on('astViewClosed', this.onAstViewClosed, this);\n    this.eventHub.on('irViewOpened', this.onIrViewOpened, this);\n    this.eventHub.on('irViewClosed', this.onIrViewClosed, this);\n    this.eventHub.on('deviceViewOpened', this.onDeviceViewOpened, this);\n    this.eventHub.on('deviceViewClosed', this.onDeviceViewClosed, this);\n    this.eventHub.on('rustMirViewOpened', this.onRustMirViewOpened, this);\n    this.eventHub.on('rustMirViewClosed', this.onRustMirViewClosed, this);\n    this.eventHub.on('rustMacroExpViewOpened', this.onRustMacroExpViewOpened, this);\n    this.eventHub.on('rustMacroExpViewClosed', this.onRustMacroExpViewClosed, this);\n    this.eventHub.on('outputOpened', this.onOutputOpened, this);\n    this.eventHub.on('outputClosed', this.onOutputClosed, this);\n\n    this.eventHub.on('gccDumpPassSelected', this.onGccDumpPassSelected, this);\n    this.eventHub.on('gccDumpFiltersChanged', this.onGccDumpFiltersChanged, this);\n    this.eventHub.on('gccDumpViewOpened', this.onGccDumpViewOpened, this);\n    this.eventHub.on('gccDumpViewClosed', this.onGccDumpViewClosed, this);\n    this.eventHub.on('gccDumpUIInit', this.onGccDumpUIInit, this);\n\n    this.eventHub.on('gnatDebugViewOpened', this.onGnatDebugViewOpened, this);\n    this.eventHub.on('gnatDebugViewClosed', this.onGnatDebugViewClosed, this);\n\n    this.eventHub.on('cfgViewOpened', this.onCfgViewOpened, this);\n    this.eventHub.on('cfgViewClosed', this.onCfgViewClosed, this);\n    this.eventHub.on('resize', this.resize, this);\n    this.eventHub.on('requestFilters', function (id) {\n        if (id === this.id) {\n            this.eventHub.emit('filtersChange', this.id, this.getEffectiveFilters());\n        }\n    }, this);\n    this.eventHub.on('requestCompiler', function (id) {\n        if (id === this.id) {\n            this.sendCompiler();\n        }\n    }, this);\n    this.eventHub.on('languageChange', this.onLanguageChange, this);\n\n    this.fullTimingInfo\n        .off('click')\n        .click(_.bind(function () {\n            TimingWidget.displayCompilationTiming(this.lastResult, this.lastTimeTaken);\n        }, this));\n};\n\nCompiler.prototype.initCallbacks = function () {\n    this.initListeners();\n\n    var optionsChange = _.debounce(_.bind(function (e) {\n        this.onOptionsChange($(e.target).val());\n    }, this), 800);\n\n    this.optionsField\n        .on('change', optionsChange)\n        .on('keyup', optionsChange);\n\n    this.mouseMoveThrottledFunction = _.throttle(_.bind(this.onMouseMove, this), 50);\n    this.outputEditor.onMouseMove(_.bind(function (e) {\n        this.mouseMoveThrottledFunction(e);\n    }, this));\n\n    this.cursorSelectionThrottledFunction =\n        _.throttle(_.bind(this.onDidChangeCursorSelection, this), 500);\n    this.outputEditor.onDidChangeCursorSelection(_.bind(function (e) {\n        this.cursorSelectionThrottledFunction(e);\n    }, this));\n\n    this.mouseUpThrottledFunction = _.throttle(_.bind(this.onMouseUp, this), 50);\n    this.outputEditor.onMouseUp(_.bind(function (e) {\n        this.mouseUpThrottledFunction(e);\n    }, this));\n\n    this.compileClearCache.on('click', _.bind(function () {\n        this.compilerService.cache.reset();\n        this.compile(true);\n    }, this));\n\n    // Dismiss the popover on escape.\n    $(document).on('keyup.editable', _.bind(function (e) {\n        if (e.which === 27) {\n            this.libsButton.popover('hide');\n        }\n    }, this));\n\n    // Dismiss on any click that isn't either in the opening element, inside\n    // the popover or on any alert\n    $(document).on('click', _.bind(function (e) {\n        var elem = this.libsButton;\n        var target = $(e.target);\n        if (!target.is(elem) && elem.has(target).length === 0 && target.closest('.popover').length === 0) {\n            elem.popover('hide');\n        }\n    }, this));\n\n    this.eventHub.on('initialised', this.undefer, this);\n};\n\nCompiler.prototype.onOptionsChange = function (options) {\n    if (this.options !== options) {\n        this.options = options;\n        this.saveState();\n        this.compile();\n        this.updateButtons();\n        this.sendCompiler();\n    }\n};\n\nCompiler.prototype.checkForUnwiseArguments = function (optionsArray) {\n    // Check if any options are in the unwiseOptions array and remember them\n    var unwiseOptions = _.intersection(optionsArray, _.filter(this.compiler.unwiseOptions, function (opt) {\n        return opt !== '';\n    }));\n\n    var options = unwiseOptions.length === 1 ? 'Option ' : 'Options ';\n    var names = unwiseOptions.join(', ');\n    var are = unwiseOptions.length === 1 ? ' is ' : ' are ';\n    var msg = options + names + are + 'not recommended, as behaviour might change based on server hardware.';\n\n    if (unwiseOptions.length > 0) {\n        this.alertSystem.notify(msg, {group: 'unwiseOption', collapseSimilar: true});\n    }\n};\n\nCompiler.prototype.updateCompilerInfo = function () {\n    this.updateCompilerName();\n    if (this.compiler) {\n        if (this.compiler.notification) {\n            this.alertSystem.notify(this.compiler.notification, {\n                group: 'compilerwarning',\n                alertClass: 'notification-info',\n                dismissTime: 5000,\n            });\n        }\n        this.prependOptions.data('content', this.compiler.options);\n    }\n};\n\nCompiler.prototype.updateCompilerUI = function () {\n    var panerDropdown = this.domRoot.find('.pane-dropdown');\n    var togglePannerAdder = function () {\n        panerDropdown.dropdown('toggle');\n    };\n    this.initToolButtons(togglePannerAdder);\n    this.updateButtons();\n    this.updateCompilerInfo();\n    // Resize in case the new compiler name is too big\n    this.resize();\n};\n\nCompiler.prototype.onCompilerChange = function (value) {\n    this.compiler = this.compilerService.findCompiler(this.currentLangId, value);\n\n    this.deferCompiles = true;\n    this.needsCompile = true;\n\n    this.updateLibraries();\n    this.saveState();\n    this.updateCompilerUI();\n\n    this.undefer();\n\n    this.sendCompiler();\n};\n\nCompiler.prototype.sendCompiler = function () {\n    this.eventHub.emit('compiler', this.id, this.compiler, this.options, this.sourceEditorId, this.sourceTreeId);\n};\n\nCompiler.prototype.onEditorClose = function (editor) {\n    if (editor === this.sourceEditorId) {\n        // We can't immediately close as an outer loop somewhere in GoldenLayout is iterating over\n        // the hierarchy. We can't modify while it's being iterated over.\n        this.close();\n        _.defer(function (self) {\n            self.container.close();\n        }, this);\n    }\n};\n\nCompiler.prototype.onTreeClose = function (tree) {\n    if (tree === this.sourceTreeId) {\n        this.close();\n        _.defer(function (self) {\n            self.container.close();\n        }, this);\n    }\n};\n\nCompiler.prototype.onFilterChange = function () {\n    var filters = this.getEffectiveFilters();\n    this.eventHub.emit('filtersChange', this.id, filters);\n    this.saveState();\n    this.compile();\n    this.updateButtons();\n};\n\nCompiler.prototype.currentState = function () {\n    var state = {\n        id: this.id,\n        compiler: this.compiler ? this.compiler.id : '',\n        source: this.sourceEditorId,\n        tree: this.sourceTreeId,\n        options: this.options,\n        // NB must *not* be effective filters\n        filters: this.filters.get(),\n        wantOptInfo: this.wantOptInfo,\n        libs: this.libsWidget.get(),\n        lang: this.currentLangId,\n        selection: this.selection,\n        flagsViewOpen: this.flagsViewOpen,\n    };\n    this.fontScale.addState(state);\n    return state;\n};\n\nCompiler.prototype.saveState = function () {\n    this.container.setState(this.currentState());\n};\n\nCompiler.prototype.onColours = function (editor, colours, scheme) {\n    var asmColours = {};\n    _.each(this.assembly, _.bind(function (x, index) {\n        if (x.source && x.source.line > 0) {\n            var editorId = this.getEditorIdBySourcefile(x.source);\n            if (editorId === editor) {\n                if (!asmColours[editorId]) {\n                    asmColours[editorId] = {};\n                }\n                asmColours[editorId][index] = colours[x.source.line - 1];\n            }\n        }\n    }, this));\n\n    _.each(asmColours, _.bind(function (col) {\n        this.colours = colour.applyColours(this.outputEditor, col, scheme, this.colours);\n    }, this));\n};\n\nCompiler.prototype.onColoursForCompiler = function (compilerId, colours, scheme) {\n    if (this.id === compilerId) {\n        this.colours = colour.applyColours(this.outputEditor, colours, scheme, this.colours);\n    }\n};\n\nCompiler.prototype.getCompilerName = function () {\n    return this.compiler ? this.compiler.name : 'No compiler set';\n};\n\nCompiler.prototype.getLanguageName = function () {\n    var lang = options.languages[this.currentLangId];\n    return lang ? lang.name : '?';\n};\n\nCompiler.prototype.getPaneName = function () {\n    var langName = this.getLanguageName();\n    var compName = this.getCompilerName();\n    if (this.sourceEditorId) {\n        return compName + ' (' + langName +', Editor #' + this.sourceEditorId + ', Compiler #' + this.id + ')';\n    } else if (this.sourceTreeId) {\n        return compName + ' (' + langName +', Tree #' + this.sourceTreeId + ', Compiler #' + this.id + ')';\n    } else {\n        return '';\n    }\n};\n\nCompiler.prototype.updateCompilerName = function () {\n    var compilerName = this.getCompilerName();\n    var compilerVersion = this.compiler ? this.compiler.version : '';\n    var compilerFullVersion = this.compiler && this.compiler.fullVersion ? this.compiler.fullVersion : compilerVersion;\n    var compilerNotification = this.compiler ? this.compiler.notification : '';\n    this.container.setTitle(this.getPaneName());\n    this.shortCompilerName.text(compilerName);\n    this.setCompilerVersionPopover({version: compilerVersion, fullVersion: compilerFullVersion}, compilerNotification);\n};\n\nCompiler.prototype.resendResult = function () {\n    if (!$.isEmptyObject(this.lastResult)) {\n        this.eventHub.emit('compileResult', this.id, this.compiler, this.lastResult);\n        return true;\n    }\n    return false;\n};\n\nCompiler.prototype.onResendCompilation = function (id) {\n    if (id === this.id) {\n        this.resendResult();\n    }\n};\n\nCompiler.prototype.updateDecorations = function () {\n    this.prevDecorations = this.outputEditor.deltaDecorations(\n        this.prevDecorations, _.flatten(_.values(this.decorations)));\n};\n\nCompiler.prototype.clearLinkedLines = function () {\n    this.decorations.linkedCode = [];\n    this.updateDecorations();\n};\n\nCompiler.prototype.onPanesLinkLine = function (compilerId, lineNumber, colBegin, colEnd, revealLine, sender, editorId) {\n    if (Number(compilerId) === this.id) {\n        var lineNums = [];\n        var directlyLinkedLineNums = [];\n        var signalFromAnotherPane = sender !== this.getPaneName();\n        _.each(this.assembly, _.bind(function (asmLine, i) {\n            if (asmLine.source && asmLine.source.line === lineNumber) {\n                var fileEditorId = this.getEditorIdBySourcefile(asmLine.source);\n                if (fileEditorId && (editorId === fileEditorId)) {\n                    var line = i + 1;\n                    lineNums.push(line);\n                    var currentCol = asmLine.source.column;\n                    if (signalFromAnotherPane && currentCol && colBegin <= currentCol && currentCol <= colEnd) {\n                        directlyLinkedLineNums.push(line);\n                    }\n                }\n            }\n        }, this));\n\n        if (revealLine && lineNums[0]) {\n            this.pushRevealJump();\n            this.outputEditor.revealLineInCenter(lineNums[0]);\n        }\n\n        var lineClass = sender !== this.getPaneName() ? 'linked-code-decoration-line' : '';\n        var linkedLinesDecoration = _.map(lineNums, function (line) {\n            return {\n                range: new monaco.Range(line, 1, line, 1),\n                options: {\n                    isWholeLine: true,\n                    linesDecorationsClassName: 'linked-code-decoration-margin',\n                    className: lineClass,\n                },\n            };\n        });\n        var directlyLinkedLinesDecoration = _.map(directlyLinkedLineNums, function (line) {\n            return {\n                range: new monaco.Range(line, 1, line, 1),\n                options: {\n                    isWholeLine: true,\n                    inlineClassName: 'linked-code-decoration-column',\n                },\n            };\n        });\n        this.decorations.linkedCode = linkedLinesDecoration.concat(directlyLinkedLinesDecoration);\n        if (this.linkedFadeTimeoutId !== -1) {\n            clearTimeout(this.linkedFadeTimeoutId);\n        }\n        this.linkedFadeTimeoutId = setTimeout(_.bind(function () {\n            this.clearLinkedLines();\n            this.linkedFadeTimeoutId = -1;\n        }, this), 5000);\n        this.updateDecorations();\n    }\n};\n\nCompiler.prototype.onCompilerSetDecorations = function (id, lineNums, revealLine) {\n    if (Number(id) === this.id) {\n        if (revealLine && lineNums[0]) {\n            this.pushRevealJump();\n            this.outputEditor.revealLineInCenter(lineNums[0]);\n        }\n        this.decorations.linkedCode = _.map(lineNums, function (line) {\n            return {\n                range: new monaco.Range(line, 1, line, 1),\n                options: {\n                    isWholeLine: true,\n                    linesDecorationsClassName: 'linked-code-decoration-margin',\n                    inlineClassName: 'linked-code-decoration-inline',\n                },\n            };\n        });\n        this.updateDecorations();\n    }\n};\n\nCompiler.prototype.setCompilationOptionsPopover = function (content) {\n    this.prependOptions.popover('dispose');\n    this.prependOptions.popover({\n        content: content || 'No options in use',\n        template: '<div class=\"popover' +\n            (content ? ' compiler-options-popover' : '') +\n            '\" role=\"tooltip\"><div class=\"arrow\"></div>' +\n            '<h3 class=\"popover-header\"></h3><div class=\"popover-body\"></div></div>',\n    });\n};\n\nCompiler.prototype.setCompilerVersionPopover = function (version, notification) {\n    this.fullCompilerName.popover('dispose');\n    // `notification` contains HTML from a config file, so is 'safe'.\n    // `version` comes from compiler output, so isn't, and is escaped.\n    var bodyContent = $('<div>');\n    var versionContent = $('<div>')\n        .html(_.escape(version.version));\n    bodyContent.append(versionContent);\n    if (version.fullVersion) {\n        var hiddenSection = $('<div>');\n        var lines = _.map(version.fullVersion.split('\\n'), function (line) {\n            return _.escape(line);\n        }).join('<br/>');\n        var hiddenVersionText = $('<div>')\n            .html(lines)\n            .hide();\n        var clickToExpandContent = $('<a>')\n            .attr('href', 'javascript:;')\n            .text('Toggle full version output')\n            .on('click', _.bind(function () {\n                versionContent.toggle();\n                hiddenVersionText.toggle();\n                this.fullCompilerName.popover('update');\n            }, this));\n        hiddenSection.append(hiddenVersionText).append(clickToExpandContent);\n        bodyContent.append(hiddenSection);\n    }\n    this.fullCompilerName.popover({\n        html: true,\n        title: notification ?\n            $.parseHTML('<span>Compiler Version: ' + notification + '</span>')[0] :\n            'Full compiler version',\n        content: bodyContent,\n        template: '<div class=\"popover' + (version ? ' compiler-options-popover' : '') + '\" role=\"tooltip\">' +\n            '<div class=\"arrow\"></div>' +\n            '<h3 class=\"popover-header\"></h3><div class=\"popover-body\"></div>' +\n            '</div>',\n    });\n};\n\nCompiler.prototype.onRequestCompilation = function (editorId, treeId) {\n    if ((editorId === this.sourceEditorId) || (treeId && treeId === this.sourceTreeId)) {\n        this.compile();\n    }\n};\n\nCompiler.prototype.onSettingsChange = function (newSettings) {\n    var before = this.settings;\n    this.settings = _.clone(newSettings);\n    if (!before.lastHoverShowSource && this.settings.hoverShowSource) {\n        this.onCompilerSetDecorations(this.id, []);\n    }\n    this.outputEditor.updateOptions({\n        contextmenu: this.settings.useCustomContextMenu,\n        minimap: {\n            enabled: this.settings.showMinimap && !options.embedded,\n        },\n        fontFamily: this.settings.editorsFFont,\n        fontLigatures: this.settings.editorsFLigatures,\n    });\n};\n\nvar hexLike = /^(#?[$]|0x)([0-9a-fA-F]+)$/;\nvar hexLike2 = /^(#?)([0-9a-fA-F]+)H$/;\nvar decimalLike = /^(#?)(-?[0-9]+)$/;\n\nfunction getNumericToolTip(value) {\n    var match = hexLike.exec(value) || hexLike2.exec(value);\n    if (match) {\n        return value + ' = ' + bigInt(match[2], 16).toString(10);\n    }\n    match = decimalLike.exec(value);\n    if (match) {\n        var asBig = bigInt(match[2]);\n        if (asBig.isNegative()) {\n            asBig = bigInt('ffffffffffffffff', 16).and(asBig);\n        }\n        return value + ' = 0x' + asBig.toString(16).toUpperCase();\n    }\n\n    return null;\n}\n\nfunction getAsmInfo(opcode, instructionSet) {\n    var cacheName = 'asm/' + (instructionSet ? (instructionSet + '/') : '') + opcode;\n    var cached = OpcodeCache.get(cacheName);\n    if (cached) {\n        return Promise.resolve(cached.found ? cached.result : null);\n    }\n    var base = window.httpRoot;\n    return new Promise(function (resolve, reject) {\n        $.ajax({\n            type: 'GET',\n            url: window.location.origin + base + 'api/asm/' + (instructionSet ? (instructionSet + '/') : '') + opcode,\n            dataType: 'json',  // Expected,\n            contentType: 'text/plain',  // Sent\n            success: function (result) {\n                OpcodeCache.set(cacheName, result);\n                resolve(result.found ? result.result : null);\n            },\n            error: function (result) {\n                reject(result);\n            },\n            cache: true,\n        });\n    });\n}\n\nCompiler.prototype.onDidChangeCursorSelection = function (e) {\n    if (this.awaitingInitialResults) {\n        this.selection = e.selection;\n        this.saveState();\n    }\n};\n\nCompiler.prototype.onMouseUp = function (e) {\n    if (e === null || e.target === null || e.target.position === null) return;\n\n    if (e.event.ctrlKey && e.event.leftButton) {\n        this.jumpToLabel(e.target.position);\n    }\n};\n\nCompiler.prototype.onMouseMove = function (e) {\n    if (e === null || e.target === null || e.target.position === null) return;\n    var hoverShowSource = this.settings.hoverShowSource === true;\n    if (this.assembly) {\n        var hoverAsm = this.assembly[e.target.position.lineNumber - 1];\n        if (hoverShowSource && hoverAsm) {\n            this.clearLinkedLines();\n            // We check that we actually have something to show at this point!\n            var sourceLine = -1;\n            var sourceColBegin = -1;\n            var sourceColEnd = -1;\n            if (hoverAsm.source) {\n                sourceLine = hoverAsm.source.line;\n                if (hoverAsm.source.column) {\n                    sourceColBegin = hoverAsm.source.column;\n                    sourceColEnd = sourceColBegin;\n                }\n\n                var editorId = this.getEditorIdBySourcefile(hoverAsm.source);\n                if (editorId) {\n                    this.eventHub.emit('editorLinkLine', editorId, sourceLine, sourceColBegin, sourceColEnd, false);\n    \n                    this.eventHub.emit('panesLinkLine', this.id,\n                        sourceLine, sourceColBegin, sourceColEnd,\n                        false, this.getPaneName(), editorId);\n                }\n            }\n        }\n    }\n    var currentWord = this.outputEditor.getModel().getWordAtPosition(e.target.position);\n    if (currentWord && currentWord.word) {\n        var word = currentWord.word;\n        var startColumn = currentWord.startColumn;\n        // Avoid throwing an exception if somehow (How?) we have a non existent lineNumber.\n        // c.f. https://sentry.io/matt-godbolt/compiler-explorer/issues/285270358/\n        if (e.target.position.lineNumber <= this.outputEditor.getModel().getLineCount()) {\n            // Hacky workaround to check for negative numbers.\n            // c.f. https://github.com/compiler-explorer/compiler-explorer/issues/434\n            var lineContent = this.outputEditor.getModel().getLineContent(e.target.position.lineNumber);\n            if (lineContent[currentWord.startColumn - 2] === '-') {\n                word = '-' + word;\n                startColumn -= 1;\n            }\n        }\n        currentWord.range = new monaco.Range(e.target.position.lineNumber, Math.max(startColumn, 1),\n            e.target.position.lineNumber, currentWord.endColumn);\n        var numericToolTip = getNumericToolTip(word);\n        if (numericToolTip) {\n            this.decorations.numericToolTip = {\n                range: currentWord.range,\n                options: {\n                    isWholeLine: false, hoverMessage: [{\n                        value: '`' + numericToolTip + '`',\n                    }],\n                },\n            };\n            this.updateDecorations();\n        }\n\n        if (hoverShowSource && this.isWordAsmKeyword(currentWord)) {\n            getAsmInfo(currentWord.word, this.compiler.instructionSet).then(_.bind(function (response) {\n                if (!response) return;\n                this.decorations.asmToolTip = {\n                    range: currentWord.range,\n                    options: {\n                        isWholeLine: false,\n                        hoverMessage: [{\n                            value: response.tooltip + '\\n\\nMore information available in the context menu.',\n                            isTrusted: true,\n                        }],\n                    },\n                };\n                this.updateDecorations();\n            }, this));\n        }\n    }\n};\n\nCompiler.prototype.getLineTokens = function (line) {\n    var model = this.outputEditor.getModel();\n    if (!model || line > model.getLineCount()) return [];\n    var flavour = model.getModeId();\n    var tokens = monaco.editor.tokenize(model.getLineContent(line), flavour);\n    return tokens.length > 0 ? tokens[0] : [];\n};\n\nCompiler.prototype.isWordAsmKeyword = function (word) {\n    return _.some(this.getLineTokens(word.range.startLineNumber), function (t) {\n        return t.offset + 1 === word.startColumn && t.type === 'keyword.asm';\n    });\n};\n\nCompiler.prototype.onAsmToolTip = function (ed) {\n    ga.proxy('send', {\n        hitType: 'event',\n        eventCategory: 'OpenModalPane',\n        eventAction: 'AsmDocs',\n    });\n    if (!this.getEffectiveFilters().intel) return;\n    var pos = ed.getPosition();\n    var word = ed.getModel().getWordAtPosition(pos);\n    if (!word || !word.word) return;\n    var opcode = word.word.toUpperCase();\n\n    function newGitHubIssueUrl() {\n        return 'https://github.com/compiler-explorer/compiler-explorer/issues/new?title=' +\n            encodeURIComponent('[BUG] Problem with ' + opcode + ' opcode');\n    }\n\n    function appendInfo(url) {\n        return '<br><br>For more information, visit <a href=\"' + url +\n            '\" target=\"_blank\" rel=\"noopener noreferrer\">the ' + opcode +\n            ' documentation <sup><small class=\"fas fa-external-link-alt opens-new-window\"' +\n            ' title=\"Opens in a new window\"></small></sup></a>.' +\n            '<br>If the documentation for this opcode is wrong or broken in some way, ' +\n            'please feel free to <a href=\"' + newGitHubIssueUrl() + '\" target=\"_blank\" rel=\"noopener noreferrer\">' +\n            'open an issue on GitHub <sup><small class=\"fas fa-external-link-alt opens-new-window\" ' +\n            'title=\"Opens in a new window\"></small></sup></a>.';\n    }\n\n    getAsmInfo(word.word, this.compiler.instructionSet).then(_.bind(function (asmHelp) {\n        if (asmHelp) {\n            this.alertSystem.alert(opcode + ' help', asmHelp.html + appendInfo(asmHelp.url), function () {\n                ed.focus();\n                ed.setPosition(pos);\n            });\n        } else {\n            this.alertSystem.notify('This token was not found in the documentation. Sorry!', {\n                group: 'notokenindocs',\n                alertClass: 'notification-error',\n                dismissTime: 3000,\n            });\n        }\n    }, this), _.bind(function (rejection) {\n        this.alertSystem\n            .notify('There was an error fetching the documentation for this opcode (' + rejection + ').', {\n                group: 'notokenindocs',\n                alertClass: 'notification-error',\n                dismissTime: 3000,\n            });\n    }, this));\n};\n\nCompiler.prototype.handleCompilationStatus = function (status) {\n    this.compilerService.handleCompilationStatus(this.statusLabel, this.statusIcon, status);\n};\n\nCompiler.prototype.onLanguageChange = function (editorId, newLangId, treeId) {\n    if ((this.sourceEditorId && this.sourceEditorId === editorId) ||\n        (this.sourceTreeId && this.sourceTreeId === treeId)) {\n        var oldLangId = this.currentLangId;\n        this.currentLangId = newLangId;\n        // Store the current selected stuff to come back to it later in the same session (Not state stored!)\n        this.infoByLang[oldLangId] = {\n            compiler: this.compiler && this.compiler.id ? this.compiler.id : options.defaultCompiler[oldLangId],\n            options: this.options,\n        };\n        var info = this.infoByLang[this.currentLangId] || {};\n        this.deferCompiles = true;\n        this.initLangAndCompiler({lang: newLangId, compiler: info.compiler});\n        this.updateCompilersSelector(info);\n        this.saveState();\n        this.updateCompilerUI();\n\n        // this is a workaround to delay compilation further until the Editor sends a compile request\n        this.needsCompile = false;\n\n        this.undefer();\n        this.sendCompiler();\n    }\n};\n\nCompiler.prototype.getCurrentLangCompilers = function () {\n    return this.compilerService.getCompilersForLang(this.currentLangId);\n};\n\nCompiler.prototype.updateCompilersSelector = function (info) {\n    this.compilerPicker.update(this.currentLangId, this.compiler ? this.compiler.id : null);\n    this.options = info.options || '';\n    this.optionsField.val(this.options);\n};\n\nmodule.exports = {\n    Compiler: Compiler,\n};\n","// Copyright (c) 2018, Eugen Bulavin\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar monaco = require('monaco-editor');\n\nfunction definition() {\n    return {\n        keywords: [\n            'and',\n            'as',\n            'assert',\n            'asr',\n            'begin',\n            'class',\n            'constraint',\n            'do',\n            'done',\n            'downto',\n            'else',\n            'end',\n            'exception',\n            'external',\n            'false',\n            'for',\n            'fun',\n            'function',\n            'functor',\n            'if',\n            'in',\n            'include',\n            'inherit',\n            'initializer',\n            'land',\n            'lazy',\n            'let',\n            'lor',\n            'lsl',\n            'lsr',\n            'lxor',\n            'match',\n            'method',\n            'mod',\n            'module',\n            'mutable',\n            'new',\n            'nonrec',\n            'object',\n            'of',\n            'open',\n            'or',\n            'private',\n            'rec',\n            'sig',\n            'struct',\n            'then',\n            'to',\n            'true',\n            'try',\n            'type',\n            'val',\n            'virtual',\n            'when',\n            'while',\n            'with',\n        ],\n\n        typeKeywords: [\n            'int',\n            'int32',\n            'int64',\n            'bool',\n            'char',\n            'unit',\n        ],\n\n        numbers: /-?[0-9.]/,\n\n        tokenizer: {\n            root: [\n                // identifiers and keywords\n                [/[a-z_$][\\w$]*/, {\n                    cases: {\n                        '@typeKeywords': 'keyword',\n                        '@keywords': 'keyword',\n                        '@default': 'identifier',\n                    },\n                }],\n\n                { include: '@whitespace' },\n\n                [/@numbers/, 'number'],\n\n                [/[+\\-*/=<>$@]/, 'operators'],\n\n                [/(\")(.*)(\")/, ['string', 'string', 'string']],\n            ],\n\n            comment: [\n                [/[^(*]+/, 'comment'],\n                [/\\*\\)/, 'comment', '@pop'],\n            ],\n\n            whitespace: [\n                [/[ \\t\\r\\n]+/, 'white'],\n                [/\\(\\*/, 'comment', '@comment'],\n            ],\n        },\n    };\n}\n\nmonaco.languages.register({id: 'ocaml'});\nmonaco.languages.setMonarchTokensProvider('ocaml', definition());\n\nexport {};\n","// Copyright (c) 2018, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar monaco = require('monaco-editor');\n\n// This definition is based on the official LLVM vim syntax:\n// http://llvm.org/svn/llvm-project/llvm/trunk/utils/vim/syntax/llvm.vim\n// For VIM regex syntax, see: http://vimdoc.sourceforge.net/htmldoc/pattern.html\nfunction definition() {\n    return {\n        // llvmType\n        types: [\n            'void', 'half', 'float', 'double', 'x86_fp80', 'fp128', 'ppc_fp128',\n            'label', 'metadata', 'x86_mmx',\n            'type', 'label', 'opaque', 'token',\n        ],\n        // llvmStatement\n        statements: [\n            'add', 'addrspacecast', 'alloca', 'and', 'arcp', 'ashr', 'atomicrmw',\n            'bitcast', 'br', 'catchpad', 'catchswitch', 'catchret', 'call',\n            'cleanuppad', 'cleanupret', 'cmpxchg', 'eq', 'exact', 'extractelement',\n            'extractvalue', 'fadd', 'fast', 'fcmp', 'fdiv', 'fence', 'fmul', 'fpext',\n            'fptosi', 'fptoui', 'fptrunc', 'free', 'frem', 'fsub', 'getelementptr',\n            'icmp', 'inbounds', 'indirectbr', 'insertelement', 'insertvalue',\n            'inttoptr', 'invoke', 'landingpad', 'load', 'lshr', 'malloc', 'max', 'min',\n            'mul', 'nand', 'ne', 'ninf', 'nnan', 'nsw', 'nsz', 'nuw', 'oeq', 'oge', 'ogt', 'ole',\n            'olt', 'one', 'or', 'ord', 'phi', 'ptrtoint', 'resume', 'ret', 'sdiv', 'select',\n            'sext', 'sge', 'sgt', 'shl', 'shufflevector', 'sitofp', 'sle', 'slt', 'srem',\n            'store', 'sub', 'switch', 'trunc', 'udiv', 'ueq', 'uge', 'ugt', 'uitofp', 'ule', 'ult',\n            'umax', 'umin', 'une', 'uno', 'unreachable', 'unwind', 'urem', 'va_arg',\n            'xchg', 'xor', 'zext',\n        ],\n        // llvmKeyword\n        keywords: [\n            'acq_rel', 'acquire', 'addrspace', 'alias', 'align', 'alignstack', 'alwaysinline',\n            'appending', 'argmemonly', 'arm_aapcscc', 'arm_aapcs_vfpcc', 'arm_apcscc', 'asm',\n            'atomic', 'available_externally', 'blockaddress', 'builtin', 'byval', 'c', 'catch',\n            'caller', 'cc', 'ccc', 'cleanup', 'coldcc', 'comdat', 'common', 'constant',\n            'datalayout', 'declare', 'default', 'define', 'deplibs', 'dereferenceable',\n            'distinct', 'dllexport', 'dllimport', 'dso_local', 'dso_preemptable', 'except',\n            'external', 'externally_initialized', 'extern_weak', 'fastcc', 'filter', 'from',\n            'gc', 'global', 'hhvmcc', 'hhvm_ccc', 'hidden', 'initialexec', 'inlinehint',\n            'inreg', 'inteldialect', 'intel_ocl_bicc', 'internal', 'linkonce', 'linkonce_odr',\n            'localdynamic', 'localexec', 'local_unnamed_addr', 'minsize', 'module',\n            'monotonic', 'msp430_intrcc', 'musttail', 'naked', 'nest', 'noalias', 'nobuiltin',\n            'nocapture', 'noimplicitfloat', 'noinline', 'nonlazybind', 'nonnull', 'norecurse',\n            'noredzone', 'noreturn', 'nounwind', 'optnone', 'optsize', 'personality',\n            'private', 'protected', 'ptx_device', 'ptx_kernel', 'readnone', 'readonly',\n            'release', 'returned', 'returns_twice', 'sanitize_address', 'sanitize_memory',\n            'sanitize_thread', 'section', 'seq_cst', 'sideeffect', 'signext', 'syncscope',\n            'source_filename', 'speculatable', 'spir_func', 'spir_kernel', 'sret', 'ssp',\n            'sspreq', 'sspstrong', 'strictfp', 'swiftcc', 'tail', 'target', 'thread_local',\n            'to', 'triple', 'unnamed_addr', 'unordered', 'uselistorder', 'uselistorder_bb',\n            'uwtable', 'volatile', 'weak', 'weak_odr', 'within', 'writeonly', 'x86_64_sysvcc',\n            'win64cc', 'x86_fastcallcc', 'x86_stdcallcc', 'x86_thiscallcc', 'zeroext',\n        ],\n\n        escapes: /\\\\(?:[abfnrtv\\\\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,\n\n        tokenizer: {\n            root: [\n                [/[,(){}<>[\\]]/, 'delimiters'],\n                [/i\\d+\\**/, 'type'], // llvmType\n\n                // Misc syntax.\n                [/[%@!]\\d+/, 'variable.name'],                         // llvmNoName\n                [/-?\\d+\\.\\d*(e[+-]\\d+)?/, 'number.float'],             // llvmFloat\n                [/0[xX][0-9A-Fa-f]+/, 'number.hex'],                   // llvmFloat\n                [/-?\\d+/, 'number'],                                   // llvmNumber\n                [/\\b(true|false)\\b/, 'keyword'],                       // llvmBoolean\n                [/\\b(zeroinitializer|undef|null|none)\\b/, 'constant'], // llvmConstant\n                [/\"([^\"\\\\]|\\\\.)*$/, 'string.invalid'],                 // non-terminated string\n                [/\"/, 'string', '@string'],                            // push to string state\n                [/[-a-zA-Z$._][-a-zA-Z$._0-9]*:/, 'tag'],              // llvmLabel\n                [/[%@][-a-zA-Z$._][-a-zA-Z$._0-9]*/, 'variable.name'], // llvmIdentifier\n\n                // Named metadata and specialized metadata keywords.\n                [/![-a-zA-Z$._][-a-zA-Z$._0-9]*(?=\\s*)$/, 'identifier'],    // llvmIdentifier\n                [/![-a-zA-Z$._][-a-zA-Z$._0-9]*(?=\\s*[=!])/, 'identifier'], // llvmIdentifier\n                [/![A-Za-z]+(?=\\s*\\()/, 'type'],                            // llvmType\n                [/\\bDW_TAG_[a-z_]+\\b/, 'constant'],                         // llvmConstant\n                [/\\bDW_ATE_[a-zA-Z_]+\\b/, 'constant'],                      // llvmConstant\n                [/\\bDW_OP_[a-zA-Z0-9_]+\\b/, 'constant'],                    // llvmConstant\n                [/\\bDW_LANG_[a-zA-Z0-9_]+\\b/, 'constant'],                  // llvmConstant\n                [/\\bDW_VIRTUALITY_[a-z_]+\\b/, 'constant'],                  // llvmConstant\n                [/\\bDIFlag[A-Za-z]+\\b/, 'constant'],                        // llvmConstant\n\n                // Syntax-highlight lit test commands and bug numbers.\n                [/;\\s*PR\\d*\\s*$/, 'comment.doc'],                               // llvmSpecialComment\n                [/;\\s*REQUIRES:.*$/, 'comment.doc'],                            // llvmSpecialComment\n                [/;\\s*RUN:.*$/, 'comment.doc'],                                 // llvmSpecialComment\n                [/;\\s*CHECK:.*$/, 'comment.doc'],                               // llvmSpecialComment\n                [/;\\s*CHECK-(?:NEXT|NOT|DAG|SAME|LABEL):.*$/, 'comment.doc'],   // llvmSpecialComment\n                [/;\\s*XFAIL:.*$/, 'comment.doc'],                               // llvmSpecialComment\n                [/;.*$/, 'comment'],\n                [/[*#=!]/, 'operators'],\n                [/[a-z_$][\\w$]*/, {\n                    cases: {\n                        '@statements': 'operators',\n                        '@keywords': 'keyword',\n                        '@types': 'type',\n                        '@default': 'identifier',\n                    },\n                }],\n                [/[ \\t\\r\\n]+/, 'white'],\n\n            ],\n            string: [\n                [/[^\\\\\"]+/, 'string'],\n                [/@escapes/, 'string.escape'],\n                [/\\\\./, 'string.escape.invalid'],\n                [/\"/, 'string', '@pop'],\n            ],\n        },\n    };\n}\n\nmonaco.languages.register({id: 'llvm-ir'});\nmonaco.languages.setMonarchTokensProvider('llvm-ir', definition());\n\nexport {};\n","// Copyright (c) 2021, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\nexport function updateAndCalcTopBarHeight(domRoot: JQuery, topBar: JQuery, hideable: JQuery): number {\n    let topBarHeight = 0;\n    let topBarHeightMax = 0;\n    let topBarHeightMin = 0;\n\n    if (!topBar.hasClass('d-none')) {\n        hideable.show();\n        topBarHeightMax = topBar.outerHeight(true);\n        hideable.hide();\n        topBarHeightMin = topBar.outerHeight(true);\n        topBarHeight = topBarHeightMin;\n        if (topBarHeightMin === topBarHeightMax) {\n            hideable.show();\n        }\n    }\n\n    return topBarHeight;\n}\n","// Copyright (c) 2019, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar ga = require('../analytics').ga;\nvar Toggles = require('../toggles').Toggles;\nvar FontScale = require('../fontscale').FontScale;\nvar options = require('../options').options;\nvar Alert = require('../alert').Alert;\nvar Libraries = require('../libs-widget-ext');\nvar AnsiToHtml = require('../ansi-to-html').Filter;\nvar TimingWidget = require('../timing-info-widget');\nvar CompilerPicker = require('../compiler-picker').CompilerPicker;\nvar Settings = require('../settings');\nvar utils = require('../utils');\nvar LibUtils = require('../lib-utils').LibUtils;\n\nrequire('../modes/asm-mode');\nrequire('../modes/ptx-mode');\n\nvar languages = options.languages;\n\nfunction makeAnsiToHtml(color) {\n    return new AnsiToHtml({\n        fg: color ? color : '#333',\n        bg: '#f5f5f5',\n        stream: true,\n        escapeXML: true,\n    });\n}\n\n\nfunction Executor(hub, container, state) {\n    this.container = container;\n    this.hub = hub;\n    this.eventHub = hub.createEventHub();\n    this.compilerService = hub.compilerService;\n    this.domRoot = container.getElement();\n    this.domRoot.html($('#executor').html());\n    this.contentRoot = this.domRoot.find('.content');\n    this.sourceTreeId = state.tree ? state.tree : false;\n    if (this.sourceTreeId) {\n        this.sourceEditorId = false;\n    } else {\n        this.sourceEditorId = state.source || 1;\n    }\n    this.id = state.id || hub.nextExecutorId();\n    this.settings = Settings.getStoredSettings();\n    this.initLangAndCompiler(state);\n    this.infoByLang = {};\n    this.deferCompiles = hub.deferred;\n    this.needsCompile = false;\n    this.options = state.options || options.compileOptions[this.currentLangId];\n    this.executionArguments = state.execArgs || '';\n    this.executionStdin = state.execStdin || '';\n    this.source = '';\n    this.lastResult = {};\n    this.lastTimeTaken = 0;\n    this.pendingRequestSentAt = 0;\n    this.pendingCMakeRequestSentAt = 0;\n    this.nextRequest = null;\n    this.nextCMakeRequest = null;\n\n    this.alertSystem = new Alert();\n    this.alertSystem.prefixMessage = 'Executor #' + this.id + ': ';\n\n    this.normalAnsiToHtml = makeAnsiToHtml();\n    this.errorAnsiToHtml = makeAnsiToHtml('red');\n\n    this.initButtons(state);\n\n    this.fontScale = new FontScale(this.domRoot, state, 'pre.content');\n    this.compilerPicker = new CompilerPicker(\n        this.domRoot,\n        this.hub,\n        this.currentLangId,\n        this.compiler ? this.compiler.id : null,\n        _.bind(this.onCompilerChange, this),\n        this.compilerIsVisible\n    );\n\n    this.initLibraries(state);\n    this.initCallbacks();\n    // Handle initial settings\n    this.onSettingsChange(this.settings);\n    this.updateCompilerInfo();\n    this.saveState();\n    ga.proxy('send', {\n        hitType: 'event',\n        eventCategory: 'OpenViewPane',\n        eventAction: 'Executor',\n    });\n\n    if (this.sourceTreeId) {\n        this.compile();\n    }\n}\n\nExecutor.prototype.compilerIsVisible = function (compiler) {\n    return compiler.supportsExecute;\n};\n\nExecutor.prototype.getEditorIdBySourcefile = function (sourcefile) {\n    if (this.sourceTreeId) {\n        var tree = this.hub.getTreeById(this.sourceTreeId);\n        if (tree) {\n            return tree.multifileService.getEditorIdByFilename(sourcefile.file);\n        }\n    } else {\n        if (sourcefile !== null && (sourcefile.file === null || sourcefile.mainsource)) {\n            return this.sourceEditorId;\n        }\n    }\n\n    return false;\n};\n\nExecutor.prototype.initLangAndCompiler = function (state) {\n    var langId = state.lang;\n    var compilerId = state.compiler;\n    var result = this.compilerService.processFromLangAndCompiler(langId, compilerId);\n    this.compiler = result.compiler;\n    this.currentLangId = result.langId;\n    this.updateLibraries();\n};\n\nExecutor.prototype.close = function () {\n    this.eventHub.unsubscribe();\n    this.compilerPicker.close();\n    this.eventHub.emit('executorClose', this.id);\n};\n\nExecutor.prototype.undefer = function () {\n    this.deferCompiles = false;\n    if (this.needsCompile) this.compile();\n};\n\nExecutor.prototype.resize = function () {\n    var topBarHeight = utils.updateAndCalcTopBarHeight(this.domRoot, $(this.topBar[0]), this.hideable);\n\n    // We have some more elements that modify the topBarHeight\n    if (!this.panelCompilation.hasClass('d-none')) {\n        topBarHeight += this.panelCompilation.outerHeight(true);\n    }\n    if (!this.panelArgs.hasClass('d-none')) {\n        topBarHeight += this.panelArgs.outerHeight(true);\n    }\n    if (!this.panelStdin.hasClass('d-none')) {\n        topBarHeight += this.panelStdin.outerHeight(true);\n    }\n\n    var bottomBarHeight = this.bottomBar.outerHeight(true);\n    this.outputContentRoot.outerHeight(this.domRoot.height() - topBarHeight - bottomBarHeight);\n\n};\n\nfunction errorResult(message) {\n    return {code: -1, stderr: message};\n}\n\nExecutor.prototype.compile = function (bypassCache) {\n    if (this.deferCompiles) {\n        this.needsCompile = true;\n        return;\n    }\n    this.needsCompile = false;\n    this.compileTimeLabel.text(' - Compiling...');\n    var options = {\n        userArguments: this.options,\n        executeParameters: {\n            args: this.executionArguments,\n            stdin: this.executionStdin,\n        },\n        compilerOptions: {\n            executorRequest: true,\n            skipAsm: true,\n        },\n        filters: {execute: true},\n        tools: [],\n        libraries: [],\n    };\n\n    _.each(this.libsWidget.getLibsInUse(), function (item) {\n        options.libraries.push({\n            id: item.libId,\n            version: item.versionId,\n        });\n    });\n\n    if (this.sourceTreeId) {\n        this.compileFromTree(options, bypassCache);\n    } else {\n        this.compileFromEditorSource(options, bypassCache);\n    }\n};\n\nExecutor.prototype.compileFromEditorSource = function (options, bypassCache) {\n    if (!this.compiler.supportsExecute) {\n        this.alertSystem.notify('This compiler (' + this.compiler.name + ') does not support execution', {\n            group: 'execution',\n        });\n        return;\n    }\n    this.compilerService.expand(this.source).then(_.bind(function (expanded) {\n        var request = {\n            source: expanded || '',\n            compiler: this.compiler ? this.compiler.id : '',\n            options: options,\n            lang: this.currentLangId,\n            files: [],\n        };\n        if (bypassCache) request.bypassCache = true;\n        if (!this.compiler) {\n            this.onCompileResponse(request, errorResult('<Please select a compiler>'), false);\n        } else {\n            this.sendCompile(request);\n        }\n    }, this));\n};\n\nExecutor.prototype.compileFromTree = function (options, bypassCache) {\n    var tree = this.hub.getTreeById(this.sourceTreeId);\n    if (!tree) {\n        this.sourceTreeId = false;\n        this.compileFromEditorSource(options, bypassCache);\n        return;\n    }\n\n    var mainsource = tree.multifileService.getMainSource();\n\n    var request = {\n        source: mainsource,\n        compiler: this.compiler ? this.compiler.id : '',\n        options: options,\n        lang: this.currentLangId,\n        files: tree.multifileService.getFiles(),\n    };\n\n    var treeState = tree.currentState();\n    var cmakeProject = tree.multifileService.isACMakeProject();\n\n    if (bypassCache) request.bypassCache = true;\n    if (!this.compiler) {\n        this.onCompileResponse(request, errorResult('<Please select a compiler>'), false);\n    } else if (cmakeProject && request.source === '') {\n        this.onCompileResponse(request, errorResult('<Please supply a CMakeLists.txt>'), false);\n    } else {\n        if (cmakeProject) {\n            request.options.compilerOptions.cmakeArgs = treeState.cmakeArgs;\n            request.options.compilerOptions.customOutputFilename = treeState.customOutputFilename;\n            this.sendCMakeCompile(request);\n        } else {\n            this.sendCompile(request);\n        }\n    }\n};\n\nExecutor.prototype.sendCMakeCompile = function (request) {\n    var onCompilerResponse = _.bind(this.onCMakeResponse, this);\n\n    if (this.pendingCMakeRequestSentAt) {\n        // If we have a request pending, then just store this request to do once the\n        // previous request completes.\n        this.nextCMakeRequest = request;\n        return;\n    }\n    // this.eventHub.emit('compiling', this.id, this.compiler);\n    // Display the spinner\n    this.handleCompilationStatus({code: 4});\n    this.pendingCMakeRequestSentAt = Date.now();\n    // After a short delay, give the user some indication that we're working on their\n    // compilation.\n    this.compilerService.submitCMake(request)\n        .then(function (x) {\n            onCompilerResponse(request, x.result, x.localCacheHit);\n        })\n        .catch(function (x) {\n            var message = 'Unknown error';\n            if (_.isString(x)) {\n                message = x;\n            } else if (x) {\n                message = x.error || x.code || x;\n            }\n            onCompilerResponse(request, errorResult(message), false);\n        });\n};\n\nExecutor.prototype.sendCompile = function (request) {\n    var onCompilerResponse = _.bind(this.onCompileResponse, this);\n\n    if (this.pendingRequestSentAt) {\n        // If we have a request pending, then just store this request to do once the\n        // previous request completes.\n        this.nextRequest = request;\n        return;\n    }\n    // this.eventHub.emit('compiling', this.id, this.compiler);\n    // Display the spinner\n    this.handleCompilationStatus({code: 4});\n    this.pendingRequestSentAt = Date.now();\n    // After a short delay, give the user some indication that we're working on their\n    // compilation.\n    this.compilerService.submit(request)\n        .then(function (x) {\n            onCompilerResponse(request, x.result, x.localCacheHit);\n        })\n        .catch(function (x) {\n            var message = 'Unknown error';\n            if (_.isString(x)) {\n                message = x;\n            } else if (x) {\n                message = x.error || x.code;\n            }\n            onCompilerResponse(request, errorResult(message), false);\n        });\n};\n\nExecutor.prototype.addCompilerOutputLine = function (msg, container, lineNum/*, column*/) {\n    var elem = $('<div/>').appendTo(container);\n    if (lineNum) {\n        elem.html(\n            $('<span class=\"linked-compiler-output-line\"></span>')\n                .html(msg)\n                .click(_.bind(function (e) {\n                    // var editorId = this.getEditorIdBySourcefile(source);\n                    // if (editorId) {\n                    //     this.eventHub.emit('editorLinkLine', editorId, lineNum, column, column + 1, true);\n                    // }\n                    // do not bring user to the top of index.html\n                    // http://stackoverflow.com/questions/3252730\n                    e.preventDefault();\n                    return false;\n                }, this))\n                .on('mouseover', _.bind(function () {\n                    // var editorId = this.getEditorIdBySourcefile(source);\n                    // if (editorId) {\n                    //     this.eventHub.emit('editorLinkLine', editorId, lineNum, column, column + 1, false);\n                    // }\n                }, this))\n        );\n    } else {\n        elem.html(msg);\n    }\n};\n\nExecutor.prototype.clearPreviousOutput = function () {\n    this.executionStatusSection.empty();\n    this.compilerOutputSection.empty();\n    this.executionOutputSection.empty();\n};\n\nExecutor.prototype.handleOutput = function (output, element, ansiParser) {\n    var outElem = $('<pre class=\"card\"></pre>').appendTo(element);\n    _.each(output, function (obj) {\n        if (obj.text === '') {\n            this.addCompilerOutputLine('<br/>', outElem);\n        } else {\n            var lineNumber = obj.tag ? obj.tag.line : obj.line;\n            var columnNumber = obj.tag ? obj.tag.column : -1;\n            this.addCompilerOutputLine(ansiParser.toHtml(obj.text), outElem, lineNumber, columnNumber);\n        }\n    }, this);\n    return outElem;\n};\n\nExecutor.prototype.getBuildStdoutFromResult = function (result) {\n    var arr = [];\n\n    if (result.buildResult) {\n        arr = arr.concat(result.buildResult.stdout);\n    }\n\n    if (result.buildsteps) {\n        _.each(result.buildsteps, function (step) {\n            arr = arr.concat(step.stdout);\n        });\n    }\n\n    return arr;\n};\n\nExecutor.prototype.getBuildStderrFromResult = function (result) {\n    var arr = [];\n\n    if (result.buildResult) {\n        arr = arr.concat(result.buildResult.stderr);\n    }\n\n    if (result.buildsteps) {\n        _.each(result.buildsteps, function (step) {\n            arr = arr.concat(step.stderr);\n        });\n    }\n\n    return arr;\n};\n\nExecutor.prototype.getExecutionStdoutfromResult = function (result) {\n    if (result.execResult) {\n        return result.execResult.stdout;\n    }\n\n    return result.stdout || [];\n};\n\nExecutor.prototype.getExecutionStderrfromResult = function (result) {\n    if (result.execResult) {\n        return result.execResult.stderr;\n    }\n\n    return result.stderr || [];\n};\n\nExecutor.prototype.onCMakeResponse = function (request, result, cached) {\n    result.source = this.source;\n    this.lastResult = result;\n    var timeTaken = Math.max(0, Date.now() - this.pendingCMakeRequestSentAt);\n    this.lastTimeTaken = timeTaken;\n    var wasRealReply = this.pendingCMakeRequestSentAt > 0;\n    this.pendingCMakeRequestSentAt = 0;\n\n    this.handleCompileRequestAndResponse(request, result, cached, wasRealReply, timeTaken);\n\n    this.doNextCMakeRequest();\n};\n\nExecutor.prototype.doNextCompileRequest = function () {\n    if (this.nextRequest) {\n        var next = this.nextRequest;\n        this.nextRequest = null;\n        this.sendCompile(next);\n    }\n};\n\nExecutor.prototype.doNextCMakeRequest = function () {\n    if (this.nextCMakeRequest) {\n        var next = this.nextCMakeRequest;\n        this.nextCMakeRequest = null;\n        this.sendCMakeCompile(next);\n    }\n};\n\nExecutor.prototype.handleCompileRequestAndResponse = function (request, result, cached, wasRealReply, timeTaken) {\n    ga.proxy('send', {\n        hitType: 'event',\n        eventCategory: 'Compile',\n        eventAction: request.compiler,\n        eventLabel: request.options.userArguments,\n        eventValue: cached ? 1 : 0,\n    });\n    ga.proxy('send', {\n        hitType: 'timing',\n        timingCategory: 'Compile',\n        timingVar: request.compiler,\n        timingValue: timeTaken,\n    });\n\n    this.clearPreviousOutput();\n    var compileStdout = this.getBuildStdoutFromResult(result);\n    var compileStderr = this.getBuildStderrFromResult(result);\n    var execStdout = this.getExecutionStdoutfromResult(result);\n    var execStderr = this.getExecutionStderrfromResult(result);\n\n    var buildResultCode = 0;\n\n    if (result.buildResult) {\n        buildResultCode = result.buildResult.code;\n    } else if (result.buildsteps) {\n        _.each(result.buildsteps, function (step) {\n            buildResultCode = step.code;\n        });\n    }\n\n    if (!result.didExecute) {\n        this.executionStatusSection.append($('<div/>').text('Could not execute the program'));\n        this.executionStatusSection.append($('<div/>').text('Compiler returned: ' + buildResultCode));\n    }\n    if (compileStdout.length > 0) {\n        this.compilerOutputSection.append($('<div/>').text('Compiler stdout'));\n        this.handleOutput(compileStdout, this.compilerOutputSection, this.normalAnsiToHtml);\n    }\n    if (compileStderr.length > 0) {\n        this.compilerOutputSection.append($('<div/>').text('Compiler stderr'));\n        this.handleOutput(compileStderr, this.compilerOutputSection, this.errorAnsiToHtml);\n    }\n    if (result.didExecute) {\n        var exitCode = result.execResult ? result.execResult.code : result.code;\n        this.executionOutputSection.append($('<div/>').text('Program returned: ' + exitCode));\n        if (execStdout.length > 0) {\n            this.executionOutputSection.append($('<div/>').text('Program stdout'));\n            var outElem = this.handleOutput(execStdout, this.executionOutputSection, this.normalAnsiToHtml);\n            outElem.addClass('execution-stdout');\n        }\n        if (execStderr.length > 0) {\n            this.executionOutputSection.append($('<div/>').text('Program stderr'));\n            this.handleOutput(execStderr, this.executionOutputSection, this.normalAnsiToHtml);\n        }\n    }\n\n    this.handleCompilationStatus({code: 1, didExecute: result.didExecute});\n    var timeLabelText = '';\n    if (cached) {\n        timeLabelText = ' - cached';\n    } else if (wasRealReply) {\n        timeLabelText = ' - ' + timeTaken + 'ms';\n    }\n    this.compileTimeLabel.text(timeLabelText);\n\n    this.setCompilationOptionsPopover(result.buildResult &&\n    result.buildResult.compilationOptions ? result.buildResult.compilationOptions.join(' ') : '');\n\n    this.eventHub.emit('executeResult', this.id, this.compiler, result, languages[this.currentLangId]);\n};\n\nExecutor.prototype.onCompileResponse = function (request, result, cached) {\n    // Save which source produced this change. It should probably be saved earlier though\n    result.source = this.source;\n    this.lastResult = result;\n    var timeTaken = Math.max(0, Date.now() - this.pendingRequestSentAt);\n    this.lastTimeTaken = timeTaken;\n    var wasRealReply = this.pendingRequestSentAt > 0;\n    this.pendingRequestSentAt = 0;\n\n    this.handleCompileRequestAndResponse(request, result, cached, wasRealReply, timeTaken);\n\n    this.doNextCompileRequest();\n};\n\nExecutor.prototype.resendResult = function () {\n    if (!$.isEmptyObject(this.lastResult)) {\n        this.eventHub.emit('executeResult', this.id, this.compiler, this.lastResult);\n        return true;\n    }\n    return false;\n};\n\nExecutor.prototype.onResendExecutionResult = function (id) {\n    if (id === this.id) {\n        this.resendResult();\n    }\n};\n\nExecutor.prototype.onEditorChange = function (editor, source, langId, compilerId) {\n    if (this.sourceTreeId) {\n        var tree = this.hub.getTreeById(this.sourceTreeId);\n        if (tree) {\n            if (tree.multifileService.isEditorPartOfProject(editor)) {\n                if (this.settings.compileOnChange) {\n                    this.compile();\n\n                    return;\n                }\n            }\n        }\n    }\n\n    if (editor === this.sourceEditorId && langId === this.currentLangId &&\n        (compilerId === undefined)) {\n        this.source = source;\n        if (this.settings.compileOnChange) {\n            this.compile();\n        }\n    }\n};\n\nExecutor.prototype.initButtons = function (state) {\n    this.filters = new Toggles(this.domRoot.find('.filters'), state.filters);\n    this.toggleWrapButton = new Toggles(this.domRoot.find('.options'), state);\n    this.compileClearCache = this.domRoot.find('.clear-cache');\n    this.outputContentRoot = this.domRoot.find('pre.content');\n    this.executionStatusSection = this.outputContentRoot.find('.execution-status');\n    this.compilerOutputSection = this.outputContentRoot.find('.compiler-output');\n    this.executionOutputSection = this.outputContentRoot.find('.execution-output');\n\n    this.optionsField = this.domRoot.find('.compilation-options');\n    this.execArgsField = this.domRoot.find('.execution-arguments');\n    this.execStdinField = this.domRoot.find('.execution-stdin');\n    this.prependOptions = this.domRoot.find('.prepend-options');\n    this.fullCompilerName = this.domRoot.find('.full-compiler-name');\n    this.fullTimingInfo = this.domRoot.find('.full-timing-info');\n    this.setCompilationOptionsPopover(this.compiler ? this.compiler.options : null);\n\n    this.compileTimeLabel = this.domRoot.find('.compile-time');\n    this.libsButton = this.domRoot.find('.btn.show-libs');\n\n    // Dismiss on any click that isn't either in the opening element, inside\n    // the popover or on any alert\n    $(document).on('mouseup', _.bind(function (e) {\n        var target = $(e.target);\n        if (!target.is(this.prependOptions) && this.prependOptions.has(target).length === 0 &&\n            target.closest('.popover').length === 0)\n            this.prependOptions.popover('hide');\n\n        if (!target.is(this.fullCompilerName) && this.fullCompilerName.has(target).length === 0 &&\n            target.closest('.popover').length === 0)\n            this.fullCompilerName.popover('hide');\n    }, this));\n\n    this.optionsField.val(this.options);\n    this.execArgsField.val(this.executionArguments);\n    this.execStdinField.val(this.executionStdin);\n\n    this.shortCompilerName = this.domRoot.find('.short-compiler-name');\n    this.compilerPicker = this.domRoot.find('.compiler-picker');\n    this.setCompilerVersionPopover({version: '', fullVersion: ''}, '');\n\n    this.topBar = this.domRoot.find('.top-bar');\n    this.bottomBar = this.domRoot.find('.bottom-bar');\n    this.statusLabel = this.domRoot.find('.status-text');\n\n    this.hideable = this.domRoot.find('.hideable');\n    this.statusIcon = this.domRoot.find('.status-icon');\n\n    this.panelCompilation = this.domRoot.find('.panel-compilation');\n    this.panelArgs = this.domRoot.find('.panel-args');\n    this.panelStdin = this.domRoot.find('.panel-stdin');\n\n    this.wrapButton = this.domRoot.find('.wrap-lines');\n    this.wrapTitle = this.wrapButton.prop('title');\n\n    this.initToggleButtons(state);\n};\n\nExecutor.prototype.initToggleButtons = function (state) {\n    this.toggleCompilation = this.domRoot.find('.toggle-compilation');\n    this.toggleArgs = this.domRoot.find('.toggle-args');\n    this.toggleStdin = this.domRoot.find('.toggle-stdin');\n    this.toggleCompilerOut = this.domRoot.find('.toggle-compilerout');\n\n    if (state.compilationPanelShown === false) {\n        this.hidePanel(this.toggleCompilation, this.panelCompilation);\n    }\n\n    if (state.argsPanelShown === true) {\n        this.showPanel(this.toggleArgs, this.panelArgs);\n    }\n\n    if (state.stdinPanelShown === true) {\n        this.showPanel(this.toggleStdin, this.panelStdin);\n    }\n\n    if (state.compilerOutShown === false) {\n        this.hidePanel(this.toggleCompilerOut, this.compilerOutputSection);\n    }\n\n    if (state.wrap === true) {\n        this.contentRoot.addClass('wrap');\n        this.wrapButton.prop('title', '[ON] ' + this.wrapTitle);\n    } else {\n        this.contentRoot.removeClass('wrap');\n        this.wrapButton.prop('title', '[OFF] ' + this.wrapTitle);\n    }\n};\n\nExecutor.prototype.onLibsChanged = function () {\n    this.saveState();\n    this.compile();\n};\n\nExecutor.prototype.initLibraries = function (state) {\n    var libUtils = new LibUtils();\n\n    this.libsWidget = new Libraries.Widget(this.currentLangId, this.compiler,\n        this.libsButton, state, _.bind(this.onLibsChanged, this),\n        libUtils.getSupportedLibraries(this.compiler.libsArr, this.currentLangId));\n};\n\nExecutor.prototype.onFontScale = function () {\n    this.saveState();\n};\n\nExecutor.prototype.initListeners = function () {\n    // this.filters.on('change', _.bind(this.onFilterChange, this));\n    this.fontScale.on('change', _.bind(this.onFontScale, this));\n    this.toggleWrapButton.on('change', _.bind(this.onToggleWrapChange, this));\n\n    this.container.on('destroy', this.close, this);\n    this.container.on('resize', this.resize, this);\n    this.container.on('shown', this.resize, this);\n    this.container.on('open', function () {\n        this.eventHub.emit('executorOpen', this.id, this.sourceEditorId);\n    }, this);\n    this.eventHub.on('editorChange', this.onEditorChange, this);\n    this.eventHub.on('editorClose', this.onEditorClose, this);\n    this.eventHub.on('settingsChange', this.onSettingsChange, this);\n    this.eventHub.on('requestCompilation', this.onRequestCompilation, this);\n    this.eventHub.on('resendExecution', this.onResendExecutionResult, this);\n    this.eventHub.on('resize', this.resize, this);\n    this.eventHub.on('findExecutors', this.sendExecutor, this);\n    this.eventHub.on('languageChange', this.onLanguageChange, this);\n\n    this.fullTimingInfo\n        .off('click')\n        .click(_.bind(function () {\n            TimingWidget.displayCompilationTiming(this.lastResult, this.lastTimeTaken);\n        }, this));\n};\n\nExecutor.prototype.showPanel = function (button, panel) {\n    panel.removeClass('d-none');\n    button.addClass('active');\n    this.resize();\n};\n\nExecutor.prototype.hidePanel = function (button, panel) {\n    panel.addClass('d-none');\n    button.removeClass('active');\n    this.resize();\n};\n\nExecutor.prototype.togglePanel = function (button, panel) {\n    if (panel.hasClass('d-none')) {\n        this.showPanel(button, panel);\n    } else {\n        this.hidePanel(button, panel);\n    }\n    this.saveState();\n};\n\nExecutor.prototype.initCallbacks = function () {\n    this.initListeners();\n\n    var optionsChange = _.debounce(_.bind(function (e) {\n        this.onOptionsChange($(e.target).val());\n    }, this), 800);\n\n    var execArgsChange = _.debounce(_.bind(function (e) {\n        this.onExecArgsChange($(e.target).val());\n    }, this), 800);\n\n    var execStdinChange = _.debounce(_.bind(function (e) {\n        this.onExecStdinChange($(e.target).val());\n    }, this), 800);\n\n    this.optionsField\n        .on('change', optionsChange)\n        .on('keyup', optionsChange);\n\n    this.execArgsField\n        .on('change', execArgsChange)\n        .on('keyup', execArgsChange);\n\n    this.execStdinField\n        .on('change', execStdinChange)\n        .on('keyup', execStdinChange);\n\n    this.compileClearCache.on('click', _.bind(function () {\n        this.compilerService.cache.reset();\n        this.compile(true);\n    }, this));\n\n    // Dismiss the popover on escape.\n    $(document).on('keyup.editable', _.bind(function (e) {\n        if (e.which === 27) {\n            this.libsButton.popover('hide');\n        }\n    }, this));\n\n    this.toggleCompilation.on('click', _.bind(function () {\n        this.togglePanel(this.toggleCompilation, this.panelCompilation);\n    }, this));\n\n    this.toggleArgs.on('click', _.bind(function () {\n        this.togglePanel(this.toggleArgs, this.panelArgs);\n    }, this));\n\n    this.toggleStdin.on('click', _.bind(function () {\n        this.togglePanel(this.toggleStdin, this.panelStdin);\n    }, this));\n\n    this.toggleCompilerOut.on('click', _.bind(function () {\n        this.togglePanel(this.toggleCompilerOut, this.compilerOutputSection);\n    }, this));\n\n    // Dismiss on any click that isn't either in the opening element, inside\n    // the popover or on any alert\n    $(document).on('click', _.bind(function (e) {\n        var elem = this.libsButton;\n        var target = $(e.target);\n        if (!target.is(elem) && elem.has(target).length === 0 && target.closest('.popover').length === 0) {\n            elem.popover('hide');\n        }\n    }, this));\n\n    this.eventHub.on('initialised', this.undefer, this);\n\n    if (MutationObserver !== undefined) {\n        new MutationObserver(_.bind(this.resize, this)).observe(this.execStdinField[0], {\n            attributes: true, attributeFilter: ['style'],\n        });\n    }\n};\n\nExecutor.prototype.onOptionsChange = function (options) {\n    this.options = options;\n    this.saveState();\n    this.compile();\n};\n\nExecutor.prototype.onExecArgsChange = function (args) {\n    this.executionArguments = args;\n    this.saveState();\n    this.compile();\n};\n\nExecutor.prototype.onExecStdinChange = function (newStdin) {\n    this.executionStdin = newStdin;\n    this.saveState();\n    this.compile();\n};\n\nExecutor.prototype.onRequestCompilation = function (editorId, treeId) {\n    if ((editorId === this.sourceEditorId) || (treeId && treeId === this.sourceTreeId)) {\n        this.compile();\n    }\n};\n\nExecutor.prototype.updateCompilerInfo = function () {\n    this.updateCompilerName();\n    if (this.compiler) {\n        if (this.compiler.notification) {\n            this.alertSystem.notify(this.compiler.notification, {\n                group: 'compilerwarning',\n                alertClass: 'notification-info',\n                dismissTime: 5000,\n            });\n        }\n        this.prependOptions.data('content', this.compiler.options);\n    }\n    this.sendExecutor();\n};\n\nExecutor.prototype.updateCompilerUI = function () {\n    this.updateCompilerInfo();\n    // Resize in case the new compiler name is too big\n    this.resize();\n};\n\nExecutor.prototype.onCompilerChange = function (value) {\n    this.compiler = this.compilerService.findCompiler(this.currentLangId, value);\n    this.updateLibraries();\n    this.saveState();\n    this.compile();\n    this.updateCompilerUI();\n};\n\nExecutor.prototype.onToggleWrapChange = function () {\n    var state = this.currentState();\n    this.contentRoot.toggleClass('wrap', state.wrap);\n    this.wrapButton.prop('title', '[' + (state.wrap ? 'ON' : 'OFF') + '] ' + this.wrapTitle);\n    this.saveState();\n};\n\nExecutor.prototype.sendExecutor = function () {\n    this.eventHub.emit('executor', this.id, this.compiler, this.options, this.sourceEditorId);\n};\n\nExecutor.prototype.onEditorClose = function (editor) {\n    if (editor === this.sourceEditorId) {\n        // We can't immediately close as an outer loop somewhere in GoldenLayout is iterating over\n        // the hierarchy. We can't modify while it's being iterated over.\n        this.close();\n        _.defer(function (self) {\n            self.container.close();\n        }, this);\n    }\n};\n\nExecutor.prototype.currentState = function () {\n    var state = {\n        id: this.id,\n        compiler: this.compiler ? this.compiler.id : '',\n        source: this.sourceEditorId,\n        tree: this.sourceTreeId,\n        options: this.options,\n        execArgs: this.executionArguments,\n        execStdin: this.executionStdin,\n        libs: this.libsWidget.get(),\n        lang: this.currentLangId,\n        compilationPanelShown: !this.panelCompilation.hasClass('d-none'),\n        compilerOutShown: !this.compilerOutputSection.hasClass('d-none'),\n        argsPanelShown: !this.panelArgs.hasClass('d-none'),\n        stdinPanelShown: !this.panelStdin.hasClass('d-none'),\n        wrap: this.toggleWrapButton.get().wrap,\n    };\n    this.fontScale.addState(state);\n    return state;\n};\n\nExecutor.prototype.saveState = function () {\n    this.container.setState(this.currentState());\n};\n\nExecutor.prototype.getCompilerName = function () {\n    return this.compiler ? this.compiler.name : 'No compiler set';\n};\n\n\nExecutor.prototype.getLanguageName = function () {\n    var lang = options.languages[this.currentLangId];\n    return lang ? lang.name : '?';\n};\n\nExecutor.prototype.getLinkHint = function () {\n    var linkhint = '';\n    if (this.sourceTreeId) {\n        linkhint = 'Tree #' + this.sourceTreeId;\n    } else {\n        linkhint = 'Editor #' + this.sourceEditorId;\n    }\n    return linkhint;\n};\n\nExecutor.prototype.getPaneName = function () {\n    var langName = this.getLanguageName();\n    var compName = this.getCompilerName();\n    return 'Executor ' + compName + ' (' + langName + ', ' + this.getLinkHint() + ')';\n};\n\nExecutor.prototype.updateCompilerName = function () {\n    var compilerName = this.getCompilerName();\n    var compilerVersion = this.compiler ? this.compiler.version : '';\n    var compilerFullVersion = this.compiler && this.compiler.fullVersion ? this.compiler.fullVersion : compilerVersion;\n    var compilerNotification = this.compiler ? this.compiler.notification : '';\n    this.container.setTitle(this.getPaneName());\n    this.shortCompilerName.text(compilerName);\n    this.setCompilerVersionPopover({version: compilerVersion, fullVersion: compilerFullVersion}, compilerNotification);\n};\n\nExecutor.prototype.setCompilationOptionsPopover = function (content) {\n    this.prependOptions.popover('dispose');\n    this.prependOptions.popover({\n        content: content || 'No options in use',\n        template: '<div class=\"popover' +\n            (content ? ' compiler-options-popover' : '') +\n            '\" role=\"tooltip\"><div class=\"arrow\"></div>' +\n            '<h3 class=\"popover-header\"></h3><div class=\"popover-body\"></div></div>',\n    });\n};\n\nExecutor.prototype.setCompilerVersionPopover = function (version, notification) {\n    this.fullCompilerName.popover('dispose');\n    // `notification` contains HTML from a config file, so is 'safe'.\n    // `version` comes from compiler output, so isn't, and is escaped.\n    var bodyContent = $('<div>');\n    var versionContent = $('<div>')\n        .html(_.escape(version.version));\n    bodyContent.append(versionContent);\n    if (version.fullVersion) {\n        var hiddenSection = $('<div>');\n        var hiddenVersionText = $('<div>')\n            .html(_.escape(version.fullVersion))\n            .hide();\n        var clickToExpandContent = $('<a>')\n            .attr('href', 'javascript:;')\n            .text('Toggle full version output')\n            .on('click', _.bind(function () {\n                versionContent.toggle();\n                hiddenVersionText.toggle();\n                this.fullCompilerName.popover('update');\n            }, this));\n        hiddenSection.append(hiddenVersionText).append(clickToExpandContent);\n        bodyContent.append(hiddenSection);\n    }\n    this.fullCompilerName.popover({\n        html: true,\n        title: notification ?\n            $.parseHTML('<span>Compiler Version: ' + notification + '</span>')[0] :\n            'Full compiler version',\n        content: bodyContent,\n        template: '<div class=\"popover' + (version ? ' compiler-options-popover' : '') + '\" role=\"tooltip\">' +\n            '<div class=\"arrow\"></div>' +\n            '<h3 class=\"popover-header\"></h3><div class=\"popover-body\"></div>' +\n            '</div>',\n    });\n};\n\nExecutor.prototype.onSettingsChange = function (newSettings) {\n    this.settings = _.clone(newSettings);\n};\n\nfunction ariaLabel(status) {\n    // Compiling...\n    if (status.code === 4) return 'Compiling';\n    if (status.didExecute) {\n        return 'Program compiled & executed';\n    } else {\n        return 'Program could not be executed';\n    }\n}\n\nfunction color(status) {\n    // Compiling...\n    if (status.code === 4) return '#888888';\n    if (status.didExecute) return '#12BB12';\n    return '#FF1212';\n}\n\nExecutor.prototype.handleCompilationStatus = function (status) {\n    // We want to do some custom styles for the icon, so we don't pass it here and instead do it later\n    this.compilerService.handleCompilationStatus(this.statusLabel, null, status);\n\n    if (this.statusIcon != null) {\n        this.statusIcon\n            .removeClass()\n            .addClass('status-icon fas')\n            .css('color', color(status))\n            .toggle(status.code !== 0)\n            .prop('aria-label', ariaLabel(status))\n            .prop('data-status', status.code)\n            .toggleClass('fa-spinner fa-spin', status.code === 4)\n            .toggleClass('fa-times-circle', status.code !== 4 && !status.didExecute)\n            .toggleClass('fa-check-circle', status.code !== 4 && status.didExecute);\n    }\n};\n\nExecutor.prototype.updateLibraries = function () {\n    if (this.libsWidget) this.libsWidget.setNewLangId(this.currentLangId, this.compiler.id, this.compiler.libs);\n};\n\nExecutor.prototype.onLanguageChange = function (editorId, newLangId) {\n    if (this.sourceEditorId === editorId) {\n        var oldLangId = this.currentLangId;\n        this.currentLangId = newLangId;\n        // Store the current selected stuff to come back to it later in the same session (Not state stored!)\n        this.infoByLang[oldLangId] = {\n            compiler: this.compiler && this.compiler.id ? this.compiler.id : options.defaultCompiler[oldLangId],\n            options: this.options,\n            execArgs: this.executionArguments,\n            execStdin: this.executionStdin,\n        };\n        var info = this.infoByLang[this.currentLangId] || {};\n        this.initLangAndCompiler({lang: newLangId, compiler: info.compiler});\n        this.updateCompilersSelector(info);\n        this.updateCompilerUI();\n        this.saveState();\n    }\n};\n\nExecutor.prototype.getCurrentLangCompilers = function () {\n    var allCompilers = this.compilerService.getCompilersForLang(this.currentLangId);\n    var hasAtLeastOneExecuteSupported = _.any(allCompilers, function (compiler) {\n        return (compiler.supportsExecute !== false);\n    });\n\n    if (!hasAtLeastOneExecuteSupported) {\n        this.compiler = null;\n        return [];\n    }\n\n    return _.filter(\n        allCompilers,\n        _.bind(function (compiler) {\n            return ((compiler.hidden !== true) && (compiler.supportsExecute !== false)) ||\n                (this.compiler && compiler.id === this.compiler.id);\n        }, this));\n};\n\nExecutor.prototype.updateCompilersSelector = function (info) {\n    this.compilerPicker.update(this.currentLangId, this.compiler ? this.compiler.id : null);\n    this.options = info.options || '';\n    this.optionsField.val(this.options);\n    this.executionArguments = info.execArgs || '';\n    this.execArgsField.val(this.executionArguments);\n    this.executionStdin = info.execStdin || '';\n    this.execStdinField.val(this.executionStdin);\n};\n\nmodule.exports = {\n    Executor: Executor,\n};\n","// Copyright (c) 2017, Najjar Chedy\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\nvar $ = require('jquery');\nvar vis = require('vis');\nvar _ = require('underscore');\nvar Toggles = require('../toggles').Toggles;\nvar ga = require('../analytics').ga;\n\nvar TomSelect = require('tom-select');\n\nfunction Cfg(hub, container, state) {\n    this.container = container;\n    this.eventHub = hub.createEventHub();\n    this.domRoot = container.getElement();\n    this.domRoot.html($('#cfg').html());\n    this.defaultCfgOutput = {nodes: [{id: 0, shape: 'box', label: 'No Output'}], edges: []};\n    this.binaryModeSupport = {\n        nodes: [{\n            id: 0,\n            shape: 'box',\n            label: 'Cfg mode cannot be used when the binary filter is set',\n        }], edges: [],\n    };\n    // Note that this might be outdated if no functions were present when creating the link, but that's handled\n    // by selectize\n    state.options = state.options || {};\n    this.savedPos = state.pos;\n    this.savedScale = state.scale;\n    this.needsMove = this.savedPos && this.savedScale;\n\n    this.currentFunc = state.selectedFn || '';\n    this.functions = [];\n    this.networkOpts = {\n        autoResize: true,\n        locale: 'en',\n        edges: {\n            arrows: {to: {enabled: true}},\n            smooth: {\n                enabled: true,\n                type: 'dynamic',\n                roundness: 1,\n            },\n            physics: true,\n        },\n        nodes: {\n            font: {face: 'Consolas, \"Liberation Mono\", Courier, monospace', align: 'left'},\n        },\n        layout: {\n            hierarchical: {\n                enabled: true,\n                direction: 'UD',\n                nodeSpacing: 100,\n                levelSeparation: 150,\n            },\n        },\n        physics: {\n            enabled: !!state.options.physics,\n            hierarchicalRepulsion: {\n                nodeDistance: 160,\n            },\n        },\n        interaction: {\n            navigationButtons: !!state.options.navigation,\n            keyboard: {\n                enabled: true,\n                speed: {x: 10, y: 10, zoom: 0.03},\n                bindToWindow: false,\n            },\n        },\n    };\n\n    this.cfgVisualiser = new vis.Network(this.domRoot.find('.graph-placeholder')[0],\n        this.defaultCfgOutput, this.networkOpts);\n\n    this.initButtons(state);\n\n    this.compilerId = state.id;\n    this._editorid = state.editorid;\n    this._binaryFilter = false;\n\n    var pickerEl = this.domRoot[0].querySelector('.function-picker');\n    this.functionPicker = new TomSelect(pickerEl, {\n        sortField: 'name',\n        valueField: 'name',\n        labelField: 'name',\n        searchField: ['name'],\n        dropdownParent: 'body',\n        plugins: ['input_autogrow'],\n        onChange: _.bind(function (val) {\n            var selectedFn = this.functions[val];\n            if (selectedFn) {\n                this.currentFunc = val;\n                this.showCfgResults({\n                    nodes: selectedFn.nodes,\n                    edges: selectedFn.edges,\n                });\n                this.cfgVisualiser.selectNodes([selectedFn.nodes[0].id]);\n                this.resize();\n                this.saveState();\n            }\n        }, this),\n    });\n\n    this.initCallbacks();\n    this.adaptStructure = function (names) {\n        return _.map(names, function (name) {\n            return {name: name};\n        });\n    };\n    this.updateButtons();\n    this.setTitle();\n    ga.proxy('send', {\n        hitType: 'event',\n        eventCategory: 'OpenViewPane',\n        eventAction: 'Cfg',\n    });\n}\n\nCfg.prototype.onCompileResult = function (id, compiler, result) {\n    if (this.compilerId === id) {\n        var functionNames = [];\n        if (this.supportsCfg && !$.isEmptyObject(result.cfg)) {\n            this.functions = result.cfg;\n            functionNames = Object.keys(this.functions);\n            if (functionNames.indexOf(this.currentFunc) === -1) {\n                this.currentFunc = functionNames[0];\n            }\n            this.showCfgResults({\n                nodes: this.functions[this.currentFunc].nodes,\n                edges: this.functions[this.currentFunc].edges,\n            });\n            this.cfgVisualiser.selectNodes([this.functions[this.currentFunc].nodes[0].id]);\n        } else {\n            // We don't reset the current function here as we would lose the saved one if this happened at the beginning\n            // (Hint: It *does* happen)\n            this.showCfgResults(this._binaryFilter ? this.binaryModeSupport : this.defaultCfgOutput);\n        }\n\n        this.functionPicker.clearOptions();\n        this.functionPicker.addOption(functionNames.length ?\n            this.adaptStructure(functionNames) : {name: 'The input does not contain functions'});\n        this.functionPicker.refreshOptions(false);\n\n        this.functionPicker.clear();\n        this.functionPicker.addItem(functionNames.length ?\n            this.currentFunc : 'The input does not contain any function', true);\n        this.saveState();\n    }\n};\n\nCfg.prototype.onCompiler = function (id, compiler) {\n    if (id === this.compilerId) {\n        this._compilerName = compiler ? compiler.name : '';\n        this.supportsCfg = compiler.supportsCfg;\n        this.setTitle();\n    }\n};\n\nCfg.prototype.onFiltersChange = function (id, filters) {\n    if (this.compilerId === id) {\n        this._binaryFilter = filters.binary;\n    }\n};\n\nCfg.prototype.initButtons = function (state) {\n    this.toggles = new Toggles(this.domRoot.find('.options'), state.options);\n\n    this.toggleNavigationButton = this.domRoot.find('.toggle-navigation');\n    this.toggleNavigationTitle = this.toggleNavigationButton.prop('title');\n\n    this.togglePhysicsButton = this.domRoot.find('.toggle-physics');\n    this.togglePhysicsTitle = this.togglePhysicsButton.prop('title');\n\n    this.topBar = this.domRoot.find('.top-bar');\n};\n\nCfg.prototype.initCallbacks = function () {\n    this.cfgVisualiser.on('dragEnd', _.bind(this.saveState, this));\n    this.cfgVisualiser.on('zoom', _.bind(this.saveState, this));\n\n    this.eventHub.on('compilerClose', this.onCompilerClose, this);\n    this.eventHub.on('compileResult', this.onCompileResult, this);\n    this.eventHub.on('compiler', this.onCompiler, this);\n    this.eventHub.on('filtersChange', this.onFiltersChange, this);\n\n    this.container.on('destroy', this.close, this);\n    this.container.on('resize', this.resize, this);\n    this.container.on('shown', this.resize, this);\n    this.eventHub.emit('cfgViewOpened', this.compilerId);\n    this.eventHub.emit('requestFilters', this.compilerId);\n    this.eventHub.emit('requestCompiler', this.compilerId);\n\n    this.togglePhysicsButton.on('click', _.bind(function () {\n        this.networkOpts.physics.enabled = this.togglePhysicsButton.hasClass('active');\n        // change only physics.enabled option to preserve current node locations\n        this.cfgVisualiser.setOptions({\n            physics: {enabled: this.networkOpts.physics.enabled},\n        });\n    }, this));\n\n    this.toggleNavigationButton.on('click', _.bind(function () {\n        this.networkOpts.interaction.navigationButtons = this.toggleNavigationButton.hasClass('active');\n        this.cfgVisualiser.setOptions({\n            interaction: {\n                navigationButtons: this.networkOpts.interaction.navigationButtons,\n            },\n        });\n    }, this));\n    this.toggles.on('change', _.bind(function () {\n        this.updateButtons();\n        this.saveState();\n    }, this));\n};\n\nCfg.prototype.updateButtons = function () {\n    var formatButtonTitle = function (button, title) {\n        button.prop('title', '[' + (button.hasClass('active') ? 'ON' : 'OFF') + '] ' + title);\n    };\n    formatButtonTitle(this.togglePhysicsButton, this.togglePhysicsTitle);\n    formatButtonTitle(this.toggleNavigationButton, this.toggleNavigationTitle);\n};\n\nCfg.prototype.resize = function () {\n    if (this.cfgVisualiser.canvas) {\n        var height = this.domRoot.height() - this.topBar.outerHeight(true);\n        this.cfgVisualiser.setSize('100%', height.toString());\n        this.cfgVisualiser.redraw();\n    }\n};\n\nCfg.prototype.getPaneName = function () {\n    return 'Graph Viewer ' + this._compilerName +\n        ' (Editor #' + this._editorid + ', Compiler #' + this.compilerId + ')';\n};\n\nCfg.prototype.setTitle = function () {\n    this.container.setTitle(this.getPaneName());\n};\n\nCfg.prototype.assignLevels = function (data) {\n    var nodes = [];\n    var idToIdx = [];\n    for (var i in data.nodes) {\n        var node = data.nodes[i];\n        idToIdx[node.id] = i;\n        nodes.push({\n            edges: [],\n            dagEdges: [],\n            index: i,\n            id: node.id,\n            level: 0,\n            state: 0,\n            inCount: 0,\n        });\n    }\n    var isEdgeValid = function (edge) {\n        return edge.from in idToIdx && edge.to in idToIdx;\n    };\n    data.edges.forEach(function (edge) {\n        if (isEdgeValid(edge)) {\n            nodes[idToIdx[edge.from]].edges.push(idToIdx[edge.to]);\n        }\n    });\n\n    var dfs = function (node) { // choose which edges will be back-edges\n        node.state = 1;\n        node.edges.forEach(function (targetIndex) {\n            var target = nodes[targetIndex];\n            if (target.state !== 1) {\n                if (target.state === 0) {\n                    dfs(target);\n                }\n                node.dagEdges.push(targetIndex);\n                target.inCount += 1;\n            }\n        });\n        node.state = 2;\n    };\n    var markLevels = function (node) {\n        node.dagEdges.forEach(function (targetIndex) {\n            var target = nodes[targetIndex];\n            target.level = Math.max(target.level, node.level + 1);\n            if (--target.inCount === 0) {\n                markLevels(target);\n            }\n        });\n    };\n    nodes.forEach(function (node) {\n        if (node.state === 0) {\n            dfs(node);\n            node.level = 1;\n            markLevels(node);\n        }\n    });\n    nodes.forEach(function (node) {\n        data.nodes[node.index]['level'] = node.level;\n    });\n    data.edges.forEach(function (edge) {\n        if (isEdgeValid(edge)) {\n            var nodeA = nodes[idToIdx[edge.from]];\n            var nodeB = nodes[idToIdx[edge.to]];\n            if (nodeA.level >= nodeB.level) {\n                edge.physics = false;\n            } else {\n                edge.physics = true;\n                var diff = (nodeB.level - nodeA.level);\n                edge.length = diff * (200 - 5 * (Math.min(5, diff)));\n            }\n        } else {\n            edge.physics = false;\n        }\n    });\n};\n\nCfg.prototype.showCfgResults = function (data) {\n    this.assignLevels(data);\n    this.cfgVisualiser.setData(data);\n    /* FIXME: This does not work. It's here because I suspected that not having content in the constructor was\n     * breaking the move, but it does not seem like it\n     */\n    if (this.needsMove) {\n        this.cfgVisualiser.moveTo({\n            position: this.savedPos,\n            animation: false,\n            scale: this.savedScale,\n        });\n        this.needsMove = false;\n    }\n};\n\nCfg.prototype.onCompilerClose = function (compilerId) {\n    if (this.compilerId === compilerId) {\n        // We can't immediately close as an outer loop somewhere in GoldenLayout is iterating over\n        // the hierarchy. We can't modify while it's being iterated over.\n        this.close();\n        _.defer(function (self) {\n            self.container.close();\n        }, this);\n    }\n};\n\nCfg.prototype.close = function () {\n    this.eventHub.unsubscribe();\n    this.eventHub.emit('cfgViewClosed', this.compilerId);\n    this.cfgVisualiser.destroy();\n};\n\nCfg.prototype.saveState = function () {\n    this.container.setState(this.currentState());\n};\n\nCfg.prototype.getEffectiveOptions = function () {\n    return this.toggles.get();\n};\n\nCfg.prototype.currentState = function () {\n    return {\n        id: this.compilerId,\n        editorid: this._editorid,\n        selectedFn: this.currentFunc,\n        pos: this.cfgVisualiser.getViewPosition(),\n        scale: this.cfgVisualiser.getScale(),\n        options: this.getEffectiveOptions(),\n    };\n};\n\nmodule.exports = {\n    Cfg: Cfg,\n};\n","// Copyright (c) 2019, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\nvar\n    $ = require('jquery'),\n    _ = require('underscore'),\n    monaco = require('monaco-editor'),\n    ga = require('analytics').ga,\n    History = require('./history');\n\nfunction HistoryDiffState(model) {\n    this.model = model;\n    this.result = null;\n}\n\nHistoryDiffState.prototype.update = function (result) {\n    this.result = result.sources;\n    this.refresh();\n\n    return true;\n};\n\nHistoryDiffState.prototype.refresh = function () {\n    var output = this.result || [];\n    var content = '';\n    _.each(output, function (val) {\n        if (content.length > 0) {\n            content += '\\n';\n        }\n        content += '/****** ' + val.lang + ' ******/\\n';\n        content += val.source;\n    });\n    this.model.setValue(content);\n};\n\nfunction HistoryWidget() {\n    this.modal = null;\n    this.diffEditor = null;\n    this.lhs = null;\n    this.rhs = null;\n    this.currentList = [];\n}\n\nHistoryWidget.prototype.initializeIfNeeded = function () {\n    if (this.modal === null) {\n        this.modal = $('#history');\n\n        var placeholder = this.modal.find('.monaco-placeholder');\n        this.diffEditor = monaco.editor.createDiffEditor(placeholder[0], {\n            fontFamily: 'Consolas, \"Liberation Mono\", Courier, monospace',\n            scrollBeyondLastLine: true,\n            readOnly: true,\n            language: 'c++',\n            minimap: {\n                enabled: true,\n            },\n        });\n\n        this.lhs = new HistoryDiffState(monaco.editor.createModel('', 'c++'));\n        this.rhs = new HistoryDiffState(monaco.editor.createModel('', 'c++'));\n        this.diffEditor.setModel({ original: this.lhs.model, modified: this.rhs.model });\n\n        this.modal.find('.inline-diff-checkbox').click(_.bind(function (event) {\n            var inline = $(event.target).prop('checked');\n            this.diffEditor.updateOptions({\n                renderSideBySide: !inline,\n            });\n            this.resizeLayout();\n        }, this));\n    }\n};\n\nHistoryWidget.prototype.getLanguagesFromHistoryEntry = function (entry) {\n    return _.pluck(entry.sources, 'lang');\n};\n\nHistoryWidget.prototype.populateFromLocalStorage = function () {\n    this.currentList = History.sortedList();\n    this.populate(\n        this.modal.find('.historiccode'),\n        _.map(this.currentList, _.bind(function (data) {\n            var dt = new Date(data.dt);\n            var languages = this.getLanguagesFromHistoryEntry(data).join(', ');\n            return {\n                dt: data.dt,\n                name: dt.toString().replace(/\\s\\(.*\\)/, '').concat(' (' + languages + ')'),\n                load: _.bind(function () {\n                    this.onLoad(data);\n                    this.modal.modal('hide');\n                }, this),\n            };\n        }, this)));\n};\n\nHistoryWidget.prototype.hideRadiosAndSetDiff = function () {\n    var root = this.modal.find('.historiccode');\n    var items = root.find('li:not(.template)');\n\n    var foundbase = false;\n    var foundcomp = false;\n\n    items.each(_.bind(function (idx, elem) {\n        var li = $(elem);\n        var dt = li.data('dt');\n\n        var base = li.find('.base');\n        var comp = li.find('.comp');\n\n        var baseShouldBeVisible = true;\n        var compShouldBeVisible = true;\n\n        if (comp.prop('checked')) {\n            foundcomp = true;\n            baseShouldBeVisible = false;\n\n            var itemRight = _.find(this.currentList, function (item) {\n                return (item.dt === dt);\n            });\n\n            this.rhs.update(itemRight);\n        } else if (base.prop('checked')) {\n            foundbase = true;\n\n            var itemLeft = _.find(this.currentList, function (item) {\n                return (item.dt === dt);\n            });\n\n            this.lhs.update(itemLeft);\n        }\n\n        if (foundbase && foundcomp) {\n            compShouldBeVisible = false;\n        } else if (!foundbase && !foundcomp) {\n            baseShouldBeVisible = false;\n        }\n\n        if (compShouldBeVisible) {\n            comp.css('visibility', '');\n        } else {\n            comp.css('visibility', 'hidden');\n        }\n\n        if (baseShouldBeVisible) {\n            base.css('visibility', '');\n        } else {\n            base.css('visibility', 'hidden');\n        }\n    }, this));\n};\n\nHistoryWidget.prototype.populate = function (root, list) {\n    root.find('li:not(.template)').remove();\n    var template = root.find('.template');\n\n    var baseMarked = false;\n    var compMarked = false;\n\n    _.each(list, _.bind(function (elem) {\n        var li = template\n            .clone()\n            .removeClass('template')\n            .appendTo(root);\n\n        li.data('dt', elem.dt);\n\n        var base = li.find('.base');\n        var comp = li.find('.comp');\n\n        if (!compMarked) {\n            comp.prop('checked', 'checked');\n            compMarked = true;\n        } else if (!baseMarked) {\n            base.prop('checked', 'checked');\n            baseMarked = true;\n        }\n\n        base.click(_.bind(this.hideRadiosAndSetDiff, this));\n        comp.click(_.bind(this.hideRadiosAndSetDiff, this));\n\n        li.find('a').text(elem.name).click(elem.load);\n    }, this));\n\n    this.hideRadiosAndSetDiff();\n};\n\nHistoryWidget.prototype.resizeLayout = function () {\n    var tabcontent = this.modal.find('div.tab-content');\n    this.diffEditor.layout({\n        width: tabcontent.width(),\n        height: tabcontent.height() - 20,\n    });\n};\n\nHistoryWidget.prototype.run = function (onLoad) {\n    this.initializeIfNeeded();\n    this.populateFromLocalStorage();\n    this.onLoad = onLoad;\n\n    this.modal.on('shown.bs.modal', _.bind(function () {\n        this.resizeLayout();\n    }, this));\n\n    this.modal.modal();\n\n    ga.proxy('send', {\n        hitType: 'event',\n        eventCategory: 'OpenModalPane',\n        eventAction: 'History',\n    });\n};\n\nmodule.exports = {\n    HistoryWidget: HistoryWidget,\n};\n","// Copyright (c) 2021, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\nimport _ from 'underscore';\nimport * as monaco from 'monaco-editor';\nimport { Container } from 'golden-layout';\n\nimport { Pane } from './pane';\nimport { BasePaneState } from './pane.interfaces';\nimport { RustMacroExpState } from './rustmacroexp-view.interfaces';\n\nimport { ga } from '../analytics';\nimport { extendConfig } from '../monaco-config';\n\nexport class RustMacroExp extends Pane<monaco.editor.IStandaloneCodeEditor, RustMacroExpState> {\n    constructor(hub: any, container: Container, state: RustMacroExpState & BasePaneState) {\n        super(hub, container, state);\n        if (state && state.rustMacroExpOutput) {\n            this.showRustMacroExpResults(state.rustMacroExpOutput);\n        }\n    }\n\n    override getInitialHTML(): string {\n        return $('#rustmacroexp').html();\n    }\n\n    override createEditor(editorRoot: HTMLElement): monaco.editor.IStandaloneCodeEditor {\n        return monaco.editor.create(editorRoot, extendConfig({\n            language: 'rust',\n            readOnly: true,\n            glyphMargin: true,\n            lineNumbersMinChars: 3,\n        }));\n    }\n\n    override registerOpeningAnalyticsEvent(): void {\n        ga.proxy('send', {\n            hitType: 'event',\n            eventCategory: 'OpenViewPane',\n            eventAction: 'RustMacroExp',\n        });\n    }\n\n    override getPaneName(): string {\n        return `Rust Macro Expansion Viewer ${this.compilerInfo.compilerName}` +\n            `(Editor #${this.compilerInfo.editorId}, ` +\n            `Compiler #${this.compilerInfo.compilerId})`;\n    }\n\n    override registerCallbacks(): void {\n        const throttleFunction = _.throttle((event) => this.onDidChangeCursorSelection(event), 500);\n        this.editor.onDidChangeCursorSelection((event) => throttleFunction(event));\n        this.eventHub.emit('rustMacroExpViewOpened', this.compilerInfo.compilerId);\n        this.eventHub.emit('requestSettings');\n    }\n\n    override onCompileResult(compilerId: number, compiler: any, result: any): void {\n        if (this.compilerInfo.compilerId !== compilerId) return;\n        if (result.hasRustMacroExpOutput) {\n            this.showRustMacroExpResults(result.rustMacroExpOutput);\n        } else if (compiler.supportsRustMacroExpView) {\n            this.showRustMacroExpResults([{text: '<No output>'}]);\n        }\n    }\n\n    override onCompiler(compilerId: number, compiler: any, options: any, editorId: number): void {\n        if (this.compilerInfo.compilerId === compilerId) {\n            this.compilerInfo.compilerName = compiler ? compiler.name : '';\n            this.compilerInfo.editorId = editorId;\n            this.setTitle();\n            if (compiler && !compiler.supportsRustMacroExpView) {\n                this.showRustMacroExpResults([{\n                    text: '<Rust Macro Expansion output is not supported for this compiler>'\n                }]);\n            }\n        }\n    }\n\n    showRustMacroExpResults(result: any[]): void {\n        if (!this.editor) return;\n        this.editor.getModel().setValue(result.length\n            ? _.pluck(result, 'text').join('\\n')\n            : '<No Rust Macro Expansion generated>');\n\n        if (!this.isAwaitingInitialResults) {\n            if (this.selection) {\n                this.editor.setSelection(this.selection);\n                this.editor.revealLinesInCenter(this.selection.selectionStartLineNumber,\n                    this.selection.endLineNumber);\n            }\n            this.isAwaitingInitialResults = true;\n        }\n    }\n\n    override close(): void {\n        this.eventHub.unsubscribe();\n        this.eventHub.emit('rustMacroExpViewClosed', this.compilerInfo.compilerId);\n        this.editor.dispose();\n    }\n}\n","// Copyright (c) 2019, Ray Imber \n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar monaco = require('monaco-editor');\n\nfunction definition() {\n    // Nim language definition\n    \n    return {\n        keywords: [\n            'addr', 'as', 'asm',\n            'bind', 'block', 'break',\n            'case', 'cast', 'concept', 'const', 'continue', 'converter',\n            'defer', 'discard', 'distinct', 'div', 'do',\n            'elif', 'else', 'end', 'enum', 'except', 'export',\n            'finally', 'for', 'from', 'func',\n            'if', 'import', 'include', 'interface', 'iterator',\n            'let',\n            'macro', 'method', 'mixin', 'mod',\n            'nil',\n            'object', 'out',\n            'proc', 'ptr',\n            'raise', 'ref', 'return',\n            'static',\n            'template', 'try', 'tuple', 'type',\n            'using',\n            'var',\n            'when', 'while',\n            'yield',\n            'push', 'pop',\n        ],\n        operators: [\n            '=', '+', '-', '*', '/', '<', '>',\n            '@', '$', '~', '&', '%', '|',\n            '!', '?', '^', '.', ':', '\\\\',\n        ],\n        wordOperators: [\n            'and', 'or', 'not', 'xor', 'shl', 'shr', 'div', 'mod', 'in', 'notin', 'is', 'isnot', 'of',\n        ],\n        symbols: /[=><!~&|+\\-*/^%]+/,\n        escapes: /\\\\(p|r|c|n|l|f|t|v|a|b|e|\\\\|\"|'|\\d+|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u\\{[0-9a-fA-F]+\\})/,\n        charEscapes: /\\\\(r|c|n|l|f|t|v|a|b|e|\\\\|\"|'|x[0-9a-fA-F]{2})/,\n        \n        hexNumber: /0(x|X)[0-9a-fA-F](_?[0-9a-fA-F])*/,\n        decNumber: /\\d(_?\\d)*/, \n        octNumber: /0o[0-7](_?[0-7])*/,\n        binNumber: /0(b|B)[0-1](_?[0-1])*/,\n        exponent: /(e|E)(\\+|-)?\\d(_?\\d)*/,\n        brackets: [\n            ['{','}','delimiter.curly'],\n            ['{.','.}','delimiter.curly'],\n            ['[',']','delimiter.square'],\n            ['[:',']','delimiter.square'],\n            ['[.','.]','delimiter.square'],\n            ['(',')','delimiter.parenthesis'],\n            ['(.','.)','delimiter.parenthesis'],\n            ['<','>','delimiter.angle'],\n        ],\n\n        // The main tokenizer for our languages\n        tokenizer: {\n            root: [\n                [/[A-Za-z]([_]?\\w)*/, {\n                    cases: {\n                        '@keywords': 'keyword',\n                        '@wordOperators': 'keyword',\n                        '@default': 'identifier',\n                    },\n                }],\n                {include: '@whitespace'},\n                [/([:|[[{(]\\.|\\.[\\]})]|[[\\]{}()])/, '@brackets'],\n                [/@symbols/, {\n                    cases: {\n                        '@operators': 'operator',\n                        '@default': '',\n                    },\n                }],\n\n                // number literals\n                // floats\n                [/@decNumber(\\.@decNumber(@exponent)|@exponent)(')?(f|F|d|D)(32|64)?/, 'number.float'], \n                [/(@decNumber|@octNumber|@binNumber)(')?(f|F|d|D)(32|64)?/, 'number.float'],\n                [/@hexNumber'(f|F|d|D)(32|64)?/, 'number.float'],\n\n                // ints\n                [/@hexNumber(')?((i|I|u|U)(8|16|32|64))?/, 'number.hex'],\n                [/@octNumber(')?((i|I|u|U)(8|16|32|64))?/, 'number.octal'],\n                [/@binNumber(')?((i|I|u|U)(8|16|32|64))?/, 'number.binary'],\n\n                [/@decNumber(')?((i|I|u|U)(8|16|32|64))?/, 'number'],\n              \n                // char literals\n                [/'/, 'string', '@character'],\n\n                // strings\n                [/(r|R)\"/, 'string', '@rawString'],\n                [/\"\"\"/, 'string', '@tripleQuoteString'],\n                [/\"(?!\")/, 'string', '@string'],\n            ],\n            whitespace: [\n                [/[ \\t\\r\\n]+/, 'white'],\n                [/#\\[/, 'comment', '@comment'],\n                [/#.*$/, 'comment'],\n            ],\n            comment: [\n                [/[^\\]#]/, 'comment'],\n                [/\\]#/, 'comment', '@pop'],\n            ],\n            string: [\n                [/@escapes/, 'string.escape'],\n                [/\"/, 'string', '@pop'],\n            ],\n            tripleQuoteString: [\n                [/\"\"\"/, 'string', '@pop'],\n            ],\n            rawString: [\n                [/\"/, 'string', '@pop'],\n            ],\n            character: [\n                [/@charEscapes/, 'string.escape'],\n                [/'/, 'string', '@pop'],\n            ],\n        },\n    };\n}\n\nmonaco.languages.register({id: 'nim'});\nmonaco.languages.setMonarchTokensProvider('nim', definition());\n\nexport {};\n","// Copyright (c) 2021, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar monaco = require('monaco-editor');\nvar cpp = require('monaco-editor/esm/vs/basic-languages/cpp/cpp');\nvar cppp = require('./cppp-mode');\n\nfunction definition() {\n    var cppx_blue = $.extend(true, {}, cppp); // deep copy\n    cppx_blue.tokenPostfix = '.cppx-blue';\n\n    // add the 'type' keyword\n    cppx_blue.keywords.push('type');\n\n    // pick up 'identifier:' as a definition.\n    cppx_blue.tokenizer.root.unshift([/[a-zA-Z_]\\w*\\s*:/, 'identifier.definition']);\n\n    return cppx_blue;\n}\n\nmonaco.languages.register({id: 'cppx-blue'});\nmonaco.languages.setLanguageConfiguration('cppx-blue', cpp.conf);\nmonaco.languages.setMonarchTokensProvider('cppx-blue', definition());\n\nexport {};\n","// Copyright (c) 2021, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\nimport _ from 'underscore';\nimport path from 'path';\nvar options = require('./options').options;\nvar languages = options.languages;\nvar JSZip = require('jszip');\n\nexport class MultifileFile {\n    fileId: number;\n    isIncluded: boolean;\n    isOpen: boolean;\n    isMainSource: boolean;\n    filename: string;\n    content: string;\n    editorId: number;\n    langId: string;\n}\n\nexport class FiledataPair {\n    filename: string;\n    contents: string;\n}\n\nexport class MultifileServiceState {\n    isCMakeProject: boolean;\n    compilerLanguageId: string;\n    files: MultifileFile[];\n    newFileId: number;\n}\n\nexport class MultifileService {\n    private files: Array<MultifileFile>;\n    private compilerLanguageId: string;\n    private isCMakeProject: boolean;\n    private hub: any;\n    private newFileId: number;\n    private alertSystem: any;\n    private validExtraFilenameExtensions: string[];\n    private readonly defaultLangIdUnknownExt: string;\n    private readonly cmakeLangId: string;\n    private readonly cmakeMainSourceFilename: string;\n    private readonly maxFilesize: number;\n\n    constructor(hub, alertSystem, state: MultifileServiceState) {\n        this.hub = hub;\n        this.alertSystem = alertSystem;\n\n        this.isCMakeProject = state.isCMakeProject || false;\n        this.compilerLanguageId = state.compilerLanguageId || '';\n        this.files = state.files || [];\n        this.newFileId = state.newFileId || 1;\n\n        this.validExtraFilenameExtensions = ['.txt', '.md', '.rst', '.sh', '.cmake', '.in'];\n        this.defaultLangIdUnknownExt = 'c++';\n        this.cmakeLangId = 'cmake';\n        this.cmakeMainSourceFilename = 'CMakeLists.txt';\n        this.maxFilesize = 1024000;\n    }\n\n    private static isHiddenFile(filename: string): boolean {\n        return (filename.length > 0 && filename[0] === '.');\n    }\n\n    private isValidFilename(filename: string): boolean {\n        if (MultifileService.isHiddenFile(filename)) return false;\n\n        const filenameExt = path.extname(filename);\n        if (this.validExtraFilenameExtensions.includes(filenameExt)) {\n            return true;\n        }\n\n        return _.any(languages, (lang) => {\n            return lang.extensions.includes(filenameExt);\n        });\n    }\n\n    private isCMakeFile(filename: string): boolean {\n        const filenameExt = path.extname(filename);\n        if (filenameExt === '.cmake' || filenameExt === '.in') {\n            return true;\n        }\n\n        return path.basename(filename) === this.cmakeMainSourceFilename;\n    }\n\n    private getLanguageIdFromFilename(filename: string): string {\n        const filenameExt = path.extname(filename);\n\n        const possibleLang = _.filter(languages, (lang) => {\n            return lang.extensions.includes(filenameExt);\n        });\n\n        if (possibleLang.length > 0) {\n            return possibleLang[0].id;\n        }\n\n        if (this.isCMakeFile(filename)) {\n            return this.cmakeLangId;\n        }\n\n        return this.defaultLangIdUnknownExt;\n    }\n\n    public async loadProjectFromFile(f, callback) {\n        this.files = [];\n        this.newFileId = 1;\n\n        const zipFilename = path.basename(f.name, '.zip');\n        const mainSourcefilename = this.getDefaultMainCMakeFilename();\n\n        const zip = await JSZip.loadAsync(f);\n\n        await Promise.all(zip.map(async (relativePath, zipEntry) => {\n            if (!zipEntry.dir) {\n                let removeFromName = 0;\n                if (relativePath.indexOf(zipFilename + '/') === 0) {\n                    removeFromName = zipFilename.length + 1;\n                }\n\n                const properName = relativePath.substring(removeFromName);\n                if (!this.isValidFilename(properName)) {\n                    return;\n                }\n\n                let content = await zip.file(zipEntry.name).async(\"string\");\n                if (content.length > this.maxFilesize) {\n                    return;\n                }\n\n                // remove utf8-bom characters\n                content = content.replace(/^(\\ufeff)/, '');\n\n                const file: MultifileFile = {\n                    fileId: this.newFileId,\n                    filename: properName,\n                    isIncluded: true,\n                    isOpen: false,\n                    editorId: -1,\n                    isMainSource: properName === mainSourcefilename,\n                    content: content,\n                    langId: this.getLanguageIdFromFilename(properName),\n                };\n\n                this.addFile(file);\n                callback(file);\n            }\n        }));\n    }\n\n    public async saveProjectToZipfile(callback: (any) => void) {\n        const zip = new JSZip();\n\n        this.forEachFile((file: MultifileFile) => {\n            if (file.isIncluded) {\n                zip.file(file.filename, this.getFileContents(file));\n            }\n        })\n\n        zip.generateAsync({type:\"blob\"}).then((blob) => {\n            callback(blob);\n        }, (err) => {\n            throw err;\n        });\n    }\n\n    public getState(): MultifileServiceState {\n        return {\n            isCMakeProject: this.isCMakeProject,\n            compilerLanguageId: this.compilerLanguageId,\n            files: this.files,\n            newFileId: this.newFileId,\n        };\n    }\n\n    public getLanguageId() {\n        return this.compilerLanguageId;\n    }\n\n    public isCompatibleWithCMake(): boolean {\n        return this.compilerLanguageId === 'c++' || this.compilerLanguageId === 'c' ||\n            this.compilerLanguageId === 'fortran';\n    }\n\n    public setLanguageId(id: string) {\n        this.compilerLanguageId = id;\n    }\n\n    public isACMakeProject(): boolean {\n        return this.isCompatibleWithCMake() && this.isCMakeProject;\n    }\n\n    public setAsCMakeProject(yes: boolean) {\n        this.isCMakeProject = yes;\n    }\n\n    private checkFileEditor(file: MultifileFile) {\n        if (file && file.editorId > 0) {\n            const editor = this.hub.getEditorById(file.editorId);\n            if (!editor) {\n                file.isOpen = false;\n                file.editorId = -1;\n            }\n        }\n    }\n\n    public getFileContents(file: MultifileFile) {\n        this.checkFileEditor(file);\n\n        if (file.isOpen) {\n            const editor = this.hub.getEditorById(file.editorId);\n            return editor.getSource();\n        } else {\n            return file.content;\n        }\n    }\n\n    public isEditorPartOfProject(editorId: Number) {\n        var found = _.find(this.files, (file: MultifileFile) => {\n            return (file.isIncluded) && file.isOpen && (editorId === file.editorId);\n        });\n\n        return !!found;\n    }\n\n    public getFileByFileId(fileId: Number) {\n        const file = _.find(this.files, (file: MultifileFile) => {\n            return file.fileId === fileId;\n        });\n\n        this.checkFileEditor(file);\n\n        return file;\n    }\n\n    public setAsMainSource(mainFileId: Number) {\n        for (let file of this.files) {\n            file.isMainSource = false;\n        }\n\n        var mainfile = this.getFileByFileId(mainFileId);\n        mainfile.isMainSource = true;\n    }\n\n    private static isValidFile(file: MultifileFile): boolean {\n        return (file.editorId > 0) || !!file.filename;\n    }\n\n    private filterOutNonsense() {\n        this.files = _.filter(this.files, (file: MultifileFile) => MultifileService.isValidFile(file));\n    }\n\n    public getFiles(): Array<FiledataPair> {\n        this.filterOutNonsense();\n\n        var filtered = _.filter(this.files, (file: MultifileFile) => {\n            return !file.isMainSource && file.isIncluded;\n        });\n\n        return _.map(filtered, (file: MultifileFile) => {\n            return {\n                filename: file.filename,\n                contents: this.getFileContents(file),\n            };\n        });\n    }\n\n    private isMainSourceFile(file: MultifileFile): boolean {\n        if (this.isCMakeProject) {\n            if (file.filename === this.getDefaultMainCMakeFilename()) {\n                this.setAsMainSource(file.fileId);\n            } else {\n                return false;\n            }\n        } else {\n            if (this.compilerLanguageId === 'pascal') {\n                if (file.filename.endsWith('.dpr')) {\n                    this.setAsMainSource(file.fileId);\n                } else {\n                    return false;\n                }\n            } else {\n                if (file.filename === MultifileService.getDefaultMainSourceFilename(this.compilerLanguageId)) {\n                    this.setAsMainSource(file.fileId);\n                } else {\n                    return false;\n                }\n            }\n        }\n\n        return file.isMainSource;\n    }\n\n    public getMainSource(): string {\n        var mainFile = _.find(this.files, (file: MultifileFile) => {\n            return file.isIncluded && this.isMainSourceFile(file);\n        });\n\n        if (mainFile) {\n            return this.getFileContents(mainFile);\n        } else {\n            return '';\n        }\n    }\n\n    public getFileByEditorId(editorId: number): MultifileFile {\n        return _.find(this.files, (file: MultifileFile) => {\n            return file.editorId === editorId;\n        });\n    }\n\n    public getEditorIdByFilename(filename: string): number {\n        const file: MultifileFile = _.find(this.files, (file: MultifileFile) => {\n            return file.isIncluded && (file.filename === filename);\n        });\n\n        return (file && file.editorId > 0) ? file.editorId : null;\n    }\n\n    public getMainSourceEditorId(): number {\n        const file: MultifileFile = _.find(this.files, (file: MultifileFile) => {\n            return file.isIncluded && this.isMainSourceFile(file);\n        });\n\n        this.checkFileEditor(file);\n\n        return (file && file.editorId > 0) ? file.editorId : null;\n    }\n\n    private addFile(file: MultifileFile) {\n        this.newFileId++;\n        this.files.push(file);\n    }\n\n    public addFileForEditorId(editorId: number) {\n        const file: MultifileFile = {\n            fileId: this.newFileId,\n            isIncluded: false,\n            isOpen: true,\n            isMainSource: false,\n            filename: '',\n            content: '',\n            editorId: editorId,\n            langId: '',\n        };\n\n        this.addFile(file);\n    }\n\n    public removeFileByFileId(fileId: number): MultifileFile {\n        const file: MultifileFile = this.getFileByFileId(fileId);\n\n        this.files = this.files.filter((obj: MultifileFile) => obj.fileId !== fileId);\n\n        return file;\n    }\n\n    public async excludeByFileId(fileId: number): Promise<void> {\n        const file: MultifileFile = this.getFileByFileId(fileId);\n        file.isIncluded = false;\n    }\n\n    public async includeByFileId(fileId: number): Promise<void> {\n        const file: MultifileFile = this.getFileByFileId(fileId);\n        file.isIncluded = true;\n\n        if (file.filename === '') {\n            const isRenamed = await this.renameFile(fileId);\n            if (isRenamed) {\n                await this.includeByFileId(fileId);\n            } else {\n                file.isIncluded = false;\n            }\n        } else {\n            file.isIncluded = true;\n        }\n\n        return;\n    }\n\n    public async includeByEditorId(editorId: number): Promise<void> {\n        const file: MultifileFile = this.getFileByEditorId(editorId);\n\n        return this.includeByFileId(file.fileId);\n    }\n\n    public forEachOpenFile(callback: (File) => void) {\n        this.filterOutNonsense();\n\n        for (const file of this.files) {\n            if (file.isOpen && file.editorId > 0) {\n                callback(file);\n            }\n        }\n    }\n\n    public forEachFile(callback: (File) => void) {\n        this.filterOutNonsense();\n\n        for (const file of this.files) {\n            callback(file);\n        }\n    }\n\n    private getDefaultMainCMakeFilename() {\n        return this.cmakeMainSourceFilename;\n    }\n\n    private static getDefaultMainSourceFilename(langId) {\n        const lang = languages[langId];\n        const ext0 = lang.extensions[0];\n        return 'example' + ext0;\n    }\n\n    private getSuggestedFilename(file: MultifileFile, editor: any): string {\n        let suggestedFilename = file.filename;\n        if (file.filename === '') {\n            let langId: string = file.langId;\n            if (editor) {\n                langId = editor.currentLanguage.id;\n                if (editor.filename) {\n                    suggestedFilename = editor.filename;\n                }\n            }\n\n            if (!suggestedFilename) {\n                if (langId === this.cmakeLangId) {\n                    suggestedFilename = this.getDefaultMainCMakeFilename();\n                } else {\n                    suggestedFilename = MultifileService.getDefaultMainSourceFilename(langId);\n                }\n            }\n        }\n\n        return suggestedFilename;\n    }\n\n    private fileExists(filename: string, excludeFile: MultifileFile): boolean {\n        return !!_.find(this.files, (file: MultifileFile) => {\n            return (file !== excludeFile) && (file.filename === filename);\n        });\n    }\n\n    public async renameFile(fileId: number): Promise<boolean> {\n        var file = this.getFileByFileId(fileId);\n\n        let editor: any = null;\n        if (file.isOpen && file.editorId > 0) {\n            editor = this.hub.getEditorById(file.editorId);\n        }\n\n        let suggestedFilename = this.getSuggestedFilename(file, editor);\n\n        return new Promise((resolve) => {\n            this.alertSystem.enterSomething('Rename file', 'Please enter new filename', suggestedFilename, {\n                yes: (value: string) => {\n                    if (value !== '' && value[0] !== '/') {\n                        if (!this.fileExists(value, file)) {\n                            file.filename = value;\n\n                            if (editor) {\n                                editor.setFilename(file.filename);\n                            }\n\n                            resolve(true);\n                        } else {\n                            this.alertSystem.alert('Rename file', 'Filename already exists');\n                            resolve(false);\n                        }\n                    } else {\n                        this.alertSystem.alert('Rename file', 'Filename cannot be empty or start with a \"/\"');\n                        resolve(false);\n                    }\n                },\n                no: () => {\n                    resolve(false);\n                },\n                yesClass: 'btn btn-primary',\n                yesHtml: 'Rename',\n                noClass: 'btn-outline-info',\n                noHtml: 'Cancel'\n            });\n        });\n    }\n\n    public async renameFileByEditorId(editorId: number): Promise<boolean> {\n        var file = this.getFileByEditorId(editorId);\n\n        return this.renameFile(file.fileId);\n    }\n}\n","// Copyright (c) 2017, Marc Poulhis - Kalray Inc.\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Released under the MIT license\n\n// this is mostly based on 'mylang' example from https://microsoft.github.io/monaco-editor/monarch.html\n\n'use strict';\nvar monaco = require('monaco-editor');\n\nfunction definition() {\n    return {\n        // Set defaultToken to invalid to see what you do not tokenize yet\n        // defaultToken: 'invalid',\n\n        keywords: [\n            'abstract', 'continue', 'for', 'new', 'switch', 'assert', 'goto', 'do',\n            'if', 'private', 'this', 'break', 'protected', 'throw', 'else', 'public',\n            'enum', 'return', 'catch', 'try', 'interface', 'static', 'class',\n            'finally', 'const', 'super', 'while', 'true', 'false',\n\n            // Generated using the following:\n            // #define DEF_RTL_EXPR(a,b,c,d) b,\n            // keyword: [\n            // #include <rtl.def>\n            // ],\n            // And by invoking the cpp :\n            // cpp -P -I/path/to/gcc/gcc/\n\n            // All RTL classes.\n            'UnKnown',\n            'value',\n            'debug_expr',\n            'expr_list',\n            'insn_list',\n            'int_list',\n            'sequence',\n            'address',\n            'debug_insn',\n            'insn',\n            'jump_insn',\n            'call_insn',\n            'jump_table_data',\n            'barrier',\n            'code_label',\n            'note',\n            'cond_exec',\n            'parallel',\n            'asm_input',\n            'asm_operands',\n            'unspec',\n            'unspec_volatile',\n            'addr_vec',\n            'addr_diff_vec',\n            'prefetch',\n            'set',\n            'use',\n            'clobber',\n            'call',\n            'return',\n            'simple_return',\n            'eh_return',\n            'trap_if',\n            'const_int',\n            'const_fixed',\n            'const_double',\n            'const_vector',\n            'const_string',\n            'const',\n            'pc',\n            'reg',\n            'scratch',\n            'subreg',\n            'strict_low_part',\n            'concat',\n            'concatn',\n            'mem',\n            'label_ref',\n            'symbol_ref',\n            'cc0',\n            'if_then_else',\n            'compare',\n            'plus',\n            'minus',\n            'neg',\n            'mult',\n            'ss_mult',\n            'us_mult',\n            'div',\n            'ss_div',\n            'us_div',\n            'mod',\n            'udiv',\n            'umod',\n            'and',\n            'ior',\n            'xor',\n            'not',\n            'ashift',\n            'rotate',\n            'ashiftrt',\n            'lshiftrt',\n            'rotatert',\n            'smin',\n            'smax',\n            'umin',\n            'umax',\n            'pre_dec',\n            'pre_inc',\n            'post_dec',\n            'post_inc',\n            'pre_modify',\n            'post_modify',\n            'ne',\n            'eq',\n            'ge',\n            'gt',\n            'le',\n            'lt',\n            'geu',\n            'gtu',\n            'leu',\n            'ltu',\n            'unordered',\n            'ordered',\n            'uneq',\n            'unge',\n            'ungt',\n            'unle',\n            'unlt',\n            'ltgt',\n            'sign_extend',\n            'zero_extend',\n            'truncate',\n            'float_extend',\n            'float_truncate',\n            'float',\n            'fix',\n            'unsigned_float',\n            'unsigned_fix',\n            'fract_convert',\n            'unsigned_fract_convert',\n            'sat_fract',\n            'unsigned_sat_fract',\n            'abs',\n            'sqrt',\n            'bswap',\n            'ffs',\n            'clrsb',\n            'clz',\n            'ctz',\n            'popcount',\n            'parity',\n            'sign_extract',\n            'zero_extract',\n            'high',\n            'lo_sum',\n            'vec_merge',\n            'vec_select',\n            'vec_concat',\n            'vec_duplicate',\n            'ss_plus',\n            'us_plus',\n            'ss_minus',\n            'ss_neg',\n            'us_neg',\n            'ss_abs',\n            'ss_ashift',\n            'us_ashift',\n            'us_minus',\n            'ss_truncate',\n            'us_truncate',\n            'fma',\n            'var_location',\n            'debug_implicit_ptr',\n            'entry_value',\n            'debug_parameter_ref',\n        ],\n\n        typeKeywords: [\n            'boolean', 'double', 'byte', 'int', 'short', 'char', 'void', 'long', 'float',\n        ],\n\n        operators: [\n            '=', '>', '<', '!', '~', '?', ':', '==', '<=', '>=', '!=',\n            '&&', '||', '++', '--', '+', '-', '*', '/', '&', '|', '^', '%',\n            '<<', '>>', '>>>', '+=', '-=', '*=', '/=', '&=', '|=', '^=',\n            '%=', '<<=', '>>=', '>>>=',\n        ],\n\n        // we include these common regular expressions\n        symbols: /[=><!~?:&|+\\-*/^%]+/,\n\n        // C# style strings\n        escapes: /\\\\(?:[abfnrtv\\\\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,\n\n        // The main tokenizer for our languages\n        tokenizer: {\n            root: [\n                // identifiers and keywords\n                [/[a-z_$][\\w$]*/, {\n                    cases: {\n                        '@typeKeywords': 'keyword',\n                        '@keywords': 'keyword',\n                        '@default': 'identifier',\n                    },\n                }],\n                [/[A-Z][\\w$]*/, 'type.identifier'],  // to show class names nicely\n\n                // whitespace\n                {include: '@whitespace'},\n\n                // delimiters and operators\n                [/[{}()[\\]]/, '@brackets'],\n                [/[<>](?!@symbols)/, '@brackets'],\n                [/@symbols/, {\n                    cases: {\n                        '@operators': 'operator',\n                        '@default': '',\n                    },\n                }],\n\n                // @ annotations.\n                // As an example, we emit a debugging log message on these tokens.\n                // Note: message are supressed during the first load -- change some lines to see them.\n                //  [/@\\s*[a-zA-Z_\\$][\\w\\$]*/, { token: 'annotation', log: 'annotation token: $0' }],\n\n                // numbers\n                [/\\d*\\.\\d+([eE][-+]?\\d+)?/, 'number.float'],\n                [/0[xX][0-9a-fA-F]+/, 'number.hex'],\n                [/\\d+/, 'number'],\n\n                // delimiter: after number because of .\\d floats\n                [/[;,.]/, 'delimiter'],\n\n                // strings\n                [/\"([^\"\\\\]|\\\\.)*$/, 'string.invalid'],  // non-teminated string\n                [/\"/, {token: 'string.quote', bracket: '@open', next: '@string'}],\n\n                // characters\n                [/'[^\\\\']'/, 'string'],\n                [/(')(@escapes)(')/, ['string', 'string.escape', 'string']],\n                [/'/, 'string.invalid'],\n            ],\n\n            comment: [\n                [/[^/*]+/, 'comment'],\n                [/\\/\\*/, 'comment', '@push'],    // nested comment\n                ['\\\\*/', 'comment', '@pop'],\n                [/[/*]/, 'comment'],\n            ],\n\n            string: [\n                [/[^\\\\\"]+/, 'string'],\n                [/@escapes/, 'string.escape'],\n                [/\\\\./, 'string.escape.invalid'],\n                [/\"/, {token: 'string.quote', bracket: '@close', next: '@pop'}],\n            ],\n\n            whitespace: [\n                [/[ \\t\\r\\n]+/, 'white'],\n                [/\\/\\*/, 'comment', '@comment'],\n                [/\\/\\/.*$/, 'comment'],\n                [/^;;.*$/, 'comment'],\n\n            ],\n        },\n    };\n}\n\nmonaco.languages.register({id: 'gccdump-rtl-gimple'});\nmonaco.languages.setMonarchTokensProvider('gccdump-rtl-gimple', definition());\n\nexport {}\n","// Copyright (c) 2017, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar monaco = require('monaco-editor');\nvar cpp = require('monaco-editor/esm/vs/basic-languages/cpp/cpp');\n\n// We need to create a new definition for cpp so we can remove invalid keywords\n\nfunction definition() {\n    var cppp = $.extend(true, {}, cpp.language); // deep copy\n\n    function removeKeyword(keyword) {\n        var index = cppp.keywords.indexOf(keyword);\n        if (index > -1) {\n            cppp.keywords.splice(index, 1);\n        }\n    }\n\n    function removeKeywords(keywords) {\n        for (var i = 0; i < keywords.length; ++i) {\n            removeKeyword(keywords[i]);\n        }\n    }\n\n    function addKeywords(keywords) {\n        // (Ruben) Done one by one as if you just push them all, Monaco complains that they're not strings, but as\n        // far as I can tell, they indeed are all strings. This somehow fixes it. If you know how to fix it, plz go\n        for (var i = 0; i < keywords.length; ++i) {\n            cppp.keywords.push(keywords[i]);\n        }\n    }\n\n    // We remove everything that's not an identifier, underscore reserved name and not an official C++ keyword...\n    // Regarding #617, final is a identifier with special meaning, not a fully qualified keyword\n    removeKeywords(['abstract', 'amp', 'array', 'cpu', 'delegate', 'each', 'event', 'finally', 'gcnew',\n        'generic', 'in', 'initonly', 'interface', 'interior_ptr', 'internal', 'literal', 'partial', 'pascal',\n        'pin_ptr', 'property', 'ref', 'restrict', 'safe_cast', 'sealed', 'title_static', 'where']);\n\n    addKeywords(['alignas', 'alignof', 'and', 'and_eq', 'asm', 'bitand', 'bitor', 'char8_t', 'char16_t',\n        'char32_t', 'compl', 'concept', 'consteval', 'constinit', 'co_await', 'co_return', 'co_yield', 'not', 'not_eq',\n        'or', 'or_eq', 'requires', 'xor', 'xor_eq']);\n\n    return cppp;\n}\n\nvar def = definition();\n\nmonaco.languages.register({id: 'cppp'});\nmonaco.languages.setLanguageConfiguration('cppp', cpp.conf);\nmonaco.languages.setMonarchTokensProvider('cppp', def);\n\nexport = def;\n","module.exports = \"<div class=commits-list> <p>This is an automated file created by running <code>make changelog</code>.</p> </div> \";","// Copyright (c) 2021, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\nconst configElement = document.getElementById('config');\n\nwindow.httpRoot = configElement.getAttribute('httpRoot');\nwindow.staticRoot = configElement.getAttribute('staticRoot');\n\nconst extraOptions: object = JSON.parse(decodeURIComponent(configElement.getAttribute('extraOptions')));\nfor (const key in extraOptions) {\n    window.compilerExplorerOptions[key] = extraOptions[key];\n}\n\ndeclare var __webpack_public_path__: string;\n\n__webpack_public_path__ = window.staticRoot;\n\nexport const options = window.compilerExplorerOptions;\n","// Copyright (c) 2016, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar options = require('options').options;\nvar Sentry = require('@sentry/browser');\n\nif (options.statusTrackingEnabled && options.sentryDsn) {\n    Sentry.init({\n        dsn: options.sentryDsn,\n        release: options.release,\n        environment: options.sentryEnvironment,\n    });\n}\n\nfunction GAProxy() {\n    this.hasBeenEnabled = false;\n    this.isEnabled = false;\n\n    this.proxy = function () {};\n\n    this.initialise = function () {\n        if (!this.isEnabled && options.statusTrackingEnabled && options.googleAnalyticsEnabled) {\n            // Check if this is a re-enable, as the script is already there in this case\n            if (!this.hasBeenEnabled) {\n                (function (i, s, o, g, r, a, m) {\n                    i.GoogleAnalyticsObject = r;\n                    i[r] = i[r] || function () {\n                        (i[r].q = i[r].q || []).push(arguments);\n                    };\n                    i[r].l = 1 * new Date();\n                    a = s.createElement(o);\n                    m = s.getElementsByTagName(o)[0];\n                    a.async = 1;\n                    a.src = g;\n                    m.parentNode.insertBefore(a, m);\n                })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');\n                window.ga('set', 'anonymizeIp', true);\n                window.ga('create', options.googleAnalyticsAccount, {\n                    cookieDomain: 'auto',\n                    cookieFlags: 'SameSite=None; Secure',\n                });\n                window.ga('send', 'pageview');\n            }\n            this.proxy = function () {\n                window.ga.apply(window.ga, arguments);\n            };\n            this.isEnabled = true;\n            this.hasBeenEnabled = true;\n        } else {\n            this.isEnabled = false;\n            this.proxy = function () {};\n        }\n    };\n\n    this.toggle = function (doEnable) {\n        if (doEnable) {\n            if (!this.isEnabled) this.initialise();\n        } else {\n            this.isEnabled = false;\n            this.proxy = function () {};\n        }\n    };\n}\n\nvar ga = new GAProxy();\n\nmodule.exports = {\n    ga: ga,\n};\n","// Copyright (c) 2021, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\nvar monaco = require('monaco-editor');\n\nfunction definition() {\n    return {\n        tokenizer: {\n            root: [\n                [/^(\\| )*==.*$/, 'comment'],\n                [/^(\\| )*catch type.*$/, 'comment'],\n                [/^(\\| )*local table.*$/, 'comment'],\n                [/^(\\| )*\\[\\s*\\d+\\].*$/, 'comment'],\n                [/^(\\| )*\\|-+$/, 'comment'],\n                [/^((?:\\| )*)(\\d+)/, ['comment', { token: 'number', next: '@opcode' }]],\n                [/^((?:\\| )*)(\\d+)(\\s+)/, ['comment', 'number', { token: '', next: '@opcode' }]],\n            ],\n\n            opcode: [\n                [/[a-z_]\\w*\\s*$/, { token: 'keyword', next: '@root' }],\n                [/([a-z_]\\w*)(\\s+)/, ['keyword', { token: '', next: '@arguments' }]],\n            ],\n\n            arguments: [\n                [/(.*?)(\\(\\s*\\d+\\)(?:\\[[^\\]]+\\])?)$/, ['', { token: 'comment', next: '@root' }]],\n                [/.*$/, { token: '', next: '@root' }],\n            ],\n        },\n    };\n}\n\nvar def = definition();\nmonaco.languages.register({ id: 'asmruby' });\nmonaco.languages.setMonarchTokensProvider('asmruby', def);\n\nexport = def;\n","// Copyright (c) 2018, 2021, Arm Ltd & Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar monaco = require('monaco-editor');\nvar cpp = require('monaco-editor/esm/vs/basic-languages/cpp/cpp');\nvar cppp = require('./cppp-mode');\n\n// We need to create a new definition for C++ for OpenCL so we can remove invalid keywords\n\nfunction definition() {\n    var cppForOpenCL = $.extend(true, {}, cppp); // deep copy\n\n    function addKeywords(keywords) {\n        // (Ruben) Done one by one as if you just push them all, Monaco complains that they're not strings, but as\n        // far as I can tell, they indeed are all strings. This somehow fixes it. If you know how to fix it, plz go\n        for (var i = 0; i < keywords.length; ++i) {\n            cppForOpenCL.keywords.push(keywords[i]);\n        }\n    }\n\n    function vectorTypes(basename) {\n        return [basename + '2', basename + '3', basename + '4', basename + '8', basename + '16'];\n    }\n    // Keywords for C++ for OpenCL\n    addKeywords([\n        '__global', 'global', '__local', 'local', '__constant', 'constant', '__private', 'private',\n        '__generic', 'generic',\n        '__kernel', 'kernel',\n        'uniform', 'pipe',\n        '__read_only', 'read_only', '__write_only', 'write_only', '__read_write', 'read_write',\n        'bool', 'uchar', 'ushort', 'uint', 'ulong',\n        'cl_mem_fence_flags', 'event_t', 'reserve_id_t', 'ndrange_t', 'queue_t',\n        'image2d_t', 'image3d_t', 'image2d_array_t', 'image1d_t', 'image1d_array_t',\n        'image2d_depth_t', 'image1d_buffer_t', 'image2d_array_depth_t',\n        'sampler_t',\n        'uintptr_t', 'intptr_t', 'ptrdiff_t',\n        'size_t']);\n    addKeywords(vectorTypes('char'));\n    addKeywords(vectorTypes('short'));\n    addKeywords(vectorTypes('int'));\n    addKeywords(vectorTypes('long'));\n    addKeywords(vectorTypes('uchar'));\n    addKeywords(vectorTypes('ushort'));\n    addKeywords(vectorTypes('uint'));\n    addKeywords(vectorTypes('ulong'));\n    addKeywords(vectorTypes('half'));\n    addKeywords(vectorTypes('float'));\n    addKeywords(vectorTypes('double'));\n\n    cppForOpenCL.floatsuffix = /[fFhH]?/;\n\n    return cppForOpenCL;\n}\n\nmonaco.languages.register({id: 'cpp-for-opencl'});\nmonaco.languages.setLanguageConfiguration('cpp-for-opencl', cpp.conf);\nmonaco.languages.setMonarchTokensProvider('cpp-for-opencl', definition());\n\nexport {};\n","// Copyright (c) 2021, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar Settings = require('settings');\n\n// The name of the package itself contains .js, it's not referencing a file\n// eslint-disable-next-line requirejs/no-js-extension\nvar Chart = require('chart.js');\nrequire('chart.js/auto');\n\nfunction pushTimingInfo(data, step, time) {\n    data.labels.push(step);\n    data.datasets[0].data.push(time);\n    data.steps += parseInt(time, 10);\n}\n\nfunction concatTimings(data, timings) {\n    _.forEach(timings, function (timing) {\n        pushTimingInfo(data, timing.step, timing.time);\n    });\n}\n\nfunction addBuildResultToTimings(data, buildResult) {\n    if (buildResult.packageDownloadAndUnzipTime) {\n        pushTimingInfo(data, 'Download binary from cache', buildResult.packageDownloadAndUnzipTime);\n    } else {\n        if (buildResult.downloads) {\n            concatTimings(data, buildResult.downloads);\n        }\n\n        if (buildResult.buildsteps) {\n            _.forEach(buildResult.buildsteps, function (step) {\n                pushTimingInfo(data, step.step, step.execTime);\n            });\n        } else if (buildResult.execTime) {\n            pushTimingInfo(data, 'Compilation', buildResult.execTime);\n        }\n    }\n}\n\nfunction initializeChartDataFromResult(compileResult, totalTime) {\n    var data = {\n        steps: 0,\n        labels: [],\n        datasets: [{\n            label: 'time in ms',\n            data: [],\n            borderWidth: 1,\n            barThickness: 20,\n            backgroundColor: [\n                'red',\n                'orange',\n                'yellow',\n                'green',\n                'blue',\n                'indigo',\n                'violet',\n            ],\n        }],\n    };\n\n    if (compileResult.retreivedFromCache) {\n        pushTimingInfo(data, 'Retrieve result from cache', compileResult.retreivedFromCacheTime);\n\n        if (compileResult.packageDownloadAndUnzipTime) {\n            pushTimingInfo(data, 'Download binary from cache', compileResult.execTime);\n        }\n\n        if (compileResult.execResult && compileResult.execResult.execTime) {\n            pushTimingInfo(data, 'Execution', compileResult.execResult.execTime);\n        }\n    } else {\n        addBuildResultToTimings(data, compileResult);\n\n        if (!compileResult.packageDownloadAndUnzipTime) {\n            if (compileResult.objdumpTime) {\n                pushTimingInfo(data, 'Disassembly', compileResult.objdumpTime);\n            }\n\n            if (compileResult.parsingTime) {\n                pushTimingInfo(data, 'ASM parsing', compileResult.parsingTime);\n            }\n        }\n    }\n\n    if (compileResult.didExecute) {\n        if (compileResult.execResult && compileResult.execResult.execTime) {\n            pushTimingInfo(data, 'Execution', compileResult.execResult.execTime);\n        } else {\n            pushTimingInfo(data, 'Execution', compileResult.execTime);\n        }\n    }\n\n    var stepsTotal = data.steps;\n    pushTimingInfo(data, 'Network, JS, waiting, etc.', totalTime - stepsTotal);\n\n    if (totalTime - stepsTotal < 0) {\n        data.datasets[0].data = [totalTime];\n        data.labels = ['Browser cache'];\n    }\n\n    delete data.steps;\n    return data;\n}\n\nfunction displayData(data) {\n    var modal = $('#timing-info');\n\n    var chartDiv = modal.find('#chart');\n    chartDiv.html('');\n\n    var canvas = $('<canvas id=\"timing-chart\" width=\"400\" height=\"400\"></canvas>');\n    chartDiv.append(canvas);\n\n    var settings = Settings.getStoredSettings();\n    var fontColour = Chart.defaults.color;\n    if (settings != null && settings.theme === 'dark') {\n        fontColour = '#ffffff';\n    }\n\n    var ctx = canvas[0].getContext('2d');\n    new Chart.Chart(ctx, {\n        type: 'bar',\n        data: data,\n        options: {\n            legend: {\n                labels: {\n                    fontColor: fontColour,\n                    fontSize: 18,\n                },\n            },\n            scales: {\n                xAxes: [{\n                    gridLines: {\n                        color: fontColour,\n                    },\n                    ticks: {\n                        fontColor: fontColour,\n                        beginAtZero: true,\n                    },\n                }],\n                yAxes: [{\n                    gridLines: {\n                        color: fontColour,\n                    },\n                    ticks: {\n                        fontColor: fontColour,\n                        beginAtZero: true,\n                    },\n                }],\n            },\n        },\n    });\n    modal.modal('show');\n}\n\nfunction displayCompilationTiming(compileResult, totalTime) {\n    var data = initializeChartDataFromResult(compileResult, totalTime);\n    displayData(data);\n}\n\nmodule.exports = {\n    displayCompilationTiming: displayCompilationTiming,\n};\n","// Copyright (c) 2021, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\nvar monaco = require('monaco-editor');\n\nfunction configuration() {\n    return {\n        comments: {\n            lineComment: '#',\n        },\n\n        brackets: [\n            ['(', ')'],\n            ['{', '}'],\n            ['[', ']'],\n        ],\n\n        autoClosingPairs: [\n            { open: '{', close: '}' },\n            { open: '[', close: ']' },\n            { open: '(', close: ')' },\n            { open: '\"', close: '\"' },\n            { open: \"'\", close: \"'\" },\n        ],\n\n        surroundingPairs: [\n            { open: '{', close: '}' },\n            { open: '[', close: ']' },\n            { open: '(', close: ')' },\n            { open: '\"', close: '\"' },\n            { open: \"'\", close: \"'\" },\n        ],\n\n        indentationRules: {\n            /* TODO(supergrecko): Investigate inefficient regex\n            *   original regexp was: /^\\s*((begin|class|module|struct|union|annotation|lib|(private|protected)\\s+(def|macro)|def|macro|else|elsif|ensure|if|rescue|unless|until|when|while|case)|([^#]*\\sdo\\b)|([^#]*=\\s*(case|if|unless|while|until|begin)))\\b([^#{;]|([\"'\\\\/]).*\\4|{{.*?}}|{.*?})*(#.*)?$/\n            *   truncated piece in fixed regex is: \\b([^#{;]|([\"'\\\\/]).*\\4|{{.*?}}|{.*?})*(#.*)?\n            *\n            * See https://github.com/github/codeql/blob/06b36f742e88b610e0c2b75e2668603fc3a0f359/javascript/ql/src/Performance/ReDoS.ql for reference\n            */\n            increaseIndentPattern: /^\\s*((begin|class|module|struct|union|annotation|lib|(private|protected)\\s+(def|macro)|def|macro|else|elsif|ensure|if|rescue|unless|until|when|while|case)|([^#]*\\sdo\\b)|([^#]*=\\s*(case|if|unless|while|until|begin)))$/,\n            decreaseIndentPattern: /^\\s*([}\\]]([,)]?\\s*(#|$)|\\.[a-zA-Z_]\\w*\\b)|(end|rescue|ensure|else|elsif|when)\\b)/,\n        },\n    };\n}\n\nfunction definition() {\n    return {\n        keywords: [\n            'abstract',\n            'alias',\n            'annotation',\n            'asm',\n            'begin',\n            'break',\n            'case',\n            'class',\n            'def',\n            'do',\n            'else',\n            'elsif',\n            'end',\n            'ensure',\n            'enum',\n            'extend',\n            'false',\n            'for',\n            'forall',\n            'fun',\n            'if',\n            'in',\n            'include',\n            'instance_sizeof',\n            'lib',\n            'macro',\n            'module',\n            'next',\n            'nil',\n            'offsetof',\n            'out',\n            'pointerof',\n            'private',\n            'protected',\n            'require',\n            'rescue',\n            'return',\n            'select',\n            'self',\n            'sizeof',\n            'struct',\n            'true',\n            'type',\n            'typeof',\n            'uninitialized',\n            'union',\n            'unless',\n            'until',\n            'verbatim',\n            'when',\n            'while',\n            'yield',\n        ],\n\n        operators: [\n            '+', '&+', '-', '&-', '!', '~',\n            '**', '&**',\n            '*', '&*', '/', '//', '%',\n            '<<', '>>',\n            '&',\n            '|', '^',\n            '==', '!=', '=~', '!~', '===',\n            '<', '<=', '>', '>=', '<=>',\n            '&&',\n            '||',\n            '..', '...',\n            '?', ':',\n            '=', '[]=', '+=', '&+=', '-=', '&-=', '*=', '&*=', '/=', '//=', '%=', '|=',\n            '&=', '^=', '**=', '<<=', '>>=', '||=', '&&=',\n            '[]', '[]?',\n            '&.',\n        ],\n\n        symbols: /[=><!~?:&|+\\-*/^%.]+/,\n        escapes: /\\\\(?:[abefnrtv\\\\\"'#]|[0-7]{1,3}|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|u{[0-9A-Fa-f]{1,6}})/,\n        numsuffix: /i8|i16|i32|i64|i128|u8|u16|u32|u64|u128|f32|f64/,\n\n        tokenizer: {\n            root: [\n                [/__(DIR|END_LINE|FILE|LINE)__/, 'keyword'],\n\n                [/[a-z_][a-z0-9_]*[!?=]?/, {\n                    cases: {\n                        '@keywords': 'keyword',\n                        '@default': 'identifier',\n                    },\n                }],\n\n                [/[A-Z][A-Za-z0-9_]*/, 'type.identifier'],\n\n                [/[;,.]/, 'delimiter'],\n                [/::/, 'delimiter'],\n\n                [/@symbols/, {\n                    cases: {\n                        '@operators': 'operator',\n                        '@default': '',\n                    },\n                }],\n\n                [/[{}()[\\]]/, '@brackets'],\n\n                [/0x[0-9A-Fa-f_]+(@numsuffix)?/, 'number.hex'],\n                [/0o[0-7_]+(@numsuffix)?/, 'number.octal'],\n                [/0b[01_]+(@numsuffix)?/, 'number.binary'],\n                [/(?!00)[0-9][0-9_]*\\.[0-9][0-9_]*([eE][-+]?[0-9][0-9_]*)?(f32|f64)?/, 'number.float'],\n                [/(?!00)[0-9][0-9_]*(@numsuffix)?/, 'number'],\n\n                [/#.*$/, 'comment'],\n\n                [/\"/, 'string', '@string'],\n                [/(')(@escapes)(')/, ['string', 'string.escape', 'string']],\n                [/'[^\\\\']'/, 'string'],\n            ],\n\n            string: [\n                [/@escapes/, 'string.escape'],\n                [/\"/, 'string', '@pop'],\n                [/./, 'string'],\n            ],\n        },\n    };\n}\n\nvar def = definition();\n\nmonaco.languages.register({ id: 'crystal' });\nmonaco.languages.setMonarchTokensProvider('crystal', def);\nmonaco.languages.setLanguageConfiguration('crystal', configuration());\n\nexport = def;\n","// Copyright (c) 2019, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar\n    local = require('./local'),\n    _ = require('underscore'),\n    filterComponentState = require('./sharing').Sharing.filterComponentState;\n\nvar maxHistoryEntries = 30;\n\nfunction extractEditorSources(content) {\n    var sources = [];\n\n    for (var i = 0; i < content.length; i++) {\n        var component = content[i];\n        if (component.content) {\n            var subsources = extractEditorSources(component.content);\n            if (subsources.length > 0) {\n                sources = sources.concat(subsources);\n            }\n        } else if (component.componentName === 'codeEditor') {\n            sources.push({\n                lang: component.componentState.lang,\n                source: component.componentState.source,\n            });\n        }\n    }\n\n    return sources;\n}\n\nfunction list() {\n    var stringifiedHistory = local.get('history');\n    return JSON.parse(stringifiedHistory ? stringifiedHistory : '[]');\n}\n\nfunction getArrayWithJustTheCode(editorSources) {\n    return _.pluck(editorSources, 'source');\n}\n\nfunction getSimilarSourcesIndex(completeHistory, sourcesToCompareTo) {\n    var duplicateIdx = -1;\n\n    for (var i = 0; i < completeHistory.length; i++) {\n        var diff = _.difference(sourcesToCompareTo, getArrayWithJustTheCode(completeHistory[i].sources));\n        if (diff.length === 0) {\n            duplicateIdx = i;\n            break;\n        }\n    }\n\n    return duplicateIdx;\n}\n\nfunction push(stringifiedConfig) {\n    var config = JSON.parse(stringifiedConfig);\n    var sources = extractEditorSources(config.content);\n    if (sources.length > 0) {\n        var completeHistory = list();\n        var duplicateIdx = getSimilarSourcesIndex(completeHistory, getArrayWithJustTheCode(sources));\n\n        if (duplicateIdx === -1) {\n            while (completeHistory.length >= maxHistoryEntries) {\n                completeHistory.shift();\n            }\n\n            completeHistory.push({\n                dt: Date.now(),\n                sources: sources,\n                config: config,\n            });\n        } else {\n            var entry = completeHistory[duplicateIdx];\n            entry.dt = Date.now();\n        }\n\n        local.set('history', JSON.stringify(completeHistory));\n    }\n}\n\n\nfunction trackHistory(layout) {\n    var lastState = null;\n    var debouncedPush = _.debounce(push, 500);\n    layout.on('stateChanged', function () {\n        var stringifiedConfig = JSON.stringify(filterComponentState(layout.toConfig()));\n        if (stringifiedConfig !== lastState) {\n            lastState = stringifiedConfig;\n            debouncedPush(stringifiedConfig);\n        }\n    });\n}\n\nfunction sortedList() {\n    var sorted = list();\n\n    sorted.sort(function (a, b) {\n        return b.dt - a.dt;\n    });\n\n    return sorted;\n}\n\nfunction sources(language) {\n    var sourcelist = [];\n    _.each(sortedList(), function (entry) {\n        _.each(entry.sources, function (source) {\n            if (source.lang === language) {\n                sourcelist.push({\n                    dt: entry.dt,\n                    source: source.source,\n                });\n            }\n        });\n    });\n\n    return sourcelist;\n}\n\nmodule.exports = {\n    list: list,\n    sortedList: sortedList,\n    sources: sources,\n    trackHistory: trackHistory,\n};\n","// Copyright (c) 2017, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\nvar monaco = require('monaco-editor');\nvar cpp = require('monaco-editor/esm/vs/basic-languages/cpp/cpp');\n\nfunction definition() {\n    var ispc = $.extend(true, {}, cpp.language); // deep copy\n\n    ispc.tokenPostfix = '.ispc';\n\n    ispc.keywords.push(\n        'cbreak',\n        'ccontinue',\n        'cdo',\n        'cfor',\n        'cif',\n        'creturn',\n        'cwhile',\n        'delete',\n        'export',\n        'foreach',\n        'foreach_active',\n        'foreach_tiled',\n        'foreach_unique',\n        'int16',\n        'int32',\n        'int64',\n        'int8',\n        'launch',\n        'new',\n        'operator',\n        'programCount',\n        'programIndex',\n        'reference',\n        'size_t',\n        'soa',\n        'sync',\n        'task',\n        'taskCount',\n        'taskCount0',\n        'taskCount1',\n        'taskCount2',\n        'taskIndex',\n        'taskIndex0',\n        'taskIndex1',\n        'taskIndex2',\n        'threadCount',\n        'threadIndex',\n        'uint16',\n        'uint32',\n        'uint64',\n        'uint8',\n        'uniform',\n        'unmasked',\n        'varying'\n    );\n    return ispc;\n}\n\nmonaco.languages.register({id: 'ispc'});\nmonaco.languages.setLanguageConfiguration('ispc', cpp.conf);\nmonaco.languages.setMonarchTokensProvider('ispc', definition());\n\nexport {};\n","// Copyright (c) 2021, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\nimport _ from 'underscore';\nimport * as monaco from 'monaco-editor';\nimport { Container } from 'golden-layout';\n\nimport { Pane } from './pane';\nimport { GnatDebugState } from './gnatdebug-view.interfaces';\nimport { BasePaneState } from './pane.interfaces';\n\nimport { ga } from '../analytics';\nimport { extendConfig } from '../monaco-config';\n\nexport class GnatDebug extends Pane<monaco.editor.IStandaloneCodeEditor, GnatDebugState> {\n    constructor(hub: any, container: Container, state: GnatDebugState & BasePaneState) {\n        super(hub, container, state);\n        if (state && state.gnatDebugOutput) {\n            this.showGnatDebugResults(state.gnatDebugOutput);\n        }\n    }\n\n    override getInitialHTML(): string {\n        return $('#gnatdebug').html();\n    }\n\n    override createEditor(editorRoot: HTMLElement): monaco.editor.IStandaloneCodeEditor {\n        return monaco.editor.create(editorRoot, extendConfig({\n            language: 'ada',\n            readOnly: true,\n            glyphMargin: true,\n            lineNumbersMinChars: 3,\n        }));\n    }\n\n    override registerOpeningAnalyticsEvent(): void {\n        ga.proxy('send', {\n            hitType: 'event',\n            eventCategory: 'OpenViewPane',\n            eventAction: 'GnatDebug',\n        });\n    }\n\n    override getPaneName(): string {\n        return `GNAT Debug Viewer ${this.compilerInfo.compilerName}` +\n            `(Editor #${this.compilerInfo.editorId}, ` +\n            `Compiler #${this.compilerInfo.compilerId})`;\n    }\n\n    override registerCallbacks(): void {\n        const throttleFunction = _.throttle((event) => this.onDidChangeCursorSelection(event), 500);\n        this.editor.onDidChangeCursorSelection((event) => throttleFunction(event));\n        this.eventHub.emit('gnatDebugViewOpened', this.compilerInfo.compilerId);\n        this.eventHub.emit('requestSettings');\n    }\n\n    override onCompileResult(compilerId: number, compiler: any, result: any): void {\n        if (this.compilerInfo.compilerId !== compilerId) return;\n        if (result.hasGnatDebugOutput) {\n            this.showGnatDebugResults(result.gnatDebugOutput);\n        } else if (compiler.supportsGnatDebugView) {\n            this.showGnatDebugResults([{text: '<No output>'}]);\n        }\n    }\n\n    override onCompiler(compilerId: number, compiler: any, options: any, editorId: number): void {\n        if (this.compilerInfo.compilerId === compilerId) {\n            this.compilerInfo.compilerName = compiler ? compiler.name : '';\n            this.compilerInfo.editorId = editorId;\n            this.setTitle();\n            if (compiler && !compiler.supportsGnatDebugView) {\n                this.showGnatDebugResults([{text: '<GNAT Debug output is not supported for this compiler>'}]);\n            }\n        }\n    }\n\n    showGnatDebugResults(result: any[]): void {\n        if (!this.editor) return;\n        this.editor.getModel().setValue(result.length\n            ? _.pluck(result, 'text').join('\\n')\n            : '<No GNAT Debug generated>');\n\n        if (!this.isAwaitingInitialResults) {\n            if (this.selection) {\n                this.editor.setSelection(this.selection);\n                this.editor.revealLinesInCenter(this.selection.selectionStartLineNumber,\n                    this.selection.endLineNumber);\n            }\n            this.isAwaitingInitialResults = true;\n        }\n    }\n\n    override close(): void {\n        this.eventHub.unsubscribe();\n        this.eventHub.emit('gnatDebugViewClosed', this.compilerInfo.compilerId);\n        this.editor.dispose();\n    }\n}\n","// Copyright (c) 2016, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar _ = require('underscore');\nvar $ = require('jquery');\nvar colour = require('../colour');\nvar loadSaveLib = require('../load-save');\nvar FontScale = require('../fontscale').FontScale;\nvar Components = require('../components');\nvar monaco = require('monaco-editor');\nvar options = require('../options').options;\nvar Alert = require('../alert').Alert;\nvar ga = require('../analytics').ga;\nvar monacoVim = require('monaco-vim');\nvar monacoConfig = require('../monaco-config');\nvar TomSelect = require('tom-select');\nvar Settings = require('../settings');\nvar utils = require('../utils');\nrequire('../formatter-registry');\nrequire('../modes/_all');\n\nvar loadSave = new loadSaveLib.LoadSave();\nvar languages = options.languages;\n\n// eslint-disable-next-line max-statements\nfunction Editor(hub, state, container) {\n    this.id = state.id || hub.nextEditorId();\n    this.container = container;\n    this.domRoot = container.getElement();\n    this.domRoot.html($('#codeEditor').html());\n    this.hub = hub;\n    this.eventHub = hub.createEventHub();\n    // Should probably be its own function somewhere\n    this.settings = Settings.getStoredSettings();\n    this.ourCompilers = {};\n    this.ourExecutors = {};\n    this.httpRoot = window.httpRoot;\n    this.widgetsByCompiler = {};\n    this.asmByCompiler = {};\n    this.defaultFileByCompiler = {};\n    this.busyCompilers = {};\n    this.colours = [];\n    this.treeCompilers = {};\n\n    this.decorations = {};\n    this.prevDecorations = [];\n    this.extraDecorations = [];\n\n    this.fadeTimeoutId = -1;\n\n    this.editorSourceByLang = {};\n    this.alertSystem = new Alert();\n    this.alertSystem.prefixMessage = 'Editor #' + this.id + ': ';\n\n    this.filename = state.filename || false;\n\n    this.awaitingInitialResults = false;\n    this.selection = state.selection;\n\n    this.revealJumpStack = [];\n\n    this.langKeys = _.keys(languages);\n    this.initLanguage(state);\n\n    var root = this.domRoot.find('.monaco-placeholder');\n    var legacyReadOnly = state.options && !!state.options.readOnly;\n    this.editor = monaco.editor.create(root[0], monacoConfig.extendConfig({\n        language: this.currentLanguage.monaco,\n        readOnly: !!options.readOnly || legacyReadOnly ||\n            (window.compilerExplorerOptions && window.compilerExplorerOptions.mobileViewer),\n        glyphMargin: !options.embedded,\n    }, this.settings));\n    this.editor.getModel().setEOL(monaco.editor.EndOfLineSequence.LF);\n\n    if (state.source !== undefined) {\n        this.setSource(state.source);\n    } else {\n        this.updateEditorCode();\n    }\n\n    var startFolded = /^[/*#;]+\\s*setup.*/;\n    if (state.source && state.source.match(startFolded)) {\n        // With reference to https://github.com/Microsoft/monaco-editor/issues/115\n        // I tried that and it didn't work, but a delay of 500 seems to \"be enough\".\n        // FIXME: Currently not working - No folding is performed\n        setTimeout(_.bind(function () {\n            this.editor.setSelection(new monaco.Selection(1, 1, 1, 1));\n            this.editor.focus();\n            this.editor.getAction('editor.fold').run();\n            //this.editor.clearSelection();\n        }, this), 500);\n    }\n\n    this.initEditorActions();\n    this.initButtons(state);\n    this.initCallbacks();\n\n    if (this.settings.useVim) {\n        this.enableVim();\n    }\n\n    var usableLanguages = _.filter(languages, function (language) {\n        return hub.compilerService.compilersByLang[language.id];\n    });\n\n    this.selectize = new TomSelect(this.languageBtn, {\n        sortField: 'name',\n        valueField: 'id',\n        labelField: 'name',\n        searchField: ['name'],\n        options: _.map(usableLanguages, _.identity),\n        items: [this.currentLanguage.id],\n        dropdownParent: 'body',\n        plugins: ['input_autogrow'],\n        onChange: _.bind(this.onLanguageChange, this),\n    });\n\n\n    // We suppress posting changes until the user has stopped typing by:\n    // * Using _.debounce() to run emitChange on any key event or change\n    //   only after a delay.\n    // * Only actually triggering a change if the document text has changed from\n    //   the previous emitted.\n    this.lastChangeEmitted = null;\n    this.onSettingsChange(this.settings);\n    // this.editor.on(\"keydown\", _.bind(function () {\n    //     // Not strictly a change; but this suppresses changes until some time\n    //     // after the last key down (be it an actual change or a just a cursor\n    //     // movement etc).\n    //     this.debouncedEmitChange();\n    // }, this));\n\n    this.updateTitle();\n    this.updateState();\n    ga.proxy('send', {\n        hitType: 'event',\n        eventCategory: 'OpenViewPane',\n        eventAction: 'Editor',\n    });\n    ga.proxy('send', {\n        hitType: 'event',\n        eventCategory: 'LanguageChange',\n        eventAction: this.currentLanguage.id,\n    });\n}\n\nEditor.prototype.onMotd = function (motd) {\n    this.extraDecorations = motd.decorations;\n    this.updateExtraDecorations();\n};\n\nEditor.prototype.updateExtraDecorations = function () {\n    var decorationsDirty = false;\n    _.each(this.extraDecorations, _.bind(function (decoration) {\n        if (decoration.filter && decoration.filter.indexOf(this.currentLanguage.name.toLowerCase()) < 0) return;\n        var match = this.editor.getModel().findNextMatch(decoration.regex, {\n            column: 1,\n            lineNumber: 1,\n        }, true, true, null, false);\n        if (match !== this.decorations[decoration.name]) {\n            decorationsDirty = true;\n            this.decorations[decoration.name] = match ? [{range: match.range, options: decoration.decoration}] : null;\n        }\n    }, this));\n    if (decorationsDirty)\n        this.updateDecorations();\n};\n\n// If compilerId is undefined, every compiler will be pinged\nEditor.prototype.maybeEmitChange = function (force, compilerId) {\n    var source = this.getSource();\n    if (!force && source === this.lastChangeEmitted) return;\n\n    this.updateExtraDecorations();\n\n    this.lastChangeEmitted = source;\n    this.eventHub.emit('editorChange', this.id, this.lastChangeEmitted, this.currentLanguage.id, compilerId);\n};\n\nEditor.prototype.updateState = function () {\n    var state = {\n        id: this.id,\n        source: this.getSource(),\n        lang: this.currentLanguage.id,\n        selection: this.selection,\n        filename: this.filename,\n    };\n    this.fontScale.addState(state);\n    this.container.setState(state);\n\n    this.updateButtons();\n};\n\nEditor.prototype.setSource = function (newSource) {\n    this.updateSource(newSource);\n\n    if (window.compilerExplorerOptions.mobileViewer) {\n        $(this.domRoot.find('.monaco-placeholder textarea')).hide();\n    }\n};\n\nEditor.prototype.onNewSource = function (editorId, newSource) {\n    if (this.id === editorId) {\n        this.setSource(newSource);\n    }\n};\n\nEditor.prototype.getSource = function () {\n    return this.editor.getModel().getValue();\n};\n\nEditor.prototype.initLanguage = function (state) {\n    this.currentLanguage = languages[this.langKeys[0]];\n    this.waitingForLanguage = state.source && !state.lang;\n    if (languages[this.settings.defaultLanguage]) {\n        this.currentLanguage = languages[this.settings.defaultLanguage];\n    }\n    if (languages[state.lang]) {\n        this.currentLanguage = languages[state.lang];\n    } else if (this.settings.newEditorLastLang && languages[this.hub.lastOpenedLangId]) {\n        this.currentLanguage = languages[this.hub.lastOpenedLangId];\n    }\n};\n\nEditor.prototype.initCallbacks = function () {\n    this.fontScale.on('change', _.bind(this.updateState, this));\n\n    this.container.on('resize', this.resize, this);\n    this.container.on('shown', this.resize, this);\n    this.container.on('open', _.bind(function () {\n        this.eventHub.emit('editorOpen', this.id, this);\n    }, this));\n    this.container.on('destroy', this.close, this);\n    this.container.layoutManager.on('initialised', function () {\n        // Once initialized, let everyone know what text we have.\n        this.maybeEmitChange();\n        // And maybe ask for a compilation (Will hit the cache most of the time)\n        this.requestCompilation();\n    }, this);\n\n    this.eventHub.on('treeCompilerEditorIncludeChange', this.onTreeCompilerEditorIncludeChange, this);\n    this.eventHub.on('treeCompilerEditorExcludeChange', this.onTreeCompilerEditorExcludeChange, this);\n    this.eventHub.on('coloursForEditor', this.onColoursForEditor, this);\n    this.eventHub.on('compilerOpen', this.onCompilerOpen, this);\n    this.eventHub.on('executorOpen', this.onExecutorOpen, this);\n    this.eventHub.on('compilerClose', this.onCompilerClose, this);\n    this.eventHub.on('compiling', this.onCompiling, this);\n    this.eventHub.on('compileResult', this.onCompileResponse, this);\n    this.eventHub.on('selectLine', this.onSelectLine, this);\n    this.eventHub.on('editorSetDecoration', this.onEditorSetDecoration, this);\n    this.eventHub.on('editorLinkLine', this.onEditorLinkLine, this);\n    this.eventHub.on('settingsChange', this.onSettingsChange, this);\n    this.eventHub.on('conformanceViewOpen', this.onConformanceViewOpen, this);\n    this.eventHub.on('conformanceViewClose', this.onConformanceViewClose, this);\n    this.eventHub.on('resize', this.resize, this);\n    this.eventHub.on('newSource', this.onNewSource, this);\n    this.eventHub.on('motd', this.onMotd, this);\n    this.eventHub.on('findEditors', this.sendEditor, this);\n    this.eventHub.emit('requestMotd');\n\n    this.editor.getModel().onDidChangeContent(_.bind(function () {\n        this.debouncedEmitChange();\n        this.updateState();\n    }, this));\n\n    this.mouseMoveThrottledFunction = _.throttle(_.bind(this.onMouseMove, this), 50);\n\n    this.editor.onMouseMove(_.bind(function (e) {\n        this.mouseMoveThrottledFunction(e);\n    }, this));\n\n    if (window.compilerExplorerOptions.mobileViewer) {\n        // workaround for issue with contextmenu not going away when tapping somewhere else on the screen\n        this.editor.onDidChangeCursorSelection(_.bind(function () {\n            var contextmenu = $('div.context-view.monaco-menu-container');\n            if (contextmenu.css('display') !== 'none') {\n                contextmenu.hide();\n            }\n        }, this));\n    }\n\n    this.cursorSelectionThrottledFunction =\n        _.throttle(_.bind(this.onDidChangeCursorSelection, this), 500);\n    this.editor.onDidChangeCursorSelection(_.bind(function (e) {\n        this.cursorSelectionThrottledFunction(e);\n    }, this));\n\n    this.editor.onDidFocusEditorText(_.bind(this.onDidFocusEditorText, this));\n    this.editor.onDidBlurEditorText(_.bind(this.onDidBlurEditorText, this));\n    this.editor.onDidChangeCursorPosition(_.bind(this.onDidChangeCursorPosition,this));\n\n    this.eventHub.on('initialised', this.maybeEmitChange, this);\n\n    $(document).on('keyup.editable', _.bind(function (e) {\n        if (e.target === this.domRoot.find('.monaco-placeholder .inputarea')[0]) {\n            if (e.which === 27) {\n                this.onEscapeKey(e);\n            } else if (e.which === 45) {\n                this.onInsertKey(e);\n            }\n        }\n    }, this));\n};\n\nEditor.prototype.sendEditor = function () {\n    this.eventHub.emit('editorOpen', this.id, this);\n};\n\nEditor.prototype.onMouseMove = function (e) {\n    if (e !== null && e.target !== null && this.settings.hoverShowSource && e.target.position !== null) {\n        var pos = e.target.position;\n        this.tryPanesLinkLine(pos.lineNumber, pos.column, false);\n    }\n};\n\nEditor.prototype.onDidChangeCursorSelection = function (e) {\n    if (this.awaitingInitialResults) {\n        this.selection = e.selection;\n        this.updateState();\n    }\n};\n\nEditor.prototype.onDidChangeCursorPosition = function (e) {\n    if (e.position) {\n        this.currentCursorPosition.text('(' + e.position.lineNumber + ', ' + e.position.column + ')');\n    }\n};\n\nEditor.prototype.onDidFocusEditorText = function () {\n    this.currentCursorPosition.show();\n};\n\nEditor.prototype.onDidBlurEditorText = function () {\n    this.currentCursorPosition.text('');\n    this.currentCursorPosition.hide();\n};\n\nEditor.prototype.onEscapeKey = function () {\n    if (this.editor.vimInUse) {\n        var currentState = monacoVim.VimMode.Vim.maybeInitVimState_(this.vimMode);\n        if (currentState.insertMode) {\n            monacoVim.VimMode.Vim.exitInsertMode(this.vimMode);\n        } else if (currentState.visualMode) {\n            monacoVim.VimMode.Vim.exitVisualMode(this.vimMode, false);\n        }\n    }\n};\n\nEditor.prototype.onInsertKey = function (event) {\n    if (this.editor.vimInUse) {\n        var currentState = monacoVim.VimMode.Vim.maybeInitVimState_(this.vimMode);\n        if (!currentState.insertMode) {\n            var insertEvent = {\n                preventDefault: event.preventDefault,\n                stopPropagation: event.stopPropagation,\n                browserEvent: {\n                    key: 'i',\n                    defaultPrevented: false,\n                },\n                keyCode: 39,\n            };\n            this.vimMode.handleKeyDown(insertEvent);\n        }\n    }\n};\n\nEditor.prototype.enableVim = function () {\n    this.vimMode = monacoVim.initVimMode(this.editor, this.domRoot.find('#v-status')[0]);\n    this.vimFlag.prop('class', 'btn btn-info');\n    this.editor.vimInUse = true;\n};\n\nEditor.prototype.disableVim = function () {\n    this.vimMode.dispose();\n    this.domRoot.find('#v-status').html('');\n    this.vimFlag.prop('class', 'btn btn-light');\n    this.editor.vimInUse = false;\n};\n\nEditor.prototype.initButtons = function (state) {\n    this.fontScale = new FontScale(this.domRoot, state, this.editor);\n    this.languageBtn = this.domRoot.find('.change-language');\n    // Ensure that the button is disabled if we don't have nothing to select\n    // Note that is might be disabled for other reasons beforehand\n    if (this.langKeys.length <= 1) {\n        this.languageBtn.prop('disabled', true);\n    }\n    this.topBar = this.domRoot.find('.top-bar');\n    this.hideable = this.domRoot.find('.hideable');\n\n    this.loadSaveButton = this.domRoot.find('.load-save');\n    var paneAdderDropdown = this.domRoot.find('.add-pane');\n    var addCompilerButton = this.domRoot.find('.btn.add-compiler');\n    this.addExecutorButton = this.domRoot.find('.btn.add-executor');\n    this.conformanceViewerButton = this.domRoot.find('.btn.conformance');\n    var addEditorButton = this.domRoot.find('.btn.add-editor');\n    var toggleVimButton = this.domRoot.find('#vim-flag');\n    this.vimFlag = this.domRoot.find('#vim-flag');\n    toggleVimButton.on('click', _.bind(function () {\n        if (this.editor.vimInUse) {\n            this.disableVim();\n        } else {\n            this.enableVim();\n        }\n    }, this));\n\n    // NB a new compilerConfig needs to be created every time; else the state is shared\n    // between all compilers created this way. That leads to some nasty-to-find state\n    // bugs e.g. https://github.com/compiler-explorer/compiler-explorer/issues/225\n    var getCompilerConfig = _.bind(function () {\n        return Components.getCompiler(this.id, this.currentLanguage.id);\n    }, this);\n\n    var getExecutorConfig = _.bind(function () {\n        return Components.getExecutor(this.id, this.currentLanguage.id);\n    }, this);\n\n    var getConformanceConfig = _.bind(function () {\n        return Components.getConformanceView(this.id, this.getSource(), this.currentLanguage.id);\n    }, this);\n\n    var getEditorConfig = _.bind(function () {\n        return Components.getEditor();\n    }, this);\n\n    var addPaneOpener = _.bind(function (dragSource, dragConfig) {\n        this.container.layoutManager\n            .createDragSource(dragSource, dragConfig)\n            ._dragListener.on('dragStart', function () {\n                paneAdderDropdown.dropdown('toggle');\n            });\n\n        dragSource.on('click', _.bind(function () {\n            var insertPoint = this.hub.findParentRowOrColumn(this.container) ||\n                this.container.layoutManager.root.contentItems[0];\n            insertPoint.addChild(dragConfig);\n        }, this));\n    }, this);\n\n    addPaneOpener(addCompilerButton, getCompilerConfig);\n    addPaneOpener(this.addExecutorButton, getExecutorConfig);\n    addPaneOpener(this.conformanceViewerButton, getConformanceConfig);\n    addPaneOpener(addEditorButton, getEditorConfig);\n\n    this.initLoadSaver();\n    $(this.domRoot).on('keydown', _.bind(function (event) {\n        if ((event.ctrlKey || event.metaKey) && String.fromCharCode(event.which).toLowerCase() === 's') {\n            event.preventDefault();\n            if (this.settings.enableCtrlStree && this.hub.hasTree()) {\n                var trees = this.hub.trees;\n                // todo: change when multiple trees are used\n                if (trees && trees.length > 0) {\n                    trees[0].multifileService.includeByEditorId(this.id).then(_.bind(function () {\n                        trees[0].refresh();\n                    }, this));\n                }\n            } else if (this.settings.enableCtrlS) {\n                loadSave.setMinimalOptions(this.getSource(), this.currentLanguage);\n                if (!loadSave.onSaveToFile(this.id)) {\n                    this.showLoadSaver();\n                }\n            } else {\n                this.eventHub.emit('displaySharingPopover');\n            }\n        }\n    }, this));\n\n    if (options.thirdPartyIntegrationEnabled) {\n        this.cppInsightsButton = this.domRoot.find('.open-in-cppinsights');\n        this.cppInsightsButton.on('mousedown', _.bind(function () {\n            this.updateOpenInCppInsights();\n        }, this));\n\n        this.quickBenchButton = this.domRoot.find('.open-in-quickbench');\n        this.quickBenchButton.on('mousedown', _.bind(function () {\n            this.updateOpenInQuickBench();\n        }, this));\n    }\n\n    this.currentCursorPosition = this.domRoot.find('.currentCursorPosition');\n    this.currentCursorPosition.hide();\n};\n\nEditor.prototype.updateButtons = function () {\n    if (options.thirdPartyIntegrationEnabled) {\n        if (this.currentLanguage.id === 'c++') {\n            this.cppInsightsButton.show();\n            this.quickBenchButton.show();\n        } else {\n            this.cppInsightsButton.hide();\n            this.quickBenchButton.hide();\n        }\n    }\n\n    this.addExecutorButton.prop('disabled', !this.currentLanguage.supportsExecute);\n};\n\nEditor.prototype.b64UTFEncode = function (str) {\n    return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g, function (match, v) {\n        return String.fromCharCode(parseInt(v, 16));\n    }));\n};\n\nEditor.prototype.asciiEncodeJsonText = function (json) {\n    return json.replace(/[\\u007F-\\uFFFF]/g, function (chr) {\n        // json unicode escapes must always be 4 characters long, so pad with leading zeros\n        return '\\\\u' + ('0000' + chr.charCodeAt(0).toString(16)).substr(-4);\n    });\n};\n\nEditor.prototype.getCompilerStates = function () {\n    var states = [];\n\n    _.each(this.ourCompilers, _.bind(function (val, compilerIdStr) {\n        var compilerId = parseInt(compilerIdStr);\n\n        var glCompiler = _.find(this.container.layoutManager.root.getComponentsByName('compiler'), function (c) {\n            return c.id === compilerId;\n        });\n\n        if (glCompiler) {\n            var state = glCompiler.currentState();\n            states.push(state);\n        }\n    }, this));\n\n    return states;\n};\n\nEditor.prototype.updateOpenInCppInsights = function () {\n    if (options.thirdPartyIntegrationEnabled) {\n        var cppStd = 'cpp2a';\n\n        var compilers = this.getCompilerStates();\n        _.each(compilers, _.bind(function (compiler) {\n            if ((compiler.options.indexOf('-std=c++11') !== -1) ||\n                (compiler.options.indexOf('-std=gnu++11') !== -1)) {\n                cppStd = 'cpp11';\n            } else if ((compiler.options.indexOf('-std=c++14') !== -1) ||\n                (compiler.options.indexOf('-std=gnu++14') !== -1)) {\n                cppStd = 'cpp14';\n            } else if ((compiler.options.indexOf('-std=c++17') !== -1) ||\n                (compiler.options.indexOf('-std=gnu++17') !== -1)) {\n                cppStd = 'cpp17';\n            } else if ((compiler.options.indexOf('-std=c++2a') !== -1) ||\n                (compiler.options.indexOf('-std=gnu++2a') !== -1)) {\n                cppStd = 'cpp2a';\n            } else if (compiler.options.indexOf('-std=c++98') !== -1) {\n                cppStd = 'cpp98';\n            }\n        }, this));\n\n        var link = 'https://cppinsights.io/lnk?code='\n            + this.b64UTFEncode(this.getSource()) + '&std=' + cppStd + '&rev=1.0';\n\n        this.cppInsightsButton.attr('href', link);\n    }\n};\n\nEditor.prototype.cleanupSemVer = function (semver) {\n    if (semver) {\n        var semverStr = semver.toString();\n        if ((semverStr !== '') && (semverStr.indexOf('(') === -1)) {\n            var vercomps = semverStr.split('.');\n            return vercomps[0] + '.' + (vercomps[1] ? vercomps[1] : '0');\n        }\n    }\n\n    return false;\n};\n\nEditor.prototype.updateOpenInQuickBench = function () {\n    if (options.thirdPartyIntegrationEnabled) {\n        var quickBenchState = {\n            text: this.getSource(),\n        };\n\n        var compilers = this.getCompilerStates();\n\n        _.each(compilers, _.bind(function (compiler) {\n            var knownCompiler = false;\n\n            var compilerExtInfo = this.hub.compilerService.findCompiler(this.currentLanguage.id, compiler.compiler);\n            var semver = this.cleanupSemVer(compilerExtInfo.semver);\n            var groupOrName =\n                compilerExtInfo.baseName ? compilerExtInfo.baseName :\n                    compilerExtInfo.groupName ? compilerExtInfo.groupName : compilerExtInfo.name;\n\n            if (semver && groupOrName) {\n                groupOrName = groupOrName.toLowerCase();\n                if (groupOrName.indexOf('gcc') !== -1) {\n                    quickBenchState.compiler = 'gcc-' + semver;\n                    knownCompiler = true;\n                } else if (groupOrName.indexOf('clang') !== -1) {\n                    quickBenchState.compiler = 'clang-' + semver;\n                    knownCompiler = true;\n                }\n            }\n\n            if (knownCompiler) {\n                var match = compiler.options.match(/-(O([0-3sg]|fast))/);\n                if (match !== null) {\n                    if (match[2] === 'fast') {\n                        quickBenchState.optim = 'F';\n                    } else {\n                        quickBenchState.optim = match[2].toUpperCase();\n                    }\n                }\n\n                if ((compiler.options.indexOf('-std=c++11') !== -1) ||\n                    (compiler.options.indexOf('-std=gnu++11') !== -1)) {\n                    quickBenchState.cppVersion = '11';\n                } else if ((compiler.options.indexOf('-std=c++14') !== -1) ||\n                    (compiler.options.indexOf('-std=gnu++14') !== -1)) {\n                    quickBenchState.cppVersion = '14';\n                } else if ((compiler.options.indexOf('-std=c++17') !== -1) ||\n                    (compiler.options.indexOf('-std=gnu++17') !== -1)) {\n                    quickBenchState.cppVersion = '17';\n                } else if ((compiler.options.indexOf('-std=c++2a') !== -1) ||\n                    (compiler.options.indexOf('-std=gnu++2a') !== -1)) {\n                    quickBenchState.cppVersion = '20';\n                }\n\n                if ((compiler.options.indexOf('-stdlib=libc++') !== -1)) {\n                    quickBenchState.lib = 'llvm';\n                }\n            }\n        }, this));\n\n        var link = 'http://quick-bench.com/#' + btoa(this.asciiEncodeJsonText(JSON.stringify(quickBenchState)));\n        this.quickBenchButton.attr('href', link);\n    }\n};\n\nEditor.prototype.changeLanguage = function (newLang) {\n    if (newLang === 'cmake') {\n        this.selectize.addOption(languages.cmake);\n    }\n    this.selectize.setValue(newLang);\n};\n\nEditor.prototype.clearLinkedLine = function () {\n    this.decorations.linkedCode = [];\n    this.updateDecorations();\n};\n\nEditor.prototype.tryPanesLinkLine = function (thisLineNumber, column, reveal) {\n    var selectedToken = this.getTokenSpan(thisLineNumber, column);\n    _.each(this.asmByCompiler, _.bind(function (asms, compilerId) {\n        this.eventHub.emit('panesLinkLine', compilerId, thisLineNumber,\n            selectedToken.colBegin, selectedToken.colEnd, reveal, undefined, this.id);\n    }, this));\n};\n\nEditor.prototype.requestCompilation = function () {\n    this.eventHub.emit('requestCompilation', this.id);\n\n    _.each(this.hub.trees, _.bind(function (tree) {\n        if (tree.multifileService.isEditorPartOfProject(this.id)) {\n            this.eventHub.emit('requestCompilation', this.id, tree.id);\n        }\n    }, this));\n};\n\nEditor.prototype.initEditorActions = function () {\n    this.editor.addAction({\n        id: 'compile',\n        label: 'Compile',\n        keybindings: [monaco.KeyMod.CtrlCmd | monaco.KeyCode.Enter],\n        keybindingContext: null,\n        contextMenuGroupId: 'navigation',\n        contextMenuOrder: 1.5,\n        run: _.bind(function () {\n            // This change request is mostly superfluous\n            this.maybeEmitChange();\n            this.requestCompilation();\n        }, this),\n    });\n\n    this.revealJumpStackHasElementsCtxKey = this.editor.createContextKey('hasRevealJumpStackElements', false);\n\n    this.editor.addAction({\n        id: 'returnfromreveal',\n        label: 'Return from reveal jump',\n        keybindings: [monaco.KeyMod.CtrlCmd | monaco.KeyMod.Shift | monaco.KeyCode.Enter],\n        contextMenuGroupId: 'navigation',\n        contextMenuOrder: 1.4,\n        precondition: 'hasRevealJumpStackElements',\n        run: _.bind(function () {\n            this.popAndRevealJump();\n        }, this),\n    });\n\n    this.editor.addAction({\n        id: 'toggleCompileOnChange',\n        label: 'Toggle compile on change',\n        keybindings: [monaco.KeyMod.CtrlCmd | monaco.KeyMod.Shift | monaco.KeyCode.Enter],\n        keybindingContext: null,\n        run: _.bind(function () {\n            this.eventHub.emit('modifySettings', {\n                compileOnChange: !this.settings.compileOnChange,\n            });\n            this.alertSystem\n                .notify('Compile on change has been toggled ' + (this.settings.compileOnChange ? 'ON' : 'OFF'), {\n                    group: 'togglecompile',\n                    alertClass: this.settings.compileOnChange ? 'notification-on' : 'notification-off',\n                    dismissTime: 3000,\n                });\n        }, this),\n    });\n\n    this.editor.addAction({\n        id: 'toggleColourisation',\n        label: 'Toggle colourisation',\n        keybindings: [monaco.KeyMod.CtrlCmd | monaco.KeyMod.Shift | monaco.KeyCode.F1],\n        keybindingContext: null,\n        run: _.bind(function () {\n            this.eventHub.emit('modifySettings', {\n                colouriseAsm: !this.settings.colouriseAsm,\n            });\n        }, this),\n    });\n\n    this.editor.addAction({\n        id: 'viewasm',\n        label: 'Reveal linked code',\n        keybindings: [monaco.KeyMod.CtrlCmd | monaco.KeyCode.F10],\n        keybindingContext: null,\n        contextMenuGroupId: 'navigation',\n        contextMenuOrder: 1.5,\n        run: _.bind(function (ed) {\n            var pos = ed.getPosition();\n            this.tryPanesLinkLine(pos.lineNumber, pos.column, true);\n        }, this),\n    });\n\n    this.isCpp = this.editor.createContextKey('isCpp', true);\n    this.isCpp.set(this.currentLanguage.id === 'c++');\n\n    this.isClean = this.editor.createContextKey('isClean', true);\n    this.isClean.set(this.currentLanguage.id === 'clean');\n\n    this.editor.addAction({\n        id: 'cpprefsearch',\n        label: 'Search on Cppreference',\n        keybindings: [monaco.KeyMod.CtrlCmd | monaco.KeyCode.F8],\n        keybindingContext: null,\n        contextMenuGroupId: 'help',\n        contextMenuOrder: 1.5,\n        precondition: 'isCpp',\n        run: _.bind(this.searchOnCppreference, this),\n    });\n\n    this.editor.addAction({\n        id: 'clooglesearch',\n        label: 'Search on Cloogle',\n        keybindings: [monaco.KeyMod.CtrlCmd | monaco.KeyCode.F8],\n        keybindingContext: null,\n        contextMenuGroupId: 'help',\n        contextMenuOrder: 1.5,\n        precondition: 'isClean',\n        run: _.bind(this.searchOnCloogle, this),\n    });\n\n    this.editor.addCommand(monaco.KeyMod.CtrlCmd | monaco.KeyCode.F9, _.bind(function () {\n        this.editor.getAction('editor.action.formatDocument').run();\n    }, this));\n\n    this.editor.addCommand(monaco.KeyMod.CtrlCmd | monaco.KeyCode.KEY_D, _.bind(function () {\n        this.editor.getAction('editor.action.duplicateSelection').run();\n    }, this));\n};\n\nEditor.prototype.searchOnCppreference = function (ed) {\n    var pos = ed.getPosition();\n    var word = ed.getModel().getWordAtPosition(pos);\n    if (!word || !word.word) return;\n    var preferredLanguage = this.getPreferredLanguageTag();\n    // This list comes from the footer of the page\n    var cpprefLangs = ['ar', 'cs', 'de', 'en', 'es', 'fr', 'it', 'ja', 'ko', 'pl', 'pt', 'ru', 'tr', 'zh'];\n    // If navigator.languages is supported, we could be a bit more clever and look for a match there too\n    var langTag = 'en';\n    if (cpprefLangs.indexOf(preferredLanguage) !== -1) {\n        langTag = preferredLanguage;\n    }\n    var url = 'https://' +\n        langTag +\n        '.cppreference.com/mwiki/index.php?search=' +\n        encodeURIComponent(word.word);\n    window.open(url, '_blank', 'noopener');\n};\n\nEditor.prototype.searchOnCloogle = function (ed) {\n    var pos = ed.getPosition();\n    var word = ed.getModel().getWordAtPosition(pos);\n    if (!word || !word.word) return;\n    var url = 'https://cloogle.org/#' + encodeURIComponent(word.word);\n    window.open(url, '_blank', 'noopener');\n};\n\nEditor.prototype.getPreferredLanguageTag = function () {\n    var result = 'en';\n    var lang = 'en';\n    if (navigator) {\n        if (navigator.languages && navigator.languages.length) {\n            lang = navigator.languages[0];\n        } else if (navigator.language) {\n            lang = navigator.language;\n        }\n    }\n    // navigator.language[s] is supposed to return strings, but hey, you never know\n    if (lang !== result && _.isString(lang)) {\n        var primaryLanguageSubtagIdx = lang.indexOf('-');\n        result = lang.substr(0, primaryLanguageSubtagIdx).toLowerCase();\n    }\n    return result;\n};\n\nEditor.prototype.doesMatchEditor = function (otherSource) {\n    return otherSource === this.getSource();\n};\n\nEditor.prototype.confirmOverwrite = function (yes) {\n    this.alertSystem.ask('Changes were made to the code',\n        'Changes were made to the code while it was being processed. Overwrite changes?',\n        {yes: yes, no: null});\n};\n\nEditor.prototype.updateSource = function (newSource) {\n    // Create something that looks like an edit operation for the whole text\n    var operation = {\n        range: this.editor.getModel().getFullModelRange(),\n        forceMoveMarkers: true,\n        text: newSource,\n    };\n    var nullFn = function () {\n        return null;\n    };\n    var viewState = this.editor.saveViewState();\n    // Add a undo stop so we don't go back further than expected\n    this.editor.pushUndoStop();\n    // Apply de edit. Note that we lose cursor position, but I've not found a better alternative yet\n    this.editor.getModel().pushEditOperations(viewState.cursorState, [operation], nullFn);\n    this.numberUsedLines();\n\n    if (!this.awaitingInitialResults) {\n        if (this.selection) {\n            /*\n             * this setTimeout is a really crap workaround to fix #2150\n             * the TL;DR; is that we reach this point *before* GL has laid\n             * out the window, so we have no height\n             *\n             * If we revealLinesInCenter at this point the editor \"does the right thing\"\n             * and scrolls itself all the way to the line we requested.\n             *\n             * Unfortunately the editor thinks it is very small, so the \"center\"\n             * is the first line, and when the editor does resize eventually things are off.\n             *\n             * The workaround is to just delay things \"long enough\"\n             *\n             * This is bad and I feel bad.\n             */\n            setTimeout(_.bind(function () {\n                this.editor.setSelection(this.selection);\n                this.editor.revealLinesInCenter(this.selection.startLineNumber,\n                    this.selection.endLineNumber);\n            }, this), 500);\n        }\n        this.awaitingInitialResults = true;\n    }\n};\n\nEditor.prototype.formatCurrentText = function () {\n    var previousSource = this.getSource();\n    var lang = this.currentLanguage;\n\n    if (!Object.prototype.hasOwnProperty.call(lang, 'formatter')) {\n        return this.alertSystem.notify('This language does not support in-editor formatting' , {\n            group: 'formatting',\n            alertClass: 'notification-error',\n        });\n    }\n\n    $.ajax({\n        type: 'POST',\n        url: window.location.origin + this.httpRoot + 'api/format/' + lang.formatter,\n        dataType: 'json',  // Expected\n        contentType: 'application/json',  // Sent\n        data: JSON.stringify({\n            source: previousSource,\n            base: this.settings.formatBase,\n        }),\n        success: _.bind(function (result) {\n            if (result.exit === 0) {\n                if (this.doesMatchEditor(previousSource)) {\n                    this.updateSource(result.answer);\n                } else {\n                    this.confirmOverwrite(_.bind(function () {\n                        this.updateSource(result.answer);\n                    }, this), null);\n                }\n            } else {\n                // Ops, the formatter itself failed!\n                this.alertSystem.notify('We encountered an error formatting your code: ' + result.answer, {\n                    group: 'formatting',\n                    alertClass: 'notification-error',\n                });\n            }\n        }, this),\n        error: _.bind(function (xhr, e_status, error) {\n            // Hopefully we have not exploded!\n            if (xhr.responseText) {\n                try {\n                    var res = JSON.parse(xhr.responseText);\n                    error = res.answer || error;\n                } catch (e) {\n                    // continue regardless of error\n                }\n            }\n            error = error || 'Unknown error';\n            this.alertSystem.notify('We ran into some issues while formatting your code: ' + error, {\n                group: 'formatting',\n                alertClass: 'notification-error',\n            });\n        }, this),\n        cache: true,\n    });\n};\n\nEditor.prototype.resize = function () {\n    var topBarHeight = utils.updateAndCalcTopBarHeight(this.domRoot, this.topBar, this.hideable);\n\n    this.editor.layout({\n        width: this.domRoot.width(),\n        height: this.domRoot.height() - topBarHeight,\n    });\n\n    // Only update the options if needed\n    if (this.settings.wordWrap) {\n        this.editor.updateOptions({\n            wordWrapColumn: this.editor.getLayoutInfo().viewportColumn,\n        });\n    }\n};\n\nEditor.prototype.onSettingsChange = function (newSettings) {\n    var before = this.settings;\n    var after = newSettings;\n    this.settings = _.clone(newSettings);\n\n    this.editor.updateOptions({\n        autoIndent: this.settings.autoIndent ? 'advanced' : 'none',\n        autoClosingBrackets: this.settings.autoCloseBrackets,\n        useVim: this.settings.useVim,\n        quickSuggestions: this.settings.showQuickSuggestions,\n        contextmenu: this.settings.useCustomContextMenu,\n        minimap: {\n            enabled: this.settings.showMinimap && !options.embedded,\n        },\n        fontFamily: this.settings.editorsFFont,\n        fontLigatures: this.settings.editorsFLigatures,\n        wordWrap: this.settings.wordWrap ? 'bounded' : 'off',\n        wordWrapColumn: this.editor.getLayoutInfo().viewportColumn, // Ensure the column count is up to date\n    });\n\n    // Unconditionally send editor changes. The compiler only compiles when needed\n    this.debouncedEmitChange = _.debounce(_.bind(function () {\n        this.maybeEmitChange();\n    }, this), after.delayAfterChange);\n\n    if (before.hoverShowSource && !after.hoverShowSource) {\n        this.onEditorSetDecoration(this.id, -1, false);\n    }\n\n    if (after.useVim && !before.useVim) {\n        this.enableVim();\n    } else if (!after.useVim && before.useVim) {\n        this.disableVim();\n    }\n\n    if (this.editor.getModel()) {\n        this.editor.getModel().updateOptions({\n            tabSize: this.settings.tabWidth,\n            insertSpaces: this.settings.useSpaces,\n        });\n    }\n\n    this.numberUsedLines();\n};\n\nEditor.prototype.numberUsedLines = function () {\n    if (_.any(this.busyCompilers)) return;\n\n    if (!this.settings.colouriseAsm) {\n        this.updateColours([]);\n        return;\n    }\n\n    if (this.hub.hasTree()) {\n        return;\n    }\n\n    var result = {};\n    // First, note all lines used.\n    _.each(this.asmByCompiler, _.bind(function (asm, compilerId) {\n        _.each(asm, _.bind(function (asmLine) {\n            var foundInTrees = false;\n\n            _.each(this.treeCompilers, _.bind(function (compilerIds, treeId) {\n                if (compilerIds[compilerId]) {\n                    var tree = this.hub.getTreeById(Number(treeId));\n                    if (tree) {\n                        var defaultFile = this.defaultFileByCompiler[compilerId];\n                        foundInTrees = true;\n\n                        if (asmLine.source && asmLine.source.line > 0) {\n                            var sourcefilename = asmLine.source.file ? asmLine.source.file : defaultFile;\n                            if (this.id === tree.multifileService.getEditorIdByFilename(sourcefilename)) {\n                                result[asmLine.source.line - 1] = true;\n                            }\n                        }\n                    }\n                }\n            }, this));\n\n            if (!foundInTrees) {\n                if (asmLine.source &&\n                    (asmLine.source.file === null || asmLine.source.mainsource) &&\n                    asmLine.source.line > 0) {\n                    result[asmLine.source.line - 1] = true;\n                }\n            }\n        }, this));\n    }, this));\n    // Now assign an ordinal to each used line.\n    var ordinal = 0;\n    _.each(result, function (v, k) {\n        result[k] = ordinal++;\n    });\n\n    this.updateColours(result);\n};\n\nEditor.prototype.updateColours = function (colours) {\n    this.colours = colour.applyColours(this.editor, colours, this.settings.colourScheme, this.colours);\n    this.eventHub.emit('colours', this.id, colours, this.settings.colourScheme);\n};\n\nEditor.prototype.onCompilerOpen = function (compilerId, editorId, treeId) {\n    if (editorId === this.id) {\n        // On any compiler open, rebroadcast our state in case they need to know it.\n        if (this.waitingForLanguage) {\n            var glCompiler = _.find(this.container.layoutManager.root.getComponentsByName('compiler'), function (c) {\n                return c.id === compilerId;\n            });\n            if (glCompiler) {\n                var selected = _.find(options.compilers, function (compiler) {\n                    return compiler.id === glCompiler.originalCompilerId;\n                });\n                if (selected) {\n                    this.changeLanguage(selected.lang);\n                }\n            }\n        }\n\n        if (treeId > 0) {\n            if (!this.treeCompilers[treeId]) {\n                this.treeCompilers[treeId] = {};\n            }\n            this.treeCompilers[treeId][compilerId] = true;\n        }\n        this.ourCompilers[compilerId] = true;\n\n        if (!treeId) {\n            this.maybeEmitChange(true, compilerId);\n        }\n    }\n};\n\nEditor.prototype.onTreeCompilerEditorIncludeChange = function (treeId, editorId, compilerId) {\n    if (this.id === editorId) {\n        this.onCompilerOpen(compilerId, editorId, treeId);\n    }\n};\n\nEditor.prototype.onTreeCompilerEditorExcludeChange = function (treeId, editorId, compilerId) {\n    if (this.id === editorId) {\n        this.onCompilerClose(compilerId);\n    }\n};\n\nEditor.prototype.onColoursForEditor = function (editorId, colours, scheme) {\n    if (this.id === editorId) {\n        this.colours = colour.applyColours(this.editor, colours, scheme, this.colours);\n    }\n};\n\nEditor.prototype.onExecutorOpen = function (executorId, editorId) {\n    if (editorId === this.id) {\n        this.maybeEmitChange(true);\n        this.ourExecutors[executorId] = true;\n    }\n};\n\nEditor.prototype.onCompilerClose = function (compilerId, unused, treeId) {\n    if (this.treeCompilers[treeId]) {\n        delete this.treeCompilers[treeId][compilerId];\n    }\n\n    if (this.ourCompilers[compilerId]) {\n        monaco.editor.setModelMarkers(this.editor.getModel(), compilerId, []);\n        delete this.widgetsByCompiler[compilerId];\n        delete this.asmByCompiler[compilerId];\n        delete this.busyCompilers[compilerId];\n        delete this.ourCompilers[compilerId];\n        delete this.defaultFileByCompiler[compilerId];\n        this.numberUsedLines();\n    }\n};\n\nEditor.prototype.onExecutorClose = function (id) {\n    if (this.ourExecutors[id]) {\n        delete this.ourExecutors[id];\n    }\n};\n\nEditor.prototype.onCompiling = function (compilerId) {\n    if (!this.ourCompilers[compilerId]) return;\n    this.busyCompilers[compilerId] = true;\n};\n\nEditor.prototype.getAllOutputAndErrors = function (result) {\n    var all = (result.stdout || []);\n    if (result.buildsteps) {\n        _.each(result.buildsteps, function (step) {\n            all = all.concat(step.stdout);\n        });\n\n        _.each(result.buildsteps, function (step) {\n            all = all.concat(step.stderr);\n        });\n    }\n    all = all.concat(result.stderr || []);\n\n    return all;\n};\n\nEditor.prototype.onCompileResponse = function (compilerId, compiler, result) {\n    if (!this.ourCompilers[compilerId]) return;\n\n    this.busyCompilers[compilerId] = false;\n    var output = this.getAllOutputAndErrors(result);\n    var widgets = _.compact(_.map(output, function (obj) {\n        if (!obj.tag) return;\n\n        var trees = this.hub.trees;\n        if (trees && trees.length > 0) {\n            if (obj.tag.file) {\n                if (this.id !== trees[0].multifileService.getEditorIdByFilename(obj.tag.file)) {\n                    return;\n                }\n            } else {\n                if (this.id !== trees[0].multifileService.getMainSourceEditorId()) {\n                    return;\n                }\n            }\n        }\n\n        var severity = 3; // error\n        if (obj.tag.text.match(/^warning/)) severity = 2;\n        if (obj.tag.text.match(/^note/)) severity = 1;\n        var colBegin = 0;\n        var colEnd = Infinity;\n        if (obj.tag.column) {\n            var span = this.getTokenSpan(obj.tag.line, obj.tag.column);\n            colBegin = obj.tag.column;\n            if (span.colEnd === obj.tag.column) colEnd = -1;\n            else colEnd = span.colEnd + 1;\n        }\n        return {\n            severity: severity,\n            message: obj.tag.text,\n            source: compiler.name + ' #' + compilerId,\n            startLineNumber: obj.tag.line,\n            startColumn: colBegin,\n            endLineNumber: obj.tag.line,\n            endColumn: colEnd,\n        };\n    }, this));\n    monaco.editor.setModelMarkers(this.editor.getModel(), compilerId, widgets);\n    this.decorations.tags = _.map(widgets, function (tag) {\n        return {\n            range: new monaco.Range(tag.startLineNumber, tag.startColumn, tag.startLineNumber + 1, 1),\n            options: {\n                isWholeLine: false,\n                inlineClassName: 'error-code',\n            },\n        };\n    }, this);\n    this.updateDecorations();\n\n    if (result.result && result.result.asm) {\n        this.asmByCompiler[compilerId] = result.result.asm;\n    } else {\n        this.asmByCompiler[compilerId] = result.asm;\n    }\n\n    if (result.inputFilename) {\n        this.defaultFileByCompiler[compilerId] = result.inputFilename;\n    } else {\n        this.defaultFileByCompiler[compilerId] = 'example' + this.currentLanguage.extensions[0];\n    }\n\n    this.numberUsedLines();\n};\n\nEditor.prototype.onSelectLine = function (id, lineNum) {\n    if (Number(id) === this.id) {\n        this.editor.setSelection({line: lineNum - 1, ch: 0}, {line: lineNum, ch: 0});\n    }\n};\n\n// Returns a half-segment [a, b) for the token on the line lineNum\n// that spans across the column.\n// a - colStart points to the first character of the token\n// b - colEnd points to the character immediately following the token\n// e.g.: \"this->callableMethod ( x, y );\"\n//              ^a   ^column  ^b\nEditor.prototype.getTokenSpan = function (lineNum, column) {\n    var model = this.editor.getModel();\n    if (lineNum <= model.getLineCount()) {\n        var line = model.getLineContent(lineNum);\n        if (0 < column && column < line.length) {\n            var tokens = monaco.editor.tokenize(line, model.getModeId());\n            if (tokens.length > 0) {\n                var lastOffset = 0;\n                var lastWasString = false;\n                for (var i = 0; i < tokens[0].length; ++i) {\n                    // Treat all the contiguous string tokens as one,\n                    // For example \"hello \\\" world\" is treated as one token\n                    // instead of 3 \"string.cpp\", \"string.escape.cpp\", \"string.cpp\"\n                    if (tokens[0][i].type.startsWith('string')) {\n                        if (lastWasString) {\n                            continue;\n                        }\n                        lastWasString = true;\n                    } else {\n                        lastWasString = false;\n                    }\n                    var currentOffset = tokens[0][i].offset;\n                    if (column <= currentOffset) {\n                        return {colBegin: lastOffset, colEnd: currentOffset};\n                    } else {\n                        lastOffset = currentOffset;\n                    }\n                }\n                return {colBegin: lastOffset, colEnd: line.length};\n            }\n        }\n    }\n    return {colBegin: column, colEnd: column + 1};\n};\n\nEditor.prototype.pushRevealJump = function () {\n    this.revealJumpStack.push(this.editor.saveViewState());\n    this.revealJumpStackHasElementsCtxKey.set(true);\n};\n\nEditor.prototype.popAndRevealJump = function () {\n    if (this.revealJumpStack.length > 0) {\n        this.editor.restoreViewState(this.revealJumpStack.pop());\n        this.revealJumpStackHasElementsCtxKey.set(this.revealJumpStack.length > 0);\n    }\n};\n\nEditor.prototype.onEditorLinkLine = function (editorId, lineNum, columnBegin, columnEnd, reveal) {\n    if (Number(editorId) === this.id) {\n        if (reveal && lineNum) {\n            this.pushRevealJump();\n            this.editor.revealLineInCenter(lineNum);\n        }\n        this.decorations.linkedCode = lineNum === -1 || !lineNum ? [] : [{\n            range: new monaco.Range(lineNum, 1, lineNum, 1),\n            options: {\n                isWholeLine: true,\n                linesDecorationsClassName: 'linked-code-decoration-margin',\n                className: 'linked-code-decoration-line',\n            },\n        }];\n\n        if (lineNum > 0 && columnBegin !== -1) {\n            var lastTokenSpan = this.getTokenSpan(lineNum, columnEnd);\n            this.decorations.linkedCode.push({\n                range: new monaco.Range(lineNum, columnBegin, lineNum, lastTokenSpan.colEnd + 1),\n                options: {\n                    isWholeLine: false,\n                    inlineClassName: 'linked-code-decoration-column',\n                },\n            });\n        }\n\n        if (this.fadeTimeoutId !== -1) {\n            clearTimeout(this.fadeTimeoutId);\n        }\n        this.fadeTimeoutId = setTimeout(_.bind(function () {\n            this.clearLinkedLine();\n            this.fadeTimeoutId = -1;\n        }, this), 5000);\n\n        this.updateDecorations();\n    }\n};\n\nEditor.prototype.onEditorSetDecoration = function (id, lineNum, reveal) {\n    if (Number(id) === this.id) {\n        if (reveal && lineNum) {\n            this.pushRevealJump();\n            this.editor.revealLineInCenter(lineNum);\n        }\n        this.decorations.linkedCode = lineNum === -1 || !lineNum ? [] : [{\n            range: new monaco.Range(lineNum, 1, lineNum, 1),\n            options: {\n                isWholeLine: true,\n                linesDecorationsClassName: 'linked-code-decoration-margin',\n                inlineClassName: 'linked-code-decoration-inline',\n            },\n        }];\n        this.updateDecorations();\n    }\n};\n\nEditor.prototype.updateDecorations = function () {\n    this.prevDecorations = this.editor.deltaDecorations(\n        this.prevDecorations,\n        _.compact(_.flatten(_.values(this.decorations))));\n};\n\nEditor.prototype.onConformanceViewOpen = function (editorId) {\n    if (editorId === this.id) {\n        this.conformanceViewerButton.attr('disabled', true);\n    }\n};\n\nEditor.prototype.onConformanceViewClose = function (editorId) {\n    if (editorId === this.id) {\n        this.conformanceViewerButton.attr('disabled', false);\n    }\n};\n\nEditor.prototype.showLoadSaver = function () {\n    this.loadSaveButton.click();\n};\n\nEditor.prototype.initLoadSaver = function () {\n    this.loadSaveButton\n        .off('click')\n        .click(_.bind(function () {\n            loadSave.run(_.bind(function (text, filename) {\n                this.setSource(text);\n                this.setFilename(filename);\n                this.updateState();\n                this.maybeEmitChange(true);\n                this.requestCompilation();\n            }, this), this.getSource(), this.currentLanguage);\n        }, this));\n};\n\nEditor.prototype.onLanguageChange = function (newLangId) {\n    if (languages[newLangId]) {\n        if (newLangId !== this.currentLanguage.id) {\n            var oldLangId = this.currentLanguage.id;\n            this.currentLanguage = languages[newLangId];\n            if (!this.waitingForLanguage && !this.settings.keepSourcesOnLangChange && (newLangId !== 'cmake')) {\n                this.editorSourceByLang[oldLangId] = this.getSource();\n                this.updateEditorCode();\n            }\n            this.initLoadSaver();\n            monaco.editor.setModelLanguage(this.editor.getModel(), this.currentLanguage.monaco);\n            this.isCpp.set(this.currentLanguage.id === 'c++');\n            this.isClean.set(this.currentLanguage.id === 'clean');\n            this.updateTitle();\n            this.updateState();\n            // Broadcast the change to other panels\n            this.eventHub.emit('languageChange', this.id, newLangId);\n            this.maybeEmitChange(true);\n            this.requestCompilation();\n            ga.proxy('send', {\n                hitType: 'event',\n                eventCategory: 'LanguageChange',\n                eventAction: newLangId,\n            });\n        }\n        this.waitingForLanguage = false;\n    }\n};\n\nEditor.prototype.getPaneName = function () {\n    if (this.filename) {\n        return this.filename;\n    } else {\n        return this.currentLanguage.name + ' source #' + this.id;\n    }\n};\n\nEditor.prototype.setFilename = function (name) {\n    this.filename = name;\n    this.updateTitle();\n    this.updateState();\n};\n\nEditor.prototype.updateTitle = function () {\n    var name = this.getPaneName();\n    if (name.endsWith('CMakeLists.txt')) {\n        this.changeLanguage('cmake');\n    }\n    this.container.setTitle(_.escape(name));\n};\n\n// Called every time we change language, so we get the relevant code\nEditor.prototype.updateEditorCode = function () {\n    this.setSource(this.editorSourceByLang[this.currentLanguage.id] || languages[this.currentLanguage.id].example);\n};\n\nEditor.prototype.close = function () {\n    this.eventHub.unsubscribe();\n    this.eventHub.emit('editorClose', this.id);\n    this.editor.dispose();\n    this.hub.removeEditor(this.id);\n};\n\nmodule.exports = {\n    Editor: Editor,\n};\n","// Copyright (c) 2021, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar monaco = require('monaco-editor');\n\nfunction definition() {\n    return {\n        symbols: /[=><!~?&|+\\-*/^;.,]+/,\n        escapes: /\\\\(?:[abfnrtv\\\\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,\n        tokenizer: {\n            root: [\n                [/(add_compile_options|add_custom_command|add_custom_target|add_definitions|add_dependencies|add_executable|add_library|add_subdirectory|add_test|aux_source_directory|break|build_command|build_name|cmake_host_system_information|cmake_minimum_required|cmake_policy|configure_file|continue|create_test_sourcelist|ctest_build|ctest_configure|ctest_coverage|ctest_empty_binary_directory|ctest_memcheck|ctest_read_custom_files|ctest_run_script|ctest_sleep|ctest_start|ctest_submit|ctest_test|ctest_update|ctest_upload|define_property|else|elseif|enable_language|enable_testing|endforeach|endfunction|endif|endmacro|endwhile|exec_program|execute_process|export|export_library_dependencies|file|find_file|find_library|find_package|find_path|find_program|fltk_wrap_ui|foreach|function|get_cmake_property|get_directory_property|get_filename_component|get_property|get_source_file_property|get_target_property|get_test_property|if|include|include_directories|include_external_msproject|include_regular_expression|install|install_files|install_programs|install_targets|link_directories|link_libraries|list|load_cache|load_command|macro|make_directory|mark_as_advanced|math|message|option|output_required_files|project|qt_wrap_cpp|qt_wrap_ui|remove|remove_definitions|return|separate_arguments|set|set_directory_properties|set_property|set_source_files_properties|set_target_properties|set_tests_properties|site_name|source_group|string|subdir_depends|subdirs|target_compile_definitions|target_compile_features|target_compile_options|target_include_directories|target_link_libraries|target_sources|try_compile|try_run|unset|use_mangled_mesa|utility_source|variable_requires|variable_watch|while|write_file)/,\n                    'keyword'],\n                [/\\b((CMAKE_)?(CXX_STANDARD|CXX_FLAGS|CMAKE_CXX_FLAGS_DEBUG|CMAKE_CXX_FLAGS_MINSIZEREL|CMAKE_CXX_FLAGS_RELEASE|CMAKE_CXX_FLAGS_RELWITHDEBINFO))\\b/,\n                    'variable'],\n                [/\\b(ABSOLUTE|AND|BOOL|CACHE|COMMAND|COMMENT|DEFINED|DOC|EQUAL|EXISTS|EXT|FALSE|GREATER|GREATER_EQUAL|INTERNAL|IN_LIST|IS_ABSOLUTE|IS_DIRECTORY|IS_NEWER_THAN|IS_SYMLINK|LESS|LESS_EQUAL|MATCHES|NAME|NAMES|NAME_WE|NOT|OFF|ON|OR|PATH|PATHS|POLICY|PROGRAM|STREQUAL|STRGREATER|STRGREATER_EQUAL|STRING|STRLESS|STRLESS_EQUAL|TARGET|TEST|TRUE|VERSION_EQUAL|VERSION_GREATER|VERSION_GREATER_EQUAL|VERSION_LESS)\\b/,\n                    'keyword'],\n                [/\\b((APPLE|BORLAND|(CMAKE_)?(CL_64|COMPILER_2005|HOST_APPLE|HOST_SYSTEM|HOST_SYSTEM_NAME|HOST_SYSTEM_PROCESSOR|HOST_SYSTEM_VERSION|HOST_UNIX|HOST_WIN32|LIBRARY_ARCHITECTURE|LIBRARY_ARCHITECTURE_REGEX|OBJECT_PATH_MAX|SYSTEM|SYSTEM_NAME|SYSTEM_PROCESSOR|SYSTEM_VERSION)|CYGWIN|MSVC|MSVC80|MSVC_IDE|MSVC_VERSION|UNIX|WIN32|XCODE_VERSION|MSVC60|MSVC70|MSVC90|MSVC71))\\b/,\n                    'variable'],\n                [/\\b(BUILD_SHARED_LIBS|(CMAKE_)?(ABSOLUTE_DESTINATION_FILES|AUTOMOC_RELAXED_MODE|BACKWARDS_COMPATIBILITY|BUILD_TYPE|COLOR_MAKEFILE|CONFIGURATION_TYPES|DEBUG_TARGET_PROPERTIES|DISABLE_FIND_PACKAGE_\\w+|FIND_LIBRARY_PREFIXES|FIND_LIBRARY_SUFFIXES|IGNORE_PATH|INCLUDE_PATH|INSTALL_DEFAULT_COMPONENT_NAME|INSTALL_PREFIX|LIBRARY_PATH|MFC_FLAG|MODULE_PATH|NOT_USING_CONFIG_FLAGS|POLICY_DEFAULT_CMP\\w+|PREFIX_PATH|PROGRAM_PATH|SKIP_INSTALL_ALL_DEPENDENCY|SYSTEM_IGNORE_PATH|SYSTEM_INCLUDE_PATH|SYSTEM_LIBRARY_PATH|SYSTEM_PREFIX_PATH|SYSTEM_PROGRAM_PATH|USER_MAKE_RULES_OVERRIDE|WARN_ON_ABSOLUTE_INSTALL_DESTINATION))\\b/,\n                    'keyword'],\n                { include: '@whitespace' },\n                { include: '@builtins' },\n            ],\n            builtins: [\n                [/\\$\\{\\w+\\}/, 'variable'],\n                [/\\d*\\.\\d+([eE][-+]?\\d+)?/, 'number.float'],\n                [/0[xX][0-9a-fA-F_]*[0-9a-fA-F]/, 'number.hex'],\n                [/\\d+/, 'number'],\n                [/\"/, 'string', '@string.\"'],\n                [/'/, 'string', '@string.\\''],\n            ],\n            whitespace: [\n                [/[ \\t\\r\\n]+/, ''],\n                [/#.*$/, 'comment'],\n            ],\n            string: [\n                [/[^\\\\\"'%]+/, { cases: { '@eos': { token: 'string', next: '@popall' }, '@default': 'string' } }],\n                [/@escapes/, 'string.escape'],\n                [/\\\\./, 'string.escape.invalid'],\n                [/\\$\\{[\\w ]+\\}/, 'variable'],\n                [/[\"']/, { cases: { '$#==$S2': { token: 'string', next: '@pop' }, '@default': 'string' } }],\n                [/$/, 'string', '@popall'],\n            ],\n        },\n    };\n}\n\nfunction configuration() {\n    return {\n        indentationRules: {\n            decreaseIndentPattern: /^(.*\\*\\/)?\\s*\\}.*$/,\n            increaseIndentPattern: /^.*\\{[^}\"']*$/,\n        },\n        wordPattern: /(-?\\d*\\.\\d\\w*)|([^`~!@#%^&*()\\-=+[{\\]}\\\\|;:'\",.<>/?\\s]+)/g,\n        comments: {\n            lineComment: '#',\n        },\n        brackets: [\n            ['{', '}'],\n            ['(', ')'],\n        ],\n        __electricCharacterSupport: {\n            brackets: [\n                { tokenType: 'delimiter.curly.ts', open: '{', close: '}', isElectric: true },\n                { tokenType: 'delimiter.square.ts', open: '[', close: ']', isElectric: true },\n                { tokenType: 'delimiter.paren.ts', open: '(', close: ')', isElectric: true },\n            ],\n        },\n        __characterPairSupport: {\n            autoClosingPairs: [\n                { open: '{', close: '}' },\n                { open: '(', close: ')' },\n                { open: '\"', close: '\"', notIn: ['string'] },\n            ],\n        },\n    };\n}\n\nmonaco.languages.register({ id: 'cmake' });\nmonaco.languages.setMonarchTokensProvider('cmake', definition());\nmonaco.languages.setLanguageConfiguration('cmake', configuration());\n\nexport {};\n","// Copyright (c) 2020, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\nvar\n    local = require('./local');\n\nvar _currentPresentation = null;\n\nfunction Presentation() {\n    this.maxSlides = 0;\n    this.currentSlide = 0;\n    this.originallocation = window.location.href;\n}\n\nPresentation.prototype.init = function (maxSlides, callback) {\n    this.maxSlides = maxSlides;\n    this.currentSlide = parseInt(local.get('presentationCurrentSlide', 0));\n    if (callback !== undefined) callback();\n};\n\nPresentation.prototype.first = function () {\n    this.currentSlide = 0;\n    local.set('presentationCurrentSlide', this.currentSlide);\n    this.show();\n};\n\nPresentation.prototype.next = function () {\n    if (this.currentSlide + 1 < this.maxSlides) {\n        this.currentSlide++;\n        local.set('presentationCurrentSlide', this.currentSlide);\n        this.show();\n    }\n};\n\nPresentation.prototype.prev = function () {\n    if (this.currentSlide > 0) {\n        this.currentSlide--;\n        local.set('presentationCurrentSlide', this.currentSlide);\n        this.show();\n    }\n};\n\nPresentation.prototype.show = function () {\n    window.hasUIBeenReset = true;\n    if (window.location.href === this.originallocation) {\n        window.location.reload();\n    } else {\n        window.location.href = this.originallocation;\n    }\n};\n\nfunction init(maxSlides, callback) {\n    if (!_currentPresentation) {\n        _currentPresentation = new Presentation();\n        _currentPresentation.init(maxSlides, callback);\n    } else {\n        callback();\n    }\n}\n\nfunction first() {\n    if (!_currentPresentation) throw \"Presentation hasn't been initialized\";\n\n    _currentPresentation.first();\n}\n\nfunction next() {\n    if (!_currentPresentation) throw \"Presentation hasn't been initialized\";\n\n    _currentPresentation.next();\n}\n\nfunction prev() {\n    if (!_currentPresentation) throw \"Presentation hasn't been initialized\";\n\n    _currentPresentation.prev();\n}\n\nfunction getCurrentSlide() {\n    if (!_currentPresentation) throw \"Presentation hasn't been initialized\";\n\n    return _currentPresentation.currentSlide;\n}\n\nfunction setCurrentSlide(idx) {\n    if (!_currentPresentation) throw \"Presentation hasn't been initialized\";\n\n    _currentPresentation.currentSlide = idx;\n}\n\nmodule.exports = {\n    init: init,\n    first: first,\n    next: next,\n    prev: prev,\n    getCurrentSlide: getCurrentSlide,\n    setCurrentSlide: setCurrentSlide,\n};\n","// Copyright (c) 2017, Jared Wyles\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\nvar FontScale = require('../fontscale').FontScale;\nvar monaco = require('monaco-editor');\nvar _ = require('underscore');\nvar $ = require('jquery');\nvar ga = require('../analytics').ga;\nvar monacoConfig = require('../monaco-config');\n\nrequire('../modes/asm-mode');\n\n\nfunction Opt(hub, container, state) {\n    state = state || {};\n    this.container = container;\n    this.eventHub = hub.createEventHub();\n    this.domRoot = container.getElement();\n    this.domRoot.html($('#opt').html());\n    this.source = state.source || '';\n    this._currentDecorations = [];\n    var root = this.domRoot.find('.monaco-placeholder');\n\n    this.optEditor = monaco.editor.create(root[0], monacoConfig.extendConfig({\n        value: this.source,\n        language: 'plaintext',\n        readOnly: true,\n        glyphMargin: true,\n    }));\n\n    this._compilerid = state.id;\n    this._compilerName = state.compilerName;\n    this._editorid = state.editorid;\n\n    this.awaitingInitialResults = false;\n    this.selection = state.selection;\n\n    this.isCompilerSupported = false;\n\n    this.initButtons(state);\n    this.initCallbacks();\n\n    if (state && state.optOutput) {\n        this.showOptResults(state.optOutput);\n    }\n    this.setTitle();\n    this.eventHub.emit('optViewOpened', this._compilerid);\n    ga.proxy('send', {\n        hitType: 'event',\n        eventCategory: 'OpenViewPane',\n        eventAction: 'Opt',\n    });\n}\n\nOpt.prototype.initButtons = function (state) {\n    this.fontScale = new FontScale(this.domRoot, state, this.optEditor);\n\n    this.topBar = this.domRoot.find('.top-bar');\n};\n\nOpt.prototype.initCallbacks = function () {\n    this.fontScale.on('change', _.bind(this.updateState, this));\n\n    this.eventHub.on('compileResult', this.onCompileResult, this);\n    this.eventHub.on('compiler', this.onCompiler, this);\n    this.eventHub.on('compilerClose', this.onCompilerClose, this);\n    this.eventHub.on('settingsChange', this.onSettingsChange, this);\n    this.eventHub.on('resize', this.resize, this);\n    this.container.on('destroy', this.close, this);\n    this.eventHub.emit('requestSettings');\n    this.eventHub.emit('findCompilers');\n\n    this.container.on('resize', this.resize, this);\n    this.container.on('shown', this.resize, this);\n\n    this.cursorSelectionThrottledFunction =\n        _.throttle(_.bind(this.onDidChangeCursorSelection, this), 500);\n    this.optEditor.onDidChangeCursorSelection(_.bind(function (e) {\n        this.cursorSelectionThrottledFunction(e);\n    }, this));\n};\n\nOpt.prototype.onCompileResult = function (id, compiler, result, lang) {\n    if (this._compilerid !== id || !this.isCompilerSupported) return;\n    this.source = result.source;\n    this.optEditor.setValue(this.source);\n    if (result.hasOptOutput) {\n        this.showOptResults(result.optOutput);\n    }\n    if (lang && lang.monaco && this.getCurrentEditorLanguage() !== lang.monaco) {\n        monaco.editor.setModelLanguage(this.optEditor.getModel(), lang.monaco);\n    }\n\n    if (!this.awaitingInitialResults) {\n        if (this.selection) {\n            this.optEditor.setSelection(this.selection);\n            this.optEditor.revealLinesInCenter(this.selection.startLineNumber,\n                this.selection.endLineNumber);\n        }\n        this.awaitingInitialResults = true;\n    }\n};\n\n// Monaco language id of the current editor\nOpt.prototype.getCurrentEditorLanguage = function () {\n    return this.optEditor.getModel().getModeId();\n};\n\nOpt.prototype.getPaneName = function () {\n    return 'Opt Viewer ' + this._compilerName + ' (Editor #' + this._editorid + ', Compiler #' + this._compilerid + ')';\n};\n\nOpt.prototype.setTitle = function () {\n    this.container.setTitle(this.getPaneName());\n};\n\nOpt.prototype.getDisplayableOpt = function (optResult) {\n    return {\n        value: '**' + optResult.optType + '** - ' + optResult.displayString,\n        isTrusted: false,\n    };\n};\n\nOpt.prototype.showOptResults = function (results) {\n    var opt = [];\n\n    results = _.filter(results, function (x) {\n        return x.DebugLoc !== undefined;\n    });\n\n    results = _.groupBy(results, function (x) {\n        return x.DebugLoc.Line;\n    });\n\n    _.mapObject(results, function (value, key) {\n        var linenumber = Number(key);\n        var className = value.reduce(function (acc, x) {\n            if (x.optType === 'Missed' || acc === 'Missed') {\n                return 'Missed';\n            } else if (x.optType === 'Passed' || acc === 'Passed') {\n                return 'Passed';\n            }\n            return x.optType;\n        }, '');\n        var contents = _.map(value, this.getDisplayableOpt, this);\n        opt.push({\n            range: new monaco.Range(linenumber, 1, linenumber, Infinity),\n            options: {\n                isWholeLine: true,\n                glyphMarginClassName: 'opt-decoration.' + className.toLowerCase(),\n                hoverMessage: contents,\n                glyphMarginHoverMessage: contents,\n            },\n        });\n    }, this);\n\n    this._currentDecorations = this.optEditor.deltaDecorations(this._currentDecorations, opt);\n};\n\nOpt.prototype.onCompiler = function (id, compiler) {\n    if (id === this._compilerid) {\n        this._compilerName = compiler ? compiler.name : '';\n        this.setTitle();\n        this.isCompilerSupported = compiler ? compiler.supportsOptOutput : false;\n        if (!this.isCompilerSupported) {\n            this.optEditor.setValue('<OPT output is not supported for this compiler>');\n        }\n    }\n};\n\nOpt.prototype.resize = function () {\n    var topBarHeight = this.topBar.outerHeight(true);\n    this.optEditor.layout({\n        width: this.domRoot.width(),\n        height: this.domRoot.height() - topBarHeight,\n    });\n};\n\nOpt.prototype.updateState = function () {\n    this.container.setState(this.currentState());\n};\n\nOpt.prototype.currentState = function () {\n    var state = {\n        id: this._compilerid,\n        editorid: this._editorid,\n        selection: this.selection,\n    };\n    this.fontScale.addState(state);\n    return state;\n};\n\nOpt.prototype.close = function () {\n    this.eventHub.unsubscribe();\n    this.eventHub.emit('optViewClosed', this._compilerid);\n    this.optEditor.dispose();\n};\n\nOpt.prototype.onCompilerClose = function (id) {\n    if (id === this._compilerid) {\n        // We can't immediately close as an outer loop somewhere in GoldenLayout is iterating over\n        // the hierarchy. We can't modify while it's being iterated over.\n        this.close();\n        _.defer(function (self) {\n            self.container.close();\n        }, this);\n    }\n};\n\nOpt.prototype.onSettingsChange = function (newSettings) {\n    this.optEditor.updateOptions({\n        contextmenu: newSettings.useCustomContextMenu,\n        minimap: {\n            enabled: newSettings.showMinimap,\n        },\n        fontFamily: newSettings.editorsFFont,\n        fontLigatures: newSettings.editorsFLigatures,\n    });\n};\n\nOpt.prototype.onDidChangeCursorSelection = function (e) {\n    if (this.awaitingInitialResults) {\n        this.selection = e.selection;\n        this.updateState();\n    }\n};\n\nmodule.exports = {\n    Opt: Opt,\n};\n","// Copyright (c) 2017, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar monaco = require('monaco-editor');\n\nfunction definition() {\n    return {\n        defaultToken: 'invalid',\n\n        keywords: [\n            'abstract',\n            'alias',\n            'align',\n            'asm',\n            'assert',\n            'auto',\n            'body',\n            'bool',\n            'break',\n            'byte',\n            'case',\n            'cast',\n            'catch',\n            'cdouble',\n            'cent',\n            'cfloat',\n            'char',\n            'class',\n            'const',\n            'continue',\n            'creal',\n            'dchar',\n            'debug',\n            'default',\n            'delegate',\n            'delete ',\n            'deprecated',\n            'do',\n            'double',\n            'else',\n            'enum',\n            'export',\n            'extern',\n            'false',\n            'final',\n            'finally',\n            'float',\n            'for',\n            'foreach',\n            'foreach_reverse',\n            'function',\n            'goto',\n            'idouble',\n            'if',\n            'ifloat',\n            'immutable',\n            'import',\n            'in',\n            'inout',\n            'int',\n            'interface',\n            'invariant',\n            'ireal',\n            'is',\n            'lazy',\n            'long',\n            'macro',\n            'mixin',\n            'module',\n            'new',\n            'nothrow',\n            'null',\n            'out',\n            'override',\n            'package',\n            'pragma',\n            'private',\n            'protected',\n            'public',\n            'pure',\n            'real',\n            'ref',\n            'return',\n            'scope',\n            'shared',\n            'short',\n            'static',\n            'struct',\n            'super',\n            'switch',\n            'synchronized',\n            'template',\n            'this',\n            'throw',\n            'true',\n            'try',\n            'typedef',\n            'typeid',\n            'typeof',\n            'ubyte',\n            'ucent',\n            'uint',\n            'ulong',\n            'union',\n            'unittest',\n            'ushort',\n            'version',\n            'void',\n            'volatile',\n            'wchar',\n            'while',\n            'with',\n            '__FILE__',\n            '__FILE_FULL_PATH__',\n            '__MODULE__',\n            '__LINE__',\n            '__FUNCTION__',\n            '__PRETTY_FUNCTION__',\n            '__gshared',\n            '__traits',\n            '__vector',\n            '__parameters'],\n\n        typeKeywords: [\n            'bool', 'byte', 'ubyte', 'short', 'ushort', 'int', 'uint', 'long', 'ulong', 'char', 'wchar', 'dchar',\n            'float', 'double', 'real', 'ifloat', 'idouble', 'ireal', 'cfloat', 'cdouble', 'creal', 'void',\n        ],\n\n        operators: [\n            '=', '>', '<', '!', '~', '?', ':',\n            '==', '<=', '>=', '!=', '&&', '||', '++', '--',\n            '+', '-', '*', '/', '&', '|', '^', '%', '<<',\n            '>>', '>>>', '+=', '-=', '*=', '/=', '&=', '|=',\n            '^=', '%=', '<<=', '>>=', '>>>=',\n        ],\n\n        // we include these common regular expressions\n        symbols: /[=><!~?:&|+\\-*/^%]+/,\n        escapes: /\\\\(?:[abfnrtv\\\\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,\n\n        // The main tokenizer for our languages\n        tokenizer: {\n            root: [\n                // identifiers and keywords\n                [/[a-z_$][\\w$]*/, {\n                    cases: {\n                        '@typeKeywords': 'keyword',\n                        '@keywords': 'keyword',\n                        '@default': 'identifier',\n                    },\n                }],\n                [/[A-Z][\\w$]*/, 'type.identifier'],  // to show class names nicely\n\n                // whitespace\n                {include: '@whitespace'},\n\n                // delimiters and operators\n                [/[{}()[\\]]/, '@brackets'],\n                [/[<>](?!@symbols)/, '@brackets'],\n                [/@symbols/, {\n                    cases: {\n                        '@operators': 'operator',\n                        '@default': '',\n                    },\n                }],\n\n                // numbers\n                [/\\d*\\.\\d+([eE][-+]?\\d+)?[fFdD]?/, 'number.float'],\n                [/0[xX][0-9a-fA-F_]*[0-9a-fA-F][Ll]?/, 'number.hex'],\n                [/0[0-7_]*[0-7][Ll]?/, 'number.octal'],\n                [/0[bB][0-1_]*[0-1][Ll]?/, 'number.binary'],\n                [/\\d+[lL]?/, 'number'],\n\n                // delimiter: after number because of .\\d floats\n                [/[;,.]/, 'delimiter'],\n\n                // strings\n                [/\"([^\"\\\\]|\\\\.)*$/, 'string.invalid'],  // non-teminated string\n                [/\"/, 'string', '@string'],\n                [/`/, 'string', '@rawstring'],\n\n                // characters\n                [/'[^\\\\']'/, 'string'],\n                [/(')(@escapes)(')/, ['string', 'string.escape', 'string']],\n                [/'/, 'string.invalid'],\n            ],\n\n            whitespace: [\n                [/[ \\t\\r\\n]+/, 'white'],\n                [/\\/\\*/, 'comment', '@comment'],\n                [/\\/\\+/, 'comment', '@nestingcomment'],\n                [/\\/\\/.*$/, 'comment'],\n            ],\n\n            comment: [\n                [/[^/*]+/, 'comment'],\n                [/\\*\\//, 'comment', '@pop'],\n                [/[/*]/, 'comment'],\n            ],\n\n            nestingcomment: [\n                [/[^/+]+/, 'comment'],\n                [/\\/\\+/, 'comment', '@push'],\n                [/\\/\\+/, 'comment.invalid'],\n                [/\\+\\//, 'comment', '@pop'],\n                [/[/+]/, 'comment'],\n            ],\n\n            string: [\n                [/[^\\\\\"]+/, 'string'],\n                [/@escapes/, 'string.escape'],\n                [/\\\\./, 'string.escape.invalid'],\n                [/\"/, 'string', '@pop'],\n            ],\n\n            rawstring: [\n                [/[^`]/, 'string'],\n                [/`/, 'string', '@pop'],\n            ],\n        },\n    };\n}\n\nfunction configuration() {\n    return {\n        comments: {\n            lineComment: '//',\n            blockComment: ['/*', '*/'],\n        },\n\n        brackets: [\n            ['{', '}'],\n            ['[', ']'],\n            ['(', ')'],\n        ],\n\n        autoClosingPairs: [\n            {open: '{', close: '}'},\n            {open: '[', close: ']'},\n            {open: '(', close: ')'},\n            {open: '`', close: '`', notIn: ['string']},\n            {open: '\"', close: '\"', notIn: ['string']},\n            {open: '\\'', close: '\\'', notIn: ['string', 'comment']},\n        ],\n\n        surroundingPairs: [\n            {open: '{', close: '}'},\n            {open: '[', close: ']'},\n            {open: '(', close: ')'},\n            {open: '`', close: '`'},\n            {open: '\"', close: '\"'},\n            {open: '\\'', close: '\\''},\n        ],\n    };\n}\n\nmonaco.languages.register({id: 'd'});\nmonaco.languages.setMonarchTokensProvider('d', definition());\nmonaco.languages.setLanguageConfiguration('d', configuration());\n\nexport {};\n","// Copyright (c) 2018, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\nvar _ = require('underscore');\nvar $ = require('jquery');\nvar FontScale = require('../fontscale').FontScale;\nvar AnsiToHtml = require('../ansi-to-html').Filter;\nvar Toggles = require('../toggles').Toggles;\nvar ga = require('../analytics').ga;\nvar Components = require('../components');\nvar monaco = require('monaco-editor');\nvar monacoConfig = require('../monaco-config');\nvar ceoptions = require('../options').options;\nvar utils = require('../utils');\nrequire('../modes/asm6502-mode');\n\nfunction makeAnsiToHtml(color) {\n    return new AnsiToHtml({\n        fg: color ? color : '#333',\n        bg: '#f5f5f5',\n        stream: true,\n        escapeXML: true,\n    });\n}\n\nfunction Tool(hub, container, state) {\n    this.hub = hub;\n    this.container = container;\n    this.compilerId = state.compiler;\n    this.editorId = state.editor;\n    this.treeId = state.tree;\n    this.toolId = state.toolId;\n    this.toolName = 'Tool';\n    this.compilerService = hub.compilerService;\n    this.eventHub = hub.createEventHub();\n    this.domRoot = container.getElement();\n    this.domRoot.html($('#tool-output').html());\n    this.editorContentRoot = this.domRoot.find('.monaco-placeholder');\n    this.plainContentRoot = this.domRoot.find('pre.content');\n    this.optionsToolbar = this.domRoot.find('.options-toolbar');\n    this.badLangToolbar = this.domRoot.find('.bad-lang');\n    this.compilerName = '';\n    this.monacoStdin = state.monacoStdin || false;\n    this.monacoEditorOpen = state.monacoEditorOpen || false;\n    this.monacoEditorHasBeenAutoOpened = state.monacoEditorHasBeenAutoOpened || false;\n    this.monacoStdinField = '';\n    this.normalAnsiToHtml = makeAnsiToHtml();\n    this.errorAnsiToHtml = makeAnsiToHtml('red');\n\n    this.optionsField = this.domRoot.find('input.options');\n    this.localStdinField = this.domRoot.find('textarea.tool-stdin');\n\n    this.outputEditor = monaco.editor.create(this.editorContentRoot[0], monacoConfig.extendConfig({\n        readOnly: true,\n        language: 'text',\n        fontFamily: 'courier new',\n        lineNumbersMinChars: 5,\n        renderIndentGuides: false,\n    }));\n\n    this.fontScale = new FontScale(this.domRoot, state, '.content');\n    this.fontScale.on('change', _.bind(function () {\n        this.saveState();\n    }, this));\n\n    this.createToolInputView = _.bind(function () {\n        return Components.getToolInputViewWith(this.compilerId, this.toolId, this.toolName);\n    }, this);\n\n    this.initButtons(state);\n    this.options = new Toggles(this.domRoot.find('.options'), state);\n    this.options.on('change', _.bind(this.onOptionsChange, this));\n\n    this.initArgs(state);\n    this.initCallbacks();\n\n    this.onOptionsChange();\n    this.updateCompilerName();\n\n    ga.proxy('send', {\n        hitType: 'event',\n        eventCategory: 'OpenViewPane',\n        eventAction: 'Tool',\n    });\n\n    this.eventHub.emit('toolOpened', this.compilerId, this.currentState());\n    this.eventHub.emit('requestSettings');\n}\n\nTool.prototype.initCallbacks = function () {\n    this.container.on('resize', this.resize, this);\n    this.container.on('shown', this.resize, this);\n    this.container.on('destroy', this.close, this);\n\n    this.eventHub.on('compileResult', this.onCompileResult, this);\n    this.eventHub.on('compilerClose', this.onCompilerClose, this);\n    this.eventHub.on('settingsChange', this.onSettingsChange, this);\n    this.eventHub.on('languageChange', this.onLanguageChange, this);\n    this.eventHub.on('toolInputChange', this.onToolInputChange, this);\n    this.eventHub.on('toolInputViewClosed', this.onToolInputViewClosed, this);\n\n    this.toggleArgs.on('click', _.bind(function () {\n        this.togglePanel(this.toggleArgs, this.panelArgs);\n    }, this));\n\n    this.toggleStdin.on('click', _.bind(function () {\n        if (!this.monacoStdin) {\n            this.togglePanel(this.toggleStdin, this.panelStdin);\n        } else {\n            if (!this.monacoEditorOpen) {\n                this.openMonacoEditor();\n            } else {\n                this.monacoEditorOpen = false;\n                this.toggleStdin.removeClass('active');\n                this.eventHub.emit('toolInputViewCloseRequest', this.compilerId, this.toolId);\n            }\n        }\n    }, this));\n\n    if (MutationObserver !== undefined) {\n        new MutationObserver(_.bind(this.resize, this)).observe(this.localStdinField[0], {\n            attributes: true, attributeFilter: ['style'],\n        });\n    }\n};\n\nTool.prototype.onLanguageChange = function (editorId, newLangId) {\n    if (this.editorId && this.editorId === editorId) {\n        var tools = ceoptions.tools[newLangId];\n        this.toggleUsable(tools && tools[this.toolId]);\n    }\n};\n\nTool.prototype.toggleUsable = function (isUsable) {\n    if (isUsable) {\n        this.plainContentRoot.css('opacity', '1');\n        this.badLangToolbar.hide();\n        this.optionsToolbar.show();\n    } else {\n        this.plainContentRoot.css('opacity', '0.5');\n        this.optionsToolbar.hide();\n        this.badLangToolbar.show();\n    }\n};\n\nTool.prototype.onSettingsChange = function (newSettings) {\n    this.outputEditor.updateOptions({\n        contextmenu: newSettings.useCustomContextMenu,\n        minimap: {\n            enabled: newSettings.showMinimap,\n        },\n        fontFamily: newSettings.editorsFFont,\n        fontLigatures: newSettings.editorsFLigatures,\n    });\n};\n\nTool.prototype.initArgs = function (state) {\n    var optionsChange = _.debounce(_.bind(function (e) {\n        this.onOptionsChange($(e.target).val());\n\n        this.eventHub.emit('toolSettingsChange', this.compilerId);\n    }, this), 800);\n\n    if (this.optionsField) {\n        this.optionsField\n            .on('change', optionsChange)\n            .on('keyup', optionsChange);\n\n        if (state.args) {\n            this.optionsField.val(state.args);\n        }\n    }\n\n    if (this.localStdinField) {\n        this.localStdinField\n            .on('change', optionsChange)\n            .on('keyup', optionsChange);\n\n        if (state.stdin) {\n            if (!this.monacoStdin) {\n                this.localStdinField.val(state.stdin);\n            } else {\n                this.eventHub.emit('setToolInput', this.compilerId, this.toolId, state.stdin);\n            }\n        }\n    }\n};\n\nTool.prototype.getInputArgs = function () {\n    if (this.optionsField) {\n        return this.optionsField.val();\n    } else {\n        return '';\n    }\n};\n\nTool.prototype.onToolInputChange = function (compilerId, toolId, input) {\n    if (this.compilerId === compilerId && this.toolId === toolId) {\n        this.monacoStdinField = input;\n        this.onOptionsChange();\n        this.eventHub.emit('toolSettingsChange', this.compilerId);\n    }\n};\n\nTool.prototype.onToolInputViewClosed = function (compilerId, toolId, input) {\n    if (this.compilerId === compilerId && this.toolId === toolId) {\n        // Duplicate close messages have been seen, with the second having no value.\n        // If we have a current value and the new value is empty, ignore the message.\n        if (this.monacoStdinField && input) {\n            this.monacoStdinField = input;\n            this.monacoEditorOpen = false;\n            this.toggleStdin.removeClass('active');\n\n            this.onOptionsChange();\n            this.eventHub.emit('toolSettingsChange', this.compilerId);\n        }\n    }\n};\n\nTool.prototype.getInputStdin = function () {\n    if (!this.monacoStdin) {\n        if (this.localStdinField) {\n            return this.localStdinField.val();\n        } else {\n            return '';\n        }\n    } else {\n        return this.monacoStdinField;\n    }\n};\n\nTool.prototype.openMonacoEditor = function () {\n    this.monacoEditorHasBeenAutoOpened = true; // just in case we get here in an unexpected way\n    this.monacoEditorOpen = true;\n    this.toggleStdin.addClass('active');\n    var insertPoint = this.hub.findParentRowOrColumn(this.container) ||\n        this.container.layoutManager.root.contentItems[0];\n    insertPoint.addChild(this.createToolInputView);\n    this.onOptionsChange();\n    this.eventHub.emit('setToolInput', this.compilerId, this.toolId, this.monacoStdinField);\n};\n\nTool.prototype.getEffectiveOptions = function () {\n    return this.options.get();\n};\n\nTool.prototype.resize = function () {\n    utils.updateAndCalcTopBarHeight(this.domRoot, this.optionsToolbar, this.hideable);\n    var barsHeight = this.optionsToolbar.outerHeight() + 2;\n    if (!this.panelArgs.hasClass('d-none')) {\n        barsHeight += this.panelArgs.outerHeight();\n    }\n    if (!this.panelStdin.hasClass('d-none')) {\n        barsHeight += this.panelStdin.outerHeight();\n    }\n\n    this.outputEditor.layout({\n        width: this.domRoot.width(),\n        height: this.domRoot.height() - barsHeight,\n    });\n\n    this.plainContentRoot.height(this.domRoot.height() - barsHeight);\n};\n\nTool.prototype.onOptionsChange = function () {\n    var options = this.getEffectiveOptions();\n    this.plainContentRoot.toggleClass('wrap', options.wrap);\n    this.wrapButton.prop('title', '[' + (options.wrap ? 'ON' : 'OFF') + '] ' + this.wrapTitle);\n\n    this.saveState();\n};\n\nTool.prototype.initButtons = function (state) {\n    this.wrapButton = this.domRoot.find('.wrap-lines');\n    this.wrapTitle = this.wrapButton.prop('title');\n\n    this.panelArgs = this.domRoot.find('.panel-args');\n    this.panelStdin = this.domRoot.find('.panel-stdin');\n\n    this.hideable = this.domRoot.find('.hideable');\n\n    this.initToggleButtons(state);\n};\n\nTool.prototype.initToggleButtons = function (state) {\n    this.toggleArgs = this.domRoot.find('.toggle-args');\n    this.toggleStdin = this.domRoot.find('.toggle-stdin');\n\n    if (state.argsPanelShown === true) {\n        this.showPanel(this.toggleArgs, this.panelArgs);\n    }\n\n    if (state.stdinPanelShown === true) {\n        if (!this.monacoStdin) {\n            this.showPanel(this.toggleStdin, this.panelStdin);\n        } else {\n            if (!this.monacoEditorOpen) {\n                this.openMonacoEditor();\n            }\n        }\n    }\n};\n\nTool.prototype.showPanel = function (button, panel) {\n    panel.removeClass('d-none');\n    button.addClass('active');\n    this.resize();\n};\n\nTool.prototype.hidePanel = function (button, panel) {\n    panel.addClass('d-none');\n    button.removeClass('active');\n    this.resize();\n};\n\nTool.prototype.togglePanel = function (button, panel) {\n    if (panel.hasClass('d-none')) {\n        this.showPanel(button, panel);\n    } else {\n        this.hidePanel(button, panel);\n    }\n    this.saveState();\n};\n\nTool.prototype.currentState = function () {\n    var options = this.getEffectiveOptions();\n    var state = {\n        compiler: this.compilerId,\n        editor: this.editorId,\n        tree: this.treeId,\n        wrap: options.wrap,\n        toolId: this.toolId,\n        args: this.getInputArgs(),\n        stdin: this.getInputStdin(),\n        stdinPanelShown: (this.monacoStdin && this.monacoEditorOpen) ||\n         (this.panelStdin && !this.panelStdin.hasClass('d-none')),\n        monacoStdin: this.monacoStdin,\n        monacoEditorOpen: this.monacoEditorOpen,\n        monacoEditorHasBeenAutoOpened: this.monacoEditorHasBeenAutoOpened,\n        argsPanelShow: !this.panelArgs.hasClass('d-none'),\n    };\n    this.fontScale.addState(state);\n    return state;\n};\n\nTool.prototype.saveState = function () {\n    this.container.setState(this.currentState());\n};\n\nTool.prototype.setLanguage = function (languageId) {\n    if (languageId) {\n        this.options.enableToggle('wrap', false);\n        monaco.editor.setModelLanguage(this.outputEditor.getModel(), languageId);\n        this.outputEditor.setValue('');\n        this.fontScale.setTarget(this.outputEditor);\n        $(this.plainContentRoot).hide();\n        $(this.editorContentRoot).show();\n    } else {\n        this.options.enableToggle('wrap', true);\n        this.plainContentRoot.empty();\n        this.fontScale.setTarget('.content');\n        $(this.editorContentRoot).hide();\n        $(this.plainContentRoot).show();\n    }\n};\n\nTool.prototype.onCompileResult = function (id, compiler, result) {\n    try {\n        if (id !== this.compilerId) return;\n        if (compiler) this.compilerName = compiler.name;\n\n        var foundTool = _.find(compiler.tools, function (tool) {\n            return (tool.tool.id === this.toolId);\n        }, this);\n\n        this.toggleUsable(foundTool);\n\n        var toolResult = null;\n        if (result && result.tools) {\n            toolResult = _.find(result.tools, function (tool) {\n                return (tool.id === this.toolId);\n            }, this);\n        } else if (result && result.result && result.result.tools) {\n            toolResult = _.find(result.result.tools, function (tool) {\n                return (tool.id === this.toolId);\n            }, this);\n        }\n\n        var toolInfo = null;\n        if (compiler && compiler.tools) {\n            toolInfo = _.find(compiler.tools, function (tool) {\n                return (tool.tool.id === this.toolId);\n            }, this);\n        }\n\n        if (toolInfo) {\n            this.toggleStdin.prop('disabled', false);\n\n            if (this.monacoStdin && !this.monacoEditorOpen && !this.monacoEditorHasBeenAutoOpened) {\n                this.monacoEditorHasBeenAutoOpened = true;\n                this.openMonacoEditor();\n            } else if (!this.monacoStdin && toolInfo.tool.stdinHint) {\n                this.localStdinField.prop('placeholder', toolInfo.tool.stdinHint);\n                if (toolInfo.tool.stdinHint === 'disabled') {\n                    this.toggleStdin.prop('disabled', true);\n                } else {\n                    this.showPanel(this.toggleStdin, this.panelStdin);\n                }\n            } else {\n                this.localStdinField.prop('placeholder', 'Tool stdin...');\n            }\n        }\n\n        if (toolResult) {\n            if (toolResult.languageId && (toolResult.languageId === 'stderr')) {\n                toolResult.languageId = false;\n            }\n\n            this.setLanguage(toolResult.languageId);\n\n            if (toolResult.languageId) {\n                this.setEditorContent(_.pluck(toolResult.stdout, 'text').join('\\n'));\n            } else {\n                _.each((toolResult.stdout || []).concat(toolResult.stderr || []), function (obj) {\n                    if (obj.text === '') {\n                        this.add('<br/>');\n                    } else {\n                        this.add(this.normalAnsiToHtml.toHtml(obj.text), obj.tag ? obj.tag.line : obj.line);\n                    }\n                }, this);\n            }\n\n            this.toolName = toolResult.name;\n            this.updateCompilerName();\n\n            if (toolResult.sourcechanged && this.editorId) {\n                this.eventHub.emit('newSource', this.editorId, toolResult.newsource);\n            }\n        } else {\n            this.setEditorContent('No tool result');\n        }\n    } catch (e) {\n        this.setLanguage(false);\n        this.add('javascript error: ' + e.message);\n    }\n};\n\nTool.prototype.add = function (msg, lineNum) {\n    var elem = $('<div/>').appendTo(this.plainContentRoot);\n    if (lineNum && this.editorId) {\n        elem.html(\n            $('<a></a>')\n                .prop('href', 'javascript:;')\n                .html(msg)\n                .on('click', _.bind(function (e) {\n                    this.eventHub.emit('editorSetDecoration', this.editorId, lineNum, true);\n                    e.preventDefault();\n                    return false;\n                }, this))\n                .on('mouseover', _.bind(function () {\n                    this.eventHub.emit('editorSetDecoration', this.editorId, lineNum, false);\n                }, this))\n        );\n    } else {\n        elem.html(msg);\n    }\n};\n\nTool.prototype.setEditorContent = function (content) {\n    if (!this.outputEditor || !this.outputEditor.getModel()) return;\n    var editorModel = this.outputEditor.getModel();\n    var visibleRanges = this.outputEditor.getVisibleRanges();\n    var currentTopLine = visibleRanges.length > 0 ? visibleRanges[0].startLineNumber : 1;\n    editorModel.setValue(content);\n    this.outputEditor.revealLine(currentTopLine);\n    this.setNormalContent();\n};\n\nTool.prototype.setNormalContent = function () {\n    this.outputEditor.updateOptions({\n        lineNumbers: true,\n        codeLens: false,\n    });\n    if (this.codeLensProvider) {\n        this.codeLensProvider.dispose();\n    }\n};\n\nTool.prototype.getPaneName = function () {\n    var name = this.toolName + ' #' + this.compilerId;\n    if (this.compilerName) name += ' with ' + this.compilerName;\n    return name;\n};\n\nTool.prototype.updateCompilerName = function () {\n    this.container.setTitle(this.getPaneName());\n};\n\nTool.prototype.onCompilerClose = function (id) {\n    if (id === this.compilerId) {\n        this.close();\n        _.defer(function (self) {\n            self.container.close();\n        }, this);\n    }\n};\n\nTool.prototype.close = function () {\n    this.eventHub.emit('toolClosed', this.compilerId, this.currentState());\n    this.eventHub.unsubscribe();\n    this.outputEditor.dispose();\n};\n\nmodule.exports = {\n    Tool: Tool,\n};\n","// Copyright (c) 2018, Mitch Kennedy\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\nvar monaco = require('monaco-editor');\n\nexport function definition() {\n    // Ada 2012 Language Definition\n    return {\n        keywords: [\n            'abort',\n            'else',\n            'new',\n            'return',\n            'elsif',\n            'reverse',\n            'abstract',\n            'end',\n            'null',\n            'accept',\n            'entry',\n            'select',\n            'access',\n            'exception',\n            'of',\n            'separate',\n            'aliased',\n            'exit',\n            'some',\n            'all',\n            'others',\n            'subtype',\n            'for',\n            'out',\n            'synchronized',\n            'array',\n            'function',\n            'overriding',\n            'at',\n            'tagged',\n            'generic',\n            'package',\n            'task',\n            'begin',\n            'goto',\n            'pragma',\n            'terminate',\n            'body',\n            'private',\n            'then',\n            'if',\n            'procedure',\n            'type',\n            'case',\n            'in',\n            'protected',\n            'constant',\n            'interface',\n            'until',\n            'is',\n            'raise',\n            'use',\n            'declare',\n            'range',\n            'delay',\n            'limited',\n            'record',\n            'when',\n            'delta',\n            'loop',\n            'while',\n            'digits',\n            'renames',\n            'with',\n            'do',\n            'requeue',\n            'rem',\n            'mod',\n            'abs',\n            'not',\n            'and',\n            'or',\n            'xor',\n        ],\n        standardTypes :[\n            // Defined in the package Standard\n            // See: http://www.adaic.org/resources/add_content/standards/12rm/html/RM-A-1.html\n            'Boolean', \n            'Integer',\n            'Natural',\n            'Positive ',\n            'Float',\n            'Character',\n            'Wide_Character',\n            'Wide_Wide_Character',\n            'String',\n            'Wide_String',\n            'Wide_Wide_String',\n            'Duration',\n            // Predefined Standard exceptions\n            'Constraint_Error',\n            'Program_Error',\n            'Storage_Error',\n            'Tasking_Error',\n        ],\n\n        operators: [\n            '+', '-', '*', '/', 'div', 'mod',\n            'shl', 'shr', 'and', 'or', 'xor', 'not',\n            '<', '>', '<=', '>=', '==', '<>',\n            '+=', '-=', '*=', '/=',\n        ],\n        brackets: [\n            ['(', ')', 'delimiter.parenthesis'],\n            ['[', ']', 'delimiter.square'],\n        ],\n        symbols: /[=><!~&|+\\-*/^]+/,\n        delimiters: /[;=.:,`]/,\n        escapes: /\\\\(?:[abfnrtv\\\\'\\n\\r]|x[0-9A-Fa-f]{2}|[0-7]{3}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8}|N\\{\\w+\\})/,\n        \n        // The main tokenizer for our languages\n        tokenizer: {\n            root: [\n                [/[a-zA-Z_][a-zA-Z0-9_]*/, {\n                    cases: {\n                        '@standardTypes': 'type',\n                        '@keywords': 'keyword',\n                        '@default': 'identifier',\n                    },\n                }],\n                // Whitespace\n                {include: '@whitespace'},\n\n                [/[()[\\]]/, '@brackets'],\n\n                // Numbers\n                // See https://regex101.com/r/dflfeQ/2 for examples from the \n                // 2012 ARM (http://www.ada-auth.org/standards/12rm/html/RM-2-4-1.html#S0009)\n                [/[0-9_.]+(E[+-]?\\d+)?/, 'number.float'],\n                // See https://regex101.com/r/dSSADT/3 for examples from the\n                // 2012 ARM (http://www.ada-auth.org/standards/12rm/html/RM-2-4-2.html#S0011)\n                [/[0-9]+#[0-9A-Fa-f_.]+#(E[+-]?\\d+)?/, 'number.hex'],\n\n                [/@delimiters/, {\n                    cases: {\n                        '@keywords': 'keyword',\n                        '@default': 'delimiter',\n                    },\n                }],\n                // strings\n                [/\"([^\"\\\\]|\\\\.)*$/, 'string.invalid'],  // non-teminated string\n                [/\"/, 'string', '@string'],\n\n                // characters\n                [/'[^\\\\']'/, 'string'],\n                [/(')(@escapes)(')/, ['string', 'string.escape', 'string']],\n                [/'/, 'string.invalid'],\n            ],\n            \n            // Whitespace and comments\n            whitespace: [\n                [/[ \\t\\r\\n]+/, 'white'],\n                [/--.*$/, 'comment'],\n            ],\n            string: [\n                [/[^\\\\\"]+/, 'string'],\n                [/@escapes/, 'string.escape'],\n                [/\\\\./, 'string.escape.invalid'],\n                [/\"/, 'string', '@pop'],\n            ],\n        },\n    };\n}\nmonaco.languages.register({id: 'ada'});\nmonaco.languages.setMonarchTokensProvider('ada', definition());\n\nexport {};\n","// Copyright (c) 2018, 2021, Arm Ltd & Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar monaco = require('monaco-editor');\nvar cpp = require('monaco-editor/esm/vs/basic-languages/cpp/cpp');\nvar nc = require('./nc-mode');\n\n// We need to create a new definition for OpenCL C so we can add keywords\n\nfunction definition() {\n    var openclc = $.extend(true, {}, nc); // deep copy\n\n    function removeKeyword(keyword) {\n        var index = openclc.keywords.indexOf(keyword);\n        if (index > -1) {\n            openclc.keywords.splice(index, 1);\n        }\n    }\n\n    function removeKeywords(keywords) {\n        for (var i = 0; i < keywords.length; ++i) {\n            removeKeyword(keywords[i]);\n        }\n    }\n\n    function addKeywords(keywords) {\n        // (Ruben) Done one by one as if you just push them all, Monaco complains that they're not strings, but as\n        // far as I can tell, they indeed are all strings. This somehow fixes it. If you know how to fix it, plz go\n        for (var i = 0; i < keywords.length; ++i) {\n            openclc.keywords.push(keywords[i]);\n        }\n    }\n\n    function vectorTypes(basename) {\n        return [basename + '2', basename + '3', basename + '4', basename + '8', basename + '16'];\n    }\n\n    removeKeywords([\n        'auto', 'register', '_Alignas', '_Alignof', '_Atomic', '_Bool', '_Complex', '_Generic', '_Imaginary',\n        '_Noreturn', '_Static_assert', '_Thread_local',\n    ]);\n\n    // Keywords for OpenCL C\n    addKeywords([\n        '__global', 'global', '__local', 'local', '__constant', 'constant', '__private', 'private',\n        '__generic', 'generic',\n        '__kernel', 'kernel',\n        'uniform', 'pipe',\n        '__read_only', 'read_only', '__write_only', 'write_only', '__read_write', 'read_write',\n        'bool', 'uchar', 'ushort', 'uint', 'ulong', 'half',\n        'cl_mem_fence_flags', 'event_t', 'reserve_id_t', 'ndrange_t', 'queue_t',\n        'image2d_t', 'image3d_t', 'image2d_array_t', 'image1d_t', 'image1d_array_t',\n        'image2d_depth_t', 'image1d_buffer_t', 'image2d_array_depth_t',\n        'sampler_t',\n        'uintptr_t', 'intptr_t', 'ptrdiff_t',\n        'size_t']);\n    addKeywords(vectorTypes('char'));\n    addKeywords(vectorTypes('short'));\n    addKeywords(vectorTypes('int'));\n    addKeywords(vectorTypes('long'));\n    addKeywords(vectorTypes('uchar'));\n    addKeywords(vectorTypes('ushort'));\n    addKeywords(vectorTypes('uint'));\n    addKeywords(vectorTypes('ulong'));\n    addKeywords(vectorTypes('half'));\n    addKeywords(vectorTypes('float'));\n    addKeywords(vectorTypes('double'));\n\n    openclc.floatsuffix = /[fFdDhH]?/;\n\n    return openclc;\n}\n\nmonaco.languages.register({id: 'openclc'});\nmonaco.languages.setLanguageConfiguration('openclc', cpp.conf);\nmonaco.languages.setMonarchTokensProvider('openclc', definition());\n\nexport {};\n","// Copyright (c) 2021, Tom Ritter\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\nvar FontScale = require('../fontscale').FontScale;\nvar monaco = require('monaco-editor');\nvar _ = require('underscore');\nvar $ = require('jquery');\nvar ga = require('../analytics').ga;\nvar monacoConfig = require('../monaco-config');\nvar local = require('../local');\n\nrequire('../modes/asm-mode');\n\nfunction Flags(hub, container, state) {\n    state = state || {};\n    this.container = container;\n    this.eventHub = hub.createEventHub();\n    this.domRoot = container.getElement();\n    this.domRoot.html($('#flags').html());\n    this.source = state.source || '';\n    var root = this.domRoot.find('.monaco-placeholder');\n\n    this.settings = JSON.parse(local.get('settings', '{}'));\n\n    var value = '';\n    if (state.compilerFlags) {\n        value = state.compilerFlags.replace(/ /g, '\\n');\n    }\n    this.editor = monaco.editor.create(root[0], monacoConfig.extendConfig({\n        value: value,\n        language: 'plaintext',\n        readOnly: false,\n        glyphMargin: true,\n    }));\n\n    this._compilerid = state.id;\n    this._compilerName = state.compilerName;\n\n    this.awaitingInitialResults = false;\n    this.selection = state.selection;\n\n    this.initButtons(state);\n    this.initCallbacks();\n\n    this.setTitle();\n    this.onSettingsChange(this.settings);\n    this.eventHub.emit('flagsViewOpened', this._compilerid);\n    ga.proxy('send', {\n        hitType: 'event',\n        eventCategory: 'OpenViewPane',\n        eventAction: 'detailedCompilerFlags',\n    });\n}\n\nFlags.prototype.initButtons = function (state) {\n    this.fontScale = new FontScale(this.domRoot, state, this.editor);\n\n    this.topBar = this.domRoot.find('.top-bar');\n};\n\nFlags.prototype.initCallbacks = function () {\n    this.fontScale.on('change', _.bind(this.updateState, this));\n\n    this.eventHub.on('compiler', this.onCompiler, this);\n    this.eventHub.on('compilerClose', this.onCompilerClose, this);\n    this.eventHub.on('settingsChange', this.onSettingsChange, this);\n    this.eventHub.on('resize', this.resize, this);\n    this.container.on('destroy', this.close, this);\n    this.eventHub.emit('requestSettings');\n    this.eventHub.emit('findCompilers');\n\n    this.container.on('resize', this.resize, this);\n    this.container.on('shown', this.resize, this);\n\n    this.container.layoutManager.on('initialised', function () {\n        // Once initialized, let everyone know what text we have.\n        this.maybeEmitChange();\n    }, this);\n    this.eventHub.on('initialised', this.maybeEmitChange, this);\n\n    this.editor.getModel().onDidChangeContent(_.bind(function () {\n        this.debouncedEmitChange();\n        this.updateState();\n    }, this));\n\n    this.cursorSelectionThrottledFunction =\n        _.throttle(_.bind(this.onDidChangeCursorSelection, this), 500);\n    this.editor.onDidChangeCursorSelection(_.bind(function (e) {\n        this.cursorSelectionThrottledFunction(e);\n    }, this));\n};\n\nFlags.prototype.getPaneName = function () {\n    return 'Detailed Compiler Flags ' + this._compilerName + ' (Compiler #' + this._compilerid + ')';\n};\n\nFlags.prototype.setTitle = function () {\n    this.container.setTitle(this.getPaneName());\n};\n\nFlags.prototype.onCompiler = function (id, compiler) {\n    if (id === this._compilerid) {\n        this._compilerName = compiler ? compiler.name : '';\n        this.setTitle();\n    }\n};\n\nFlags.prototype.resize = function () {\n    var topBarHeight = this.topBar.outerHeight(true);\n    this.editor.layout({\n        width: this.domRoot.width(),\n        height: this.domRoot.height() - topBarHeight,\n    });\n};\n\nFlags.prototype.updateState = function () {\n    this.container.setState(this.currentState());\n};\n\nFlags.prototype.currentState = function () {\n    var state = {\n        id: this._compilerid,\n        selection: this.selection,\n        compilerFlags: this.getOptions(),\n    };\n    this.fontScale.addState(state);\n    return state;\n};\n\nFlags.prototype.close = function () {\n    this.eventHub.unsubscribe();\n    this.eventHub.emit('flagsViewClosed', this._compilerid, this.getOptions());\n    this.editor.dispose();\n};\n\nFlags.prototype.onCompilerClose = function (id) {\n    if (id === this._compilerid) {\n        // We can't immediately close as an outer loop somewhere in GoldenLayout is iterating over\n        // the hierarchy. We can't modify while it's being iterated over.\n        this.close();\n        _.defer(function (self) {\n            self.container.close();\n        }, this);\n    }\n};\n\nFlags.prototype.onSettingsChange = function (newSettings) {\n    this.editor.updateOptions({\n        contextmenu: newSettings.useCustomContextMenu,\n        minimap: {\n            enabled: newSettings.showMinimap,\n        },\n        fontFamily: newSettings.editorsFFont,\n        fontLigatures: newSettings.editorsFLigatures,\n    });\n\n    this.debouncedEmitChange = _.debounce(_.bind(function () {\n        this.maybeEmitChange();\n    }, this), newSettings.delayAfterChange);\n};\n\nFlags.prototype.onDidChangeCursorSelection = function (e) {\n    if (this.awaitingInitialResults) {\n        this.selection = e.selection;\n        this.updateState();\n    }\n};\n\nFlags.prototype.getOptions = function () {\n    var lines = this.editor.getModel().getValue();\n    return lines.replace(/\\n/g, ' ');\n};\n\nFlags.prototype.maybeEmitChange = function (force) {\n    var options = this.getOptions();\n    if (!force && options === this.lastChangeEmitted) return;\n\n    this.lastChangeEmitted = options;\n    this.eventHub.emit('compilerFlagsChange', this._compilerid, this.lastChangeEmitted);\n};\n\nmodule.exports = {\n    Flags: Flags,\n};\n","// Copyright (c) 2016, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\nimport * as monaco from 'monaco-editor';\n\ntype AppTheme = 'default' | 'dark' | 'all';\n\ninterface ColourScheme {\n    name: string;\n    desc: string;\n    count: number;\n    themes: AppTheme[];\n}\n\n// If you want to use a scheme in every theme, set `theme: ['all']`\nexport const schemes: ColourScheme[] = [\n    {name: 'rainbow', desc: 'Rainbow 1', count: 12, themes: ['default']},\n    {name: 'rainbow2', desc: 'Rainbow 2', count: 12, themes: ['default']},\n    {name: 'earth', desc: 'Earth tones (colourblind safe)', count: 9, themes: ['default']},\n    {name: 'green-blue', desc: 'Greens and blues (colourblind safe)', count: 4, themes: ['default']},\n    {name: 'gray-shade', desc: 'Gray shades', count: 4, themes: ['dark']},\n    {name: 'rainbow-dark', desc: 'Dark Rainbow', count: 12, themes: ['dark']},\n];\n\nexport function applyColours(\n    editor: monaco.editor.ICodeEditor,\n    colours: Record<number, number>,\n    schemeName: string,\n    previousDecorations: string[],\n): string[] {\n    const scheme = schemes.find((scheme) => scheme.name === schemeName) ?? schemes[0];\n    const newDecorations: monaco.editor.IModelDeltaDecoration[] = Object.entries(colours)\n        .map(([line, index]) => {\n            const realLineNumber = parseInt(line) + 1;\n            return {\n                range: new monaco.Range(realLineNumber, 1, realLineNumber, 1),\n                options: {\n                    isWholeLine: true,\n                    className: 'line-linkage ' + scheme.name + '-' + (index % scheme.count),\n                },\n            };\n        });\n\n    return editor.deltaDecorations(previousDecorations, newDecorations);\n}\n","// Copyright (c) 2018, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar monaco = require('monaco-editor');\nvar cpp = require('monaco-editor/esm/vs/basic-languages/cpp/cpp');\n\n// We need to ensure we use proper keywords for the Monaco Editor matcher. Note how\n// https://github.com/Microsoft/monaco-languages/ lacks, as far as I can tell, proper C support. We cheat and use C++\nfunction definition() {\n    var nc = $.extend(true, {}, cpp.language); // deep copy\n    // https://en.cppreference.com/w/c/keyword\n    nc.keywords = ['auto', 'break', 'case', 'char', 'const', 'continue', 'default',\n        'do', 'double', 'else', 'enum', 'extern', 'float', 'for', 'goto', 'if', 'inline',\n        'int', 'long', 'register', 'restrict', 'return', 'short', 'signed', 'sizeof', 'static',\n        'struct', 'switch', 'typedef', 'union', 'unsigned', 'void', 'volatile', 'while',\n        '_Alignas', '_Alignof', '_Atomic', '_Bool', '_Complex', '_Generic', '_Imaginary',\n        '_Noreturn', '_Static_assert', '_Thread_local',\n    ];\n    return nc;\n}\n\nvar def = definition();\n\nmonaco.languages.register({id: 'nc'});\nmonaco.languages.setLanguageConfiguration('nc', cpp.conf);\nmonaco.languages.setMonarchTokensProvider('nc', def);\n\nexport = def;\n","// Copyright (c) 2021, Tom Ritter\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\nvar FontScale = require('../fontscale').FontScale;\nvar monaco = require('monaco-editor');\nvar _ = require('underscore');\nvar $ = require('jquery');\nvar ga = require('../analytics').ga;\nvar monacoConfig = require('../monaco-config');\nvar local = require('../local');\n\nrequire('../modes/asm-mode');\n\nfunction ToolInputView(hub, container, state) {\n    state = state || {};\n    this.container = container;\n    this.eventHub = hub.createEventHub();\n    this.domRoot = container.getElement();\n    this.domRoot.html($('#tool-input').html());\n    this.source = state.source || '';\n    var root = this.domRoot.find('.monaco-placeholder');\n\n    this.settings = JSON.parse(local.get('settings', '{}'));\n\n    this.editor = monaco.editor.create(root[0], monacoConfig.extendConfig({\n        value: '',\n        language: 'plaintext',\n        readOnly: false,\n        glyphMargin: true,\n    }));\n\n    this._toolId = state.toolId;\n    this._toolName = state.toolName;\n    this._compilerId = state.compilerId;\n    this.selection = state.selection || '';\n    this.shouldSetSelectionInitially = !!this.selection;\n\n    this.initButtons(state);\n    this.initCallbacks();\n\n    this.setTitle();\n    this.onSettingsChange(this.settings);\n    this.eventHub.emit('toolInputViewOpened', this._toolid);\n    ga.proxy('send', {\n        hitType: 'event',\n        eventCategory: 'OpenViewPane',\n        eventAction: 'toolInputView',\n    });\n}\n\nToolInputView.prototype.initButtons = function (state) {\n    this.fontScale = new FontScale(this.domRoot, state, this.editor);\n\n    this.topBar = this.domRoot.find('.top-bar');\n};\n\nToolInputView.prototype.initCallbacks = function () {\n    this.fontScale.on('change', _.bind(this.updateState, this));\n\n    this.eventHub.on('compilerClose', this.onCompilerClose, this);\n    this.eventHub.on('toolClosed', this.onToolClose, this);\n    this.eventHub.on('toolInputViewCloseRequest', this.onToolInputViewCloseRequest, this);\n    this.eventHub.on('settingsChange', this.onSettingsChange, this);\n    this.eventHub.on('setToolInput', this.onSetToolInput, this);\n\n    this.container.on('resize', this.resize, this);\n    this.container.on('shown', this.resize, this);\n    this.container.on('destroy', this.close, this);\n\n    this.container.layoutManager.on('initialised', function () {\n        // Once initialized, let everyone know what text we have.\n        this.maybeEmitChange();\n    }, this);\n    this.eventHub.on('initialised', this.maybeEmitChange, this);\n\n    this.editor.getModel().onDidChangeContent(_.bind(function () {\n        this.debouncedEmitChange();\n        this.updateState();\n    }, this));\n\n    this.cursorSelectionThrottledFunction =\n        _.throttle(_.bind(this.onDidChangeCursorSelection, this), 500);\n    this.editor.onDidChangeCursorSelection(_.bind(function (e) {\n        this.cursorSelectionThrottledFunction(e);\n    }, this));\n};\n\nToolInputView.prototype.getPaneName =  function () {\n    return 'Tool Input ' + this._toolName + ' (Compiler #' + this._compilerId + ')';\n};\n\nToolInputView.prototype.setTitle = function () {\n    this.container.setTitle(this.getPaneName());\n};\n\nToolInputView.prototype.resize = function () {\n    var topBarHeight = this.topBar.outerHeight(true);\n    this.editor.layout({\n        width: this.domRoot.width(),\n        height: this.domRoot.height() - topBarHeight,\n    });\n};\n\nToolInputView.prototype.updateState = function () {\n    this.container.setState(this.currentState());\n};\n\nToolInputView.prototype.currentState = function () {\n    var state = {\n        toolId: this._toolId,\n        toolName: this._toolName,\n        compilerId: this._compilerId,\n        selection: this.selection,\n    };\n    this.fontScale.addState(state);\n    return state;\n};\n\nToolInputView.prototype.close = function () {\n    this.eventHub.unsubscribe();\n    this.eventHub.emit('toolInputViewClosed', this._compilerId, this._toolId, this.getInput());\n    this.editor.dispose();\n};\n\nToolInputView.prototype.onToolClose = function (compilerId, toolSettings) {\n    if (this._compilerId === compilerId && this._toolId === toolSettings.toolId) {\n        // We can't immediately close as an outer loop somewhere in GoldenLayout is iterating over\n        // the hierarchy. We can't modify while it's being iterated over.\n        this.close();\n        _.defer(function (self) {\n            self.container.close();\n        }, this);\n    }\n};\n\nToolInputView.prototype.onToolInputViewCloseRequest = function (compilerId, toolId) {\n    if (this._compilerId === compilerId && this._toolId === toolId) {\n        this.close();\n        _.defer(function (self) {\n            self.container.close();\n        }, this);\n    }\n};\n\nToolInputView.prototype.onCompilerClose = function (id) {\n    if (id === this._compilerId) {\n        // We can't immediately close as an outer loop somewhere in GoldenLayout is iterating over\n        // the hierarchy. We can't modify while it's being iterated over.\n        this.close();\n        _.defer(function (self) {\n            self.container.close();\n        }, this);\n    }\n};\n\nToolInputView.prototype.onSettingsChange = function (newSettings) {\n    this.editor.updateOptions({\n        contextmenu: newSettings.useCustomContextMenu,\n        minimap: {\n            enabled: newSettings.showMinimap,\n        },\n        fontFamily: newSettings.editorsFFont,\n        fontLigatures: newSettings.editorsFLigatures,\n    });\n\n    this.debouncedEmitChange = _.debounce(_.bind(function () {\n        this.maybeEmitChange();\n    }, this), newSettings.delayAfterChange);\n};\n\nToolInputView.prototype.onDidChangeCursorSelection = function (e) {\n    // On initialization this callback fires with the default selection\n    // overwriting any selection from state. If we are awaiting initial\n    // selection setting then don't update our selection.\n    if (!this.shouldSetSelectionInitially) {\n        this.selection = e.selection;\n        this.updateState();\n    }\n};\n\nToolInputView.prototype.onSetToolInput = function (compilerId, toolId, value) {\n    if (this._compilerId === compilerId && this._toolId === toolId) {\n        var ret = this.editor.getModel().setValue(value);\n        if (this.shouldSetSelectionInitially && this.selection) {\n            this.editor.setSelection(this.selection);\n            this.editor.revealLinesInCenter(\n                this.selection.startLineNumber, this.selection.endLineNumber);\n            this.shouldSetSelectionInitially = false;\n        }\n        return ret;\n    }\n};\n\nToolInputView.prototype.getInput = function () {\n    if (!this.editor.getModel()) {\n        return '';\n    }\n    return this.editor.getModel().getValue();\n};\n\nToolInputView.prototype.maybeEmitChange = function (force) {\n    var input = this.getInput();\n    if (!force && input === this.lastChangeEmitted) return;\n\n    this.lastChangeEmitted = input;\n    this.eventHub.emit('toolInputChange', this._compilerId, this._toolId, this.lastChangeEmitted);\n};\n\nmodule.exports = {\n    ToolInputView: ToolInputView,\n};\n","// Copyright (c) 2021, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar monaco = require('monaco-editor');\nvar cpp = require('monaco-editor/esm/vs/basic-languages/cpp/cpp');\nvar cppp = require('./cppp-mode');\n\n// circle is c++ with a few extra '@'-prefixed keywords.\n\nfunction definition() {\n    var cppcircle = $.extend(true, {}, cppp); // deep copy\n\n    function addKeywords(keywords) {\n        // (Ruben) Done one by one as if you just push them all, Monaco complains that they're not strings, but as\n        // far as I can tell, they indeed are all strings. This somehow fixes it. If you know how to fix it, plz go\n        for (var i = 0; i < keywords.length; ++i) {\n            cppcircle.keywords.push(keywords[i]);\n        }\n    }\n\n    addKeywords(['@array', '@attribute', '@base_count', '@base_offset', '@base_offsets', '@base_type',\n        '@base_type_string', '@base_type_strings', '@base_types', '@base_value', '@base_values', '@codegen',\n        '@data', '@decl_string', '@dynamic_type', '@embed', '@emit', '@enum_attribute', '@enum_attributes',\n        '@enum_count', '@enum_decl_string', '@enum_decl_strings', '@enum_has_attribute', '@enum_name', '@enum_names',\n        '@enum_type', '@enum_type_string', '@enum_type_strings', '@enum_types', '@enum_value', '@enum_values',\n        '@expand_params', '@expression', '@files', '@func_decl', '@has_attribute', '@include', '@is_class_template',\n        '@macro', '@match', '@mauto', '@member', '@member_count', '@member_decl_string', '@member_decl_strings',\n        '@member_default', '@member_has_attribute', '@member_has_default', '@member_name', '@member_names',\n        '@member_offset', '@member_offsets', '@member_ptr', '@member_ptrs', '@member_type', '@member_type_string',\n        '@member_type_strings', '@member_types', '@member_value', '@member_values', '@meta', '@method_count',\n        '@method_name', '@method_params', '@method_type', '@mtype', '@mtypes', '@mvoid', '@op', '@pack_nontype',\n        '@pack_type', '@parse_expression', '@puts', '@range', '@sfinae', '@statements', '@static_type', '@string',\n        '@tattribute', '@type_enum', '@type_id', '@type_name', '@type_string']);\n\n    // Hack to put `@...` keywords in place\n    cppcircle.tokenizer.root.unshift(\n        [/@\\w+/, {cases: {'@keywords': {token: 'keyword.$0'}}}]\n    );\n\n    return cppcircle;\n}\n\nmonaco.languages.register({ id: 'cppcircle' });\nmonaco.languages.setLanguageConfiguration('cppcircle', cpp.conf);\nmonaco.languages.setMonarchTokensProvider('cppcircle', definition());\n\nexport {};\n","// Copyright (c) 2016, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\n// setup analytics before anything else so we can capture any future errors in sentry\nvar analytics = require('./analytics').ga;\n\nrequire('whatwg-fetch');\n// eslint-disable-next-line requirejs/no-js-extension\nrequire('popper.js');\nrequire('bootstrap');\n\nvar Sharing = require('./sharing').Sharing;\nvar _ = require('underscore');\nvar $ = require('jquery');\nvar GoldenLayout = require('golden-layout');\nvar Components = require('./components');\nvar url = require('./url');\nvar clipboard = require('clipboard');\nvar Hub = require('./hub').Hub;\nvar Sentry = require('@sentry/browser');\nvar Settings = require('./settings');\nvar local = require('./local');\nvar Alert = require('./alert').Alert;\nvar themer = require('./themes');\nvar motd = require('./motd');\nvar jsCookie = require('js-cookie');\nvar SimpleCook = require('./simplecook').SimpleCook;\nvar HistoryWidget = require('./history-widget').HistoryWidget;\nvar History = require('./history');\nvar presentation = require('./presentation');\n\n//css\nrequire('bootstrap/dist/css/bootstrap.min.css');\nrequire('golden-layout/src/css/goldenlayout-base.css');\nrequire('tom-select/dist/css/tom-select.bootstrap4.css');\nrequire('./colours.scss');\nrequire('./explorer.scss');\n\n// Check to see if the current unload is a UI reset.\n// Forgive me the global usage here\nvar hasUIBeenReset = false;\nvar simpleCooks = new SimpleCook();\nvar historyWidget = new HistoryWidget();\n\n// Polyfill includes for IE11 - From MDN\nif (!String.prototype.includes) {\n    String.prototype.includes = function (search, start) {\n        if (search instanceof RegExp) {\n            throw TypeError('first argument must not be a RegExp');\n        }\n        if (start === undefined) {\n            start = 0;\n        }\n        return this.indexOf(search, start) !== -1;\n    };\n}\n\nfunction setupSettings(hub) {\n    var eventHub = hub.layout.eventHub;\n    var defaultSettings = {\n        defaultLanguage: hub.defaultLangId,\n    };\n    var currentSettings = JSON.parse(local.get('settings', null)) || defaultSettings;\n\n    function onChange(newSettings) {\n        if (currentSettings.theme !== newSettings.theme) {\n            analytics.proxy('send', {\n                hitType: 'event',\n                eventCategory: 'ThemeChange',\n                eventAction: newSettings.theme,\n            });\n        }\n        if (currentSettings.colourScheme !== newSettings.colourScheme) {\n            analytics.proxy('send', {\n                hitType: 'event',\n                eventCategory: 'ColourSchemeChange',\n                eventAction: newSettings.colourScheme,\n            });\n        }\n        $('#settings').find('.editorsFFont').css('font-family', newSettings.editorsFFont);\n        currentSettings = newSettings;\n        local.set('settings', JSON.stringify(newSettings));\n        eventHub.emit('settingsChange', newSettings);\n    }\n\n    new themer.Themer(eventHub, currentSettings);\n\n    eventHub.on('requestSettings', function () {\n        eventHub.emit('settingsChange', currentSettings);\n    });\n\n    var setSettings = Settings.init($('#settings'), currentSettings, onChange, hub.subdomainLangId);\n    eventHub.on('modifySettings', function (newSettings) {\n        setSettings(_.extend(currentSettings, newSettings));\n    });\n    return currentSettings;\n}\n\nfunction hasCookieConsented(options) {\n    return jsCookie.get(options.policies.cookies.key) === options.policies.cookies.hash;\n}\n\nfunction isMobileViewer() {\n    return window.compilerExplorerOptions.mobileViewer;\n}\n\nfunction calcLocaleChangedDate(policyModal) {\n    var timestamp = policyModal.find('#changed-date');\n    timestamp.text(new Date(timestamp.attr('datetime')).toLocaleString());\n}\n\nfunction setupButtons(options) {\n    var alertSystem = new Alert();\n\n    // I'd like for this to be the only function used, but it gets messy to pass the callback function around,\n    // so we instead trigger a click here when we want it to open with this effect. Sorry!\n    if (options.policies.privacy.enabled) {\n        $('#privacy').on('click', function (event, data) {\n            var modal = alertSystem.alert(\n                data && data.title ? data.title : 'Privacy policy',\n                require('./policies/privacy.html')\n            );\n            calcLocaleChangedDate(modal);\n            // I can't remember why this check is here as it seems superfluous\n            if (options.policies.privacy.enabled) {\n                jsCookie.set(options.policies.privacy.key, options.policies.privacy.hash, {\n                    expires: 365, sameSite: 'strict',\n                });\n            }\n        });\n    }\n\n    if (options.policies.cookies.enabled) {\n        var getCookieTitle = function () {\n            return 'Cookies &amp; related technologies policy<br><p>Current consent status: <span style=\"color:' +\n                (hasCookieConsented(options) ? 'green' : 'red') + '\">' +\n                (hasCookieConsented(options) ? 'Granted' : 'Denied') + '</span></p>';\n        };\n        $('#cookies').on('click', function () {\n            var modal = alertSystem.ask(getCookieTitle(), $(require('./policies/cookies.html')), {\n                yes: function () {\n                    simpleCooks.callDoConsent.apply(simpleCooks);\n                },\n                yesHtml: 'Consent',\n                no: function () {\n                    simpleCooks.callDontConsent.apply(simpleCooks);\n                },\n                noHtml: 'Do NOT consent',\n            });\n            calcLocaleChangedDate(modal);\n        });\n    }\n\n    $('#ui-reset').on('click', function () {\n        local.remove('gl');\n        hasUIBeenReset = true;\n        window.history.replaceState(null, null, window.httpRoot);\n        window.location.reload();\n    });\n\n    $('#ui-duplicate').on('click', function () {\n        window.open('/', '_blank');\n    });\n\n    $('#changes').on('click', function () {\n        alertSystem.alert('Changelog', $(require('./changelog.html')));\n    });\n\n    $('#ces').on('click', function () {\n        $.get(window.location.origin + window.httpRoot + 'bits/sponsors.html')\n            .done(function (data) {\n                alertSystem.alert('Compiler Explorer Sponsors', data);\n                analytics.proxy('send', {\n                    hitType: 'event',\n                    eventCategory: 'Sponsors',\n                    eventAction: 'open',\n                });\n            })\n            .fail(function (err) {\n                var result = err.responseText || JSON.stringify(err);\n                alertSystem.alert('Compiler Explorer Sponsors',\n                    '<div>Unable to fetch sponsors:</div><div>' + result + '</div>');\n            });\n    });\n\n    $('#ui-history').on('click', function () {\n        historyWidget.run(function (data) {\n            local.set('gl', JSON.stringify(data.config));\n            hasUIBeenReset = true;\n            window.history.replaceState(null, null, window.httpRoot);\n            window.location.reload();\n        });\n\n        $('#history').modal();\n    });\n\n    if (isMobileViewer() && window.compilerExplorerOptions.slides && window.compilerExplorerOptions.slides.length > 1) {\n        $('#share').remove();\n        $('.ui-presentation-control').removeClass('d-none');\n        $('.ui-presentation-first').click(presentation.first);\n        $('.ui-presentation-prev').click(presentation.prev);\n        $('.ui-presentation-next').click(presentation.next);\n    }\n}\n\nfunction configFromEmbedded(embeddedUrl) {\n    // Old-style link?\n    var params;\n    try {\n        params = url.unrisonify(embeddedUrl);\n    } catch (e) {\n        // Ignore this, it's not a problem\n    }\n    if (params && params.source && params.compiler) {\n        var filters = _.chain((params.filters || '').split(','))\n            .map(function (o) {\n                return [o, true];\n            })\n            .object()\n            .value();\n        return {\n            content: [\n                {\n                    type: 'row',\n                    content: [\n                        Components.getEditorWith(1, params.source, filters),\n                        Components.getCompilerWith(1, filters, params.options, params.compiler),\n                    ],\n                },\n            ],\n        };\n    } else {\n        return url.deserialiseState(embeddedUrl);\n    }\n}\n\nfunction fixBugsInConfig(config) {\n    if (config.activeItemIndex && config.activeItemIndex >= config.content.length) {\n        config.activeItemIndex = config.content.length - 1;\n    }\n\n    _.each(config.content, function (item) {\n        fixBugsInConfig(item);\n    });\n}\n\nfunction findConfig(defaultConfig, options) {\n    var config;\n    if (!options.embedded) {\n        if (options.slides) {\n            presentation.init(window.compilerExplorerOptions.slides.length);\n            var currentSlide = presentation.getCurrentSlide();\n            if (currentSlide < options.slides.length) {\n                config = options.slides[currentSlide];\n            } else {\n                presentation.setCurrentSlide(0);\n                config = options.slides[0];\n            }\n        } else {\n            if (options.config) {\n                config = options.config;\n            } else {\n                config = url.deserialiseState(window.location.hash.substr(1));\n            }\n\n            if (config) {\n                // replace anything in the default config with that from the hash\n                config = _.extend(defaultConfig, config);\n            }\n            if (!config) {\n                var savedState = local.get('gl', null);\n                config = savedState !== null ? JSON.parse(savedState) : defaultConfig;\n            }\n        }\n    } else {\n        config = _.extend(defaultConfig, {\n            settings: {\n                showMaximiseIcon: false,\n                showCloseIcon: false,\n                hasHeaders: false,\n            },\n        }, configFromEmbedded(window.location.hash.substr(1)));\n    }\n\n    removeOrphanedMaximisedItemFromConfig(config);\n    fixBugsInConfig(config);\n\n    return config;\n}\n\nfunction initializeResetLayoutLink() {\n    var currentUrl = document.URL;\n    if (currentUrl.includes('/z/')) {\n        $('#ui-brokenlink')\n            .attr('href', currentUrl.replace('/z/', '/resetlayout/'))\n            .show();\n    } else {\n        $('#ui-brokenlink').hide();\n    }\n}\n\nfunction initPolicies(options) {\n    if (options.policies.privacy.enabled) {\n        if (jsCookie.get(options.policies.privacy.key) == null) {\n            $('#privacy').trigger('click', {\n                title: 'New Privacy Policy. Please take a moment to read it',\n            });\n        } else if (options.policies.privacy.hash !== jsCookie.get(options.policies.privacy.key)) {\n            // When the user has already accepted the privacy, just show a pretty notification.\n            var ppolicyBellNotification = $('#policyBellNotification');\n            var pprivacyBellNotification = $('#privacyBellNotification');\n            var pcookiesBellNotification = $('#cookiesBellNotification');\n            ppolicyBellNotification.removeClass('d-none');\n            pprivacyBellNotification.removeClass('d-none');\n            $('#privacy').on('click', function () {\n                // Only hide if the other policy does not also have a bell\n                if (pcookiesBellNotification.hasClass('d-none')) {\n                    ppolicyBellNotification.addClass('d-none');\n                }\n                pprivacyBellNotification.addClass('d-none');\n            });\n        }\n    }\n    simpleCooks.setOnDoConsent(function () {\n        jsCookie.set(options.policies.cookies.key, options.policies.cookies.hash, {\n            expires: 365, sameSite: 'strict',\n        });\n        analytics.toggle(true);\n    });\n    simpleCooks.setOnDontConsent(function () {\n        analytics.toggle(false);\n        jsCookie.set(options.policies.cookies.key, '', {\n            sameSite: 'strict',\n        });\n    });\n    simpleCooks.setOnHide(function () {\n        var spolicyBellNotification = $('#policyBellNotification');\n        var sprivacyBellNotification = $('#privacyBellNotification');\n        var scookiesBellNotification = $('#cookiesBellNotification');\n        // Only hide if the other policy does not also have a bell\n        if (sprivacyBellNotification.hasClass('d-none')) {\n            spolicyBellNotification.addClass('d-none');\n        }\n        scookiesBellNotification.addClass('d-none');\n        $(window).trigger('resize');\n    });\n    // '' means no consent. Hash match means consent of old. Null means new user!\n    var storedCookieConsent = jsCookie.get(options.policies.cookies.key);\n    if (options.policies.cookies.enabled) {\n        if (storedCookieConsent !== '' && options.policies.cookies.hash !== storedCookieConsent) {\n            simpleCooks.show();\n            var cpolicyBellNotification = $('#policyBellNotification');\n            var cprivacyBellNotification = $('#privacyBellNotification');\n            var ccookiesBellNotification = $('#cookiesBellNotification');\n            cpolicyBellNotification.removeClass('d-none');\n            ccookiesBellNotification.removeClass('d-none');\n            $('#cookies').on('click', function () {\n                if (cprivacyBellNotification.hasClass('d-none')) {\n                    cpolicyBellNotification.addClass('d-none');\n                }\n                ccookiesBellNotification.addClass('d-none');\n            });\n        } else if (hasCookieConsented(options)) {\n            analytics.initialise();\n        }\n    }\n}\n\n/*\n * this nonsense works around a bug in goldenlayout where a config can be generated\n * that contains a flag indicating there is a maximized item which does not correspond\n * to any items that actually exist in the config.\n *\n * See https://github.com/compiler-explorer/compiler-explorer/issues/2056\n */\nfunction removeOrphanedMaximisedItemFromConfig(config) {\n    // nothing to do if the maximised item id is not set\n    if (config.maximisedItemId !== '__glMaximised') return;\n\n    var found = false;\n\n    function impl(component) {\n        if (component.id === '__glMaximised') {\n            found = true;\n            return;\n        }\n\n        if (component.content) {\n            for (var i = 0; i < component.content.length; i++) {\n                impl(component.content[i]);\n                if (found) return;\n            }\n        }\n    }\n\n    impl(config);\n\n    if (!found) {\n        config.maximisedItemId = null;\n    }\n}\n\n// eslint-disable-next-line max-statements\nfunction start() {\n    initializeResetLayoutLink();\n\n    var options = require('options').options;\n\n    var hostnameParts = window.location.hostname.split('.');\n    var subLangId = undefined;\n    // Only set the subdomain lang id if it makes sense to do so\n    if (hostnameParts.length > 0) {\n        var subdomainPart = hostnameParts[0];\n        var langBySubdomain = _.find(options.languages, function (lang) {\n            return lang.id === subdomainPart || lang.alias.indexOf(subdomainPart) !== -1;\n        });\n        if (langBySubdomain) {\n            subLangId = langBySubdomain.id;\n        }\n    }\n    var defaultLangId = subLangId;\n    if (!defaultLangId) {\n        if (options.languages['c++']) {\n            defaultLangId = 'c++';\n        } else {\n            defaultLangId = _.keys(options.languages)[0];\n        }\n    }\n\n    // Cookie domains are matched as a RE against the window location. This allows a flexible\n    // way that works across multiple domains (e.g. godbolt.org and compiler-explorer.com).\n    // We allow this to be configurable so that (for example), gcc.godbolt.org and d.godbolt.org\n    // share the same cookie domain for some settings.\n    var cookieDomain = new RegExp(options.cookieDomainRe).exec(window.location.hostname);\n    if (cookieDomain && cookieDomain[0]) {\n        cookieDomain = cookieDomain[0];\n        jsCookie.defaults.domain = cookieDomain;\n    }\n\n    var defaultConfig = {\n        settings: {showPopoutIcon: false},\n        content: [{\n            type: 'row',\n            content: [\n                Components.getEditor(1, defaultLangId),\n                Components.getCompiler(1, defaultLangId),\n            ],\n        }],\n    };\n\n    $(window).bind('hashchange', function () {\n        // punt on hash events and just reload the page if there's a hash\n        if (window.location.hash.substr(1)) window.location.reload();\n    });\n\n    // Which buttons act as a linkable popup\n    var linkablePopups = ['#ces', '#sponsors', '#changes', '#cookies', '#setting', '#privacy'];\n    var hashPart = linkablePopups.indexOf(window.location.hash) > -1 ? window.location.hash : null;\n    if (hashPart) {\n        window.location.hash = '';\n        // Handle the time we renamed sponsors to ces to work around issues with blockers.\n        if (hashPart === '#sponsors') hashPart = '#ces';\n    }\n\n    var config = findConfig(defaultConfig, options);\n\n    var root = $('#root');\n\n    var layout;\n    var hub;\n    try {\n        layout = new GoldenLayout(config, root);\n        hub = new Hub(layout, subLangId, defaultLangId);\n    } catch (e) {\n        Sentry.captureException(e);\n\n        if (document.URL.includes('/z/')) {\n            document.location = document.URL.replace('/z/', '/resetlayout/');\n        }\n\n        layout = new GoldenLayout(defaultConfig, root);\n        hub = new Hub(layout, subLangId, defaultLangId);\n    }\n\n    if (hub.hasTree()) {\n        $('#add-tree').prop('disabled', true);\n    }\n\n    function sizeRoot() {\n        var height = $(window).height() - (root.position().top || 0) - ($('#simplecook:visible').height() || 0);\n        root.height(height);\n        layout.updateSize();\n    }\n\n    $(window)\n        .resize(sizeRoot)\n        .on('beforeunload', function () {\n            // Only preserve state in localStorage in non-embedded mode.\n            var shouldSave = !window.hasUIBeenReset && !hasUIBeenReset;\n            if (!options.embedded && !isMobileViewer() && shouldSave) {\n                local.set('gl', JSON.stringify(layout.toConfig()));\n            }\n        });\n\n    new clipboard('.btn.clippy');\n\n    var settings = setupSettings(hub);\n\n    // We assume no consent for embed users\n    if (!options.embedded) {\n        setupButtons(options);\n    }\n\n    var addDropdown = $('#addDropdown');\n\n    function setupAdd(thing, func) {\n        layout.createDragSource(thing, func)\n            ._dragListener.on('dragStart', function () {\n                addDropdown.dropdown('toggle');\n            });\n\n        thing.click(function () {\n            if (hub.hasTree()) {\n                hub.addInEditorStackIfPossible(func());\n            } else {\n                hub.addAtRoot(func());\n            }\n        });\n    }\n\n    setupAdd($('#add-editor'), function () {\n        return Components.getEditor();\n    });\n    setupAdd($('#add-diff'), function () {\n        return Components.getDiff();\n    });\n    setupAdd($('#add-tree'), function () {\n        $('#add-tree').prop('disabled', true);\n        return Components.getTree();\n    });\n\n    if (hashPart) {\n        var element = $(hashPart);\n        if (element) element.click();\n    }\n    initPolicies(options);\n\n    // Skip some steps if using embedded mode\n    if (!options.embedded) {\n        // Only fetch MOTD when not embedded.\n        motd.initialise(options.motdUrl, $('#motd'), subLangId, settings.enableCommunityAds,\n            function (data) {\n                var sendMotd = function () {\n                    hub.layout.eventHub.emit('motd', data);\n                };\n                hub.layout.eventHub.on('requestMotd', sendMotd);\n                sendMotd();\n            },\n            function () {\n                hub.layout.eventHub.emit('modifySettings', {\n                    enableCommunityAds: false,\n                });\n            });\n\n        // Don't try to update Version tree link\n        var release = window.compilerExplorerOptions.gitReleaseCommit;\n        var versionLink = 'https://github.com/compiler-explorer/compiler-explorer/';\n        if (release) {\n            versionLink += 'tree/' + release;\n        }\n        $('#version-tree').prop('href', versionLink);\n    }\n\n    if (options.hideEditorToolbars) {\n        $('[name=\"editor-btn-toolbar\"]').addClass('d-none');\n    }\n\n    window.onSponsorClick = function (sponsor) {\n        analytics.proxy('send', {\n            hitType: 'event',\n            eventCategory: 'Sponsors',\n            eventAction: 'click',\n            eventLabel: sponsor.url,\n            transport: 'beacon',\n        });\n        window.open(sponsor.url);\n    };\n\n    if (options.pageloadUrl) {\n        setTimeout(function () {\n            var visibleIcons = $('.ces-icon:visible').map(function (index, value) {\n                return value.dataset.statsid;\n            }).get().join(',');\n            $.post(options.pageloadUrl + '?icons=' + encodeURIComponent(visibleIcons));\n        }, 5000);\n    }\n\n    sizeRoot();\n\n    History.trackHistory(layout);\n    new Sharing(layout);\n}\n\n$(start);\n","// Copyright (c) 2016, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar saveAs = require('file-saver').saveAs;\nvar Alert = require('./alert').Alert;\nvar local = require('./local');\nvar Promise = require('es6-promise').Promise;\nvar ga = require('./analytics').ga;\nvar history = require('./history');\n\nfunction getLocalFiles() {\n    return JSON.parse(local.get('files', '{}'));\n}\n\nfunction setLocalFile(name, file) {\n    var files = getLocalFiles();\n    files[name] = file;\n    local.set('files', JSON.stringify(files));\n}\n\nfunction LoadSave() {\n    this.modal = null;\n    this.alertSystem = new Alert();\n    this.alertSystem.prefixMessage = 'Load-Saver: ';\n    this.onLoad = _.identity;\n    this.editorText = '';\n    this.extension = '.txt';\n    this.base = window.httpRoot;\n    this.fetchBuiltins()\n        .then(function () {\n        })\n        .catch(function () {\n            // swallow up errors\n        });\n}\n\nLoadSave.prototype.initializeIfNeeded = function () {\n    if ((this.modal === null) || (this.modal.length === 0)) {\n        this.modal = $('#load-save');\n\n        this.modal.find('.local-file').change(_.bind(this.onLocalFile, this));\n        this.modal.find('.save-button').click(_.bind(this.onSaveToBrowserStorage, this));\n        this.modal.find('.save-file').click(_.bind(this.onSaveToFile, this));\n    }\n};\n\nLoadSave.prototype.fetchBuiltins = function () {\n    return new Promise(_.bind(function (resolve) {\n        $.getJSON(window.location.origin + this.base + 'source/builtin/list', function (list) {\n            resolve(list);\n        });\n    }, this));\n};\n\nLoadSave.prototype.populateBuiltins = function () {\n    var isVisible = _.bind(function (entry) {\n        return this.currentLanguage && this.currentLanguage.id === entry.lang;\n    }, this);\n    return this.fetchBuiltins()\n        .then(_.bind(function (builtins) {\n            this.populate(this.modal.find('.examples'),\n                _.map(_.filter(builtins, isVisible), _.bind(function (elem) {\n                    return {\n                        name: elem.name,\n                        load: _.bind(function () {\n                            this.doLoad(elem);\n                        }, this),\n                    };\n                }, this))\n            );\n        }, this));\n};\n\nLoadSave.prototype.populateLocalStorage = function () {\n    this.populate(\n        this.modal.find('.local-storage'),\n        _.map(getLocalFiles(), _.bind(function (data, name) {\n            return {\n                name: name,\n                load: _.bind(function () {\n                    this.onLoad(data);\n                    this.modal.modal('hide');\n                }, this),\n            };\n        }, this)));\n};\n\nLoadSave.prototype.populateLocalHistory = function () {\n    this.populate(\n        this.modal.find('.local-history'),\n        _.map(history.sources(this.currentLanguage.id), _.bind(function (data) {\n            var dt = new Date(data.dt);\n            return {\n                name: dt.toString().replace(/\\s\\(.*\\)/, ''),\n                load: _.bind(function () {\n                    this.onLoad(data.source);\n                    this.modal.modal('hide');\n                }, this),\n            };\n        }, this)));\n};\n\nLoadSave.prototype.populate = function (root, list) {\n    root.find('li:not(.template)').remove();\n    var template = root.find('.template');\n    _.each(list, _.bind(function (elem) {\n        template\n            .clone()\n            .removeClass('template')\n            .appendTo(root)\n            .find('a')\n            .text(elem.name)\n            .click(elem.load);\n    }, this));\n};\n\nLoadSave.prototype.onLocalFile = function (event) {\n    var files = event.target.files;\n    if (files.length !== 0) {\n        var file = files[0];\n        var reader = new FileReader();\n        reader.onload = _.bind(function () {\n            this.onLoad(reader.result, file.name);\n        }, this);\n        reader.readAsText(file);\n    }\n    this.modal.modal('hide');\n};\n\nLoadSave.prototype.run = function (onLoad, editorText, currentLanguage) {\n    this.initializeIfNeeded();\n    this.populateLocalStorage();\n    this.setMinimalOptions(editorText, currentLanguage);\n    this.populateLocalHistory();\n    this.onLoad = onLoad;\n    this.modal.find('.local-file').attr('accept', _.map(currentLanguage.extensions, function (extension) {\n        return extension + ', ';\n    }, this));\n    this.populateBuiltins().then(_.bind(function () {\n        this.modal.modal();\n    }, this));\n    ga.proxy('send', {\n        hitType: 'event',\n        eventCategory: 'OpenModalPane',\n        eventAction: 'LoadSave',\n    });\n};\n\nLoadSave.prototype.onSaveToBrowserStorage = function () {\n    var name = this.modal.find('.save-name').val();\n    if (!name) {\n        this.alertSystem.alert('Save name', 'Invalid save name');\n        return;\n    }\n    name += ' (' + this.currentLanguage.name + ')';\n    var done = _.bind(function () {\n        setLocalFile(name, this.editorText);\n    }, this);\n    if (getLocalFiles()[name] !== undefined) {\n        this.modal.modal('hide');\n        this.alertSystem.ask(\n            'Replace current?',\n            'Do you want to replace the existing saved file \\'' + name + '\\'?',\n            {yes: done});\n    } else {\n        done();\n        this.modal.modal('hide');\n    }\n};\n\nLoadSave.prototype.setMinimalOptions = function (editorText, currentLanguage) {\n    this.editorText = editorText;\n    this.currentLanguage = currentLanguage;\n    this.extension = currentLanguage.extensions[0] || '.txt';\n};\n\nLoadSave.prototype.onSaveToFile = function (fileEditor) {\n    try {\n        var fileLang = this.currentLanguage.name;\n        var name = fileLang !== undefined && fileEditor !== undefined ?\n            (fileLang + ' Editor #' + fileEditor + ' ') : '';\n        saveAs(\n            new Blob([this.editorText], {type: 'text/plain;charset=utf-8'}),\n            'Compiler Explorer ' + name + 'Code' + this.extension);\n        return true;\n    } catch (e) {\n        this.alertSystem.notify('Error while saving your code. Use the clipboard instead.', {\n            group: 'savelocalerror',\n            alertClass: 'notification-error',\n            dismissTime: 5000,\n        });\n        return false;\n    }\n};\n\nLoadSave.prototype.doLoad = function (element) {\n    // TODO: handle errors. consider promises...\n    $.getJSON(window.location.origin + this.base + 'source/builtin/load/' + element.lang + '/' + element.file,\n        _.bind(function (response) {\n            this.onLoad(response.file);\n        }, this));\n    this.modal.modal('hide');\n};\n\n\nmodule.exports = {LoadSave: LoadSave};\n","// Copyright (c) 2021, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\ntype SimpleCookieCallback = () => void;\n\nexport class SimpleCook {\n    private onDoConsent: SimpleCookieCallback = () => undefined;\n    private onDontConsent: SimpleCookieCallback = () => undefined;\n    private onHide: SimpleCookieCallback = () => undefined;\n    private readonly elem: JQuery;\n\n    public constructor() {\n        this.elem = $('#simplecook');\n        this.elem.hide();\n\n        this.elem.find('.cookies').on('click', () => {\n            $('#cookies').trigger('click');\n        });\n        this.elem.find('.cook-do-consent').on('click', this.callDoConsent.bind(this));\n        this.elem.find('.cook-dont-consent').on('click', this.callDontConsent.bind(this));\n    }\n\n    public show(): void {\n        this.elem.show();\n    };\n\n    public hide(): void {\n        this.elem.hide();\n        this.onHide();\n    };\n\n    public callDoConsent(): void {\n        this.hide();\n        this.onDoConsent();\n    };\n\n    public callDontConsent(): void {\n        this.hide();\n        this.onDontConsent();\n    };\n\n    public setOnDoConsent(callback: SimpleCookieCallback): void {\n        this.onDoConsent = callback;\n    }\n\n    public setOnDontConsent(callback: SimpleCookieCallback): void {\n        this.onDontConsent = callback;\n    }\n\n    public setOnHide(callback: SimpleCookieCallback): void {\n        this.onHide = callback;\n    }\n}\n","/* eslint-disable header/header */\n\n// Copyright (c) 2012 Rob Burns\n//\n// Permission is hereby granted, free of charge, to any person\n// obtaining a copy of this software and associated documentation\n// files (the \"Software\"), to deal in the Software without\n// restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the\n// Software is furnished to do so, subject to the following\n// conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n// OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n// WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n// FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n// OTHER DEALINGS IN THE SOFTWARE.\n\n// Converted from https://github.com/rburns/ansi-to-html\n// Includes patches from https://github.com/rburns/ansi-to-html/pull/84\n// Converted to typescript by MarkusJx\n\nimport _ from 'underscore';\nimport { AnsiToHtmlOptions, ColorCodes } from './ansi-to-html.interfaces';\n\nconst defaults: AnsiToHtmlOptions = {\n    fg: '#FFF',\n    bg: '#000',\n    newline: false,\n    escapeXML: false,\n    stream: false,\n    colors: getDefaultColors(),\n};\n\nfunction getDefaultColors(): ColorCodes {\n    const colors: ColorCodes = {\n        0: '#000',\n        1: '#A00',\n        2: '#0A0',\n        3: '#A50',\n        4: '#00A',\n        5: '#A0A',\n        6: '#0AA',\n        7: '#AAA',\n        8: '#555',\n        9: '#F55',\n        10: '#5F5',\n        11: '#FF5',\n        12: '#55F',\n        13: '#F5F',\n        14: '#5FF',\n        15: '#FFF',\n    };\n\n    range(0, 5).forEach((red) => {\n        range(0, 5).forEach((green) => {\n            range(0, 5).forEach((blue) => {\n                setStyleColor(red, green, blue, colors);\n            });\n        });\n    });\n\n    range(0, 23).forEach((gray) => {\n        const c = gray + 232;\n        const l = toHexString(gray * 10 + 8);\n\n        colors[c] = `#${l}${l}${l}`;\n    });\n\n    return colors;\n}\n\nfunction setStyleColor(red: number, green: number, blue: number, colors: ColorCodes): void {\n    const c = 16 + red * 36 + green * 6 + blue;\n    const r = red > 0 ? red * 40 + 55 : 0;\n    const g = green > 0 ? green * 40 + 55 : 0;\n    const b = blue > 0 ? blue * 40 + 55 : 0;\n\n    colors[c] = toColorHexString([r, g, b]);\n}\n\n/**\n * Converts from a number like 15 to a hex string like 'F'\n *\n * @param num the number to convert\n * @returns the resulting hex string\n */\nfunction toHexString(num: number): string {\n    let str = num.toString(16);\n\n    while (str.length < 2) {\n        str = '0' + str;\n    }\n\n    return str;\n}\n\n/**\n * Converts from an array of numbers like [15, 15, 15] to a hex string like 'FFF'\n *\n * @param ref the array of numbers to join\n * @returns the resulting hex string\n */\nfunction toColorHexString(ref: number[]): string {\n    const results: string[] = [];\n\n    for (let j = 0, len = ref.length; j < len; j++) {\n        results.push(toHexString(ref[j]));\n    }\n\n    return '#' + results.join('');\n}\n\nfunction generateOutput(stack: string[], token: string, data: string | number, options: AnsiToHtmlOptions): string {\n    if (token === 'text') {\n        // Note: Param 'data' must be a string at this point\n        return pushText(data as string, options);\n    } else if (token === 'display') {\n        return handleDisplay(stack, data, options);\n    } else if (token === 'xterm256') {\n        // Note: Param 'data' must be a string at this point\n        return handleXterm256(stack, data as string, options);\n    }\n}\n\nfunction handleXterm256(stack: string[], data: string, options: AnsiToHtmlOptions): string {\n    data = data.substring(2).slice(0, -1);\n    const operation = +data.substr(0, 2);\n    const color = +data.substr(5);\n    if (operation === 38) {\n        return pushForegroundColor(stack, options.colors[color]);\n    } else {\n        return pushBackgroundColor(stack, options.colors[color]);\n    }\n}\n\nfunction handleDisplay(stack: string[], _code: string | number, options: AnsiToHtmlOptions): string {\n    const code: number = parseInt(_code as string, 10);\n    const codeMap: Record<number, () => string> = {\n        '-1': () => '<br />',\n        0: () => stack.length && resetStyles(stack),\n        1: () => pushTag(stack, 'b'),\n        2: () => pushStyle(stack, 'opacity:0.6'),\n        3: () => pushTag(stack, 'i'),\n        4: () => pushTag(stack, 'u'),\n        8: () => pushStyle(stack, 'display:none'),\n        9: () => pushTag(stack, 'strike'),\n        22: () => closeTag(stack, 'b'),\n        23: () => closeTag(stack, 'i'),\n        24: () => closeTag(stack, 'u'),\n        39: () => pushForegroundColor(stack, options.fg),\n        49: () => pushBackgroundColor(stack, options.bg),\n    };\n\n    if (codeMap[code]) {\n        return codeMap[code]();\n    } else if (4 < code && code < 7) {\n        return pushTag(stack, 'blink');\n    } else if (29 < code && code < 38) {\n        return pushForegroundColor(stack, options.colors[code - 30]);\n    } else if (39 < code && code < 48) {\n        return pushBackgroundColor(stack, options.colors[code - 40]);\n    } else if (89 < code && code < 98) {\n        return pushForegroundColor(stack, options.colors[8 + (code - 90)]);\n    } else if (99 < code && code < 108) {\n        return pushBackgroundColor(stack, options.colors[8 + (code - 100)]);\n    }\n}\n\n/**\n * Clear all the styles\n */\nfunction resetStyles(stack: string[]): string {\n    const stackClone = stack.slice(0);\n    stack.length = 0;\n\n    return stackClone.reverse().map((tag) => `</${tag}>`).join('');\n}\n\n/**\n * Creates an array of numbers ranging from low to high\n *\n * @param low the lowest number in the array to create\n * @param high the highest number in the array to create\n * @returns the resulting array\n * @example range(3, 7); // creates [3, 4, 5, 6, 7]\n */\nfunction range(low: number, high: number): number[] {\n    const results: number[] = [];\n\n    for (let j = low; j <= high; j++) {\n        results.push(j);\n    }\n\n    return results;\n}\n\n/**\n * Returns a new function that is true if value is NOT the same category\n */\nfunction notCategory(category: string): (e: StickyStackElement) => boolean {\n    return (e: StickyStackElement): boolean => {\n        return (category === null || e.category !== category) && category !== 'all';\n    }\n}\n\n/**\n * Converts a code into an ansi token type\n *\n * @param _code the code to convert\n * @returns the ansi token type\n */\nfunction categoryForCode(_code: string | number): string {\n    const code: number = parseInt(_code as string, 10);\n\n    if (code === 0) {\n        return 'all';\n    } else if (code === 1) {\n        return 'bold';\n    } else if (2 < code && code < 5) {\n        return 'underline';\n    } else if (4 < code && code < 7) {\n        return 'blink';\n    } else if (code === 8) {\n        return 'hide';\n    } else if (code === 9) {\n        return 'strike';\n    } else if (29 < code && code < 38 || code === 39 || 89 < code && code < 98) {\n        return 'foreground-color';\n    } else if (39 < code && code < 48 || code === 49 || 99 < code && code < 108) {\n        return 'background-color';\n    }\n}\n\nfunction pushText(text: string, options: AnsiToHtmlOptions): string {\n    if (options.escapeXML) {\n        return text.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n    }\n\n    return text;\n}\n\nfunction pushTag(stack: string[], tag: string, style?: string): string {\n    if (!style) {\n        style = '';\n    }\n\n    stack.push(tag);\n\n    return ['<' + tag, style ? ' style=\"' + style + '\"' : void 0, '>'].join('');\n}\n\nfunction pushStyle(stack: string[], style: string): string {\n    return pushTag(stack, 'span', style);\n}\n\nfunction pushForegroundColor(stack: string[], color: string): string {\n    return pushTag(stack, 'span', 'color:' + color);\n}\n\nfunction pushBackgroundColor(stack: string[], color: string): string {\n    return pushTag(stack, 'span', 'background-color:' + color);\n}\n\nfunction closeTag(stack: string[], style: string): string {\n    let last: string = null;\n\n    if (stack.slice(-1)[0] === style) {\n        last = stack.pop();\n    }\n\n    if (last) {\n        return '</' + style + '>';\n    }\n}\n\ntype TokenizeCallback = (token: string, data: string | number) => void;\n\ninterface Token {\n    pattern: RegExp;\n    sub: (m: string, ...args: any[]) => string;\n}\n\nfunction tokenize(text: string, options: AnsiToHtmlOptions, callback: TokenizeCallback) {\n    let ansiMatch: boolean = false;\n    let ansiHandler: number = 3;\n\n    function remove(): string {\n        return '';\n    }\n\n    function removeXterm256(m: string): string {\n        callback('xterm256', m);\n        return '';\n    }\n\n    function newline(m: string): string {\n        if (options.newline) {\n            callback('display', -1);\n        } else {\n            callback('text', m);\n        }\n\n        return '';\n    }\n\n    function ansiMess(m: string, g1: string): string {\n        ansiMatch = true;\n        if (g1.trim().length === 0) {\n            g1 = '0';\n        }\n\n        let res: string[] = g1.replace(/;+$/, '').split(';');\n\n        for (let o = 0, len = res.length; o < len; o++) {\n            callback('display', res[o]);\n        }\n\n        return '';\n    }\n\n    function realText(m: string): string {\n        callback('text', m);\n\n        return '';\n    }\n\n    /* eslint no-control-regex:0 */\n    const tokens: Token[] = [{\n        pattern: /^\\x08+/,\n        sub: remove,\n    }, {\n        pattern: /^\\x1b\\[[012]?K/,\n        sub: remove,\n    }, {\n        pattern: /^\\x1b\\[[34]8;5;(\\d+)m/,\n        sub: removeXterm256,\n    }, {\n        pattern: /^\\n/,\n        sub: newline,\n    }, {\n        pattern: /^\\x1b\\[((?:\\d{1,3};)*\\d{1,3}|)m/,\n        sub: ansiMess,\n    }, {\n        pattern: /^\\x1b\\[?[\\d;]{0,3}/,\n        sub: remove,\n    }, {\n        pattern: /^([^\\x1b\\x08\\n]+)/,\n        sub: realText,\n    }];\n\n    function process(handler: Token, i: number): void {\n        if (i > ansiHandler && ansiMatch) {\n            return;\n        }\n\n        ansiMatch = false;\n\n        text = text.replace(handler.pattern, handler.sub);\n    }\n\n    let handler: Token;\n    const results1: number[] = [];\n    let length: number = text.length;\n\n    outer: while (length > 0) {\n        for (let i = 0, o = 0, len = tokens.length; o < len; i = ++o) {\n            handler = tokens[i];\n            process(handler, i);\n\n            if (text.length !== length) {\n                // We matched a token and removed it from the text. We need to\n                // start matching *all* tokens against the new text.\n                length = text.length;\n                continue outer;\n            }\n        }\n\n        if (text.length === length) {\n            break;\n        } else {\n            results1.push(0);\n        }\n\n        length = text.length;\n    }\n\n    return results1;\n}\n\n/**\n * A sticky stack element\n */\ninterface StickyStackElement {\n    token: string;\n    data: number | string;\n    category: string;\n}\n\n/**\n * If streaming, then the stack is \"sticky\"\n */\nfunction updateStickyStack(stickyStack: StickyStackElement[], token: string, data: string | number): StickyStackElement[] {\n    if (token !== 'text') {\n        stickyStack = stickyStack.filter(notCategory(categoryForCode(data)));\n        stickyStack.push({\n            token: token,\n            data: data,\n            category: categoryForCode(data),\n        });\n    }\n\n    return stickyStack;\n}\n\nexport class Filter {\n    private readonly opts: AnsiToHtmlOptions;\n    private readonly stack: string[];\n    private stickyStack: StickyStackElement[];\n\n    public constructor(options: AnsiToHtmlOptions) {\n        options = options || {};\n\n        if (options.colors) {\n            options.colors = _.extend(defaults.colors, options.colors);\n        }\n\n        this.opts = _.extend({}, defaults, options);\n        this.stack = [];\n        this.stickyStack = [];\n    }\n\n    public toHtml(_input: string | string[]): string {\n        const _this = this;\n\n        const input: string[] = typeof _input === 'string' ? [_input] : _input;\n        const stack = this.stack;\n        const options = this.opts;\n        const buf: string[] = [];\n\n        this.stickyStack.forEach((element: StickyStackElement) => {\n            const output: string = generateOutput(stack, element.token, element.data, options);\n\n            if (output) {\n                buf.push(output);\n            }\n        })\n\n        tokenize(input.join(''), options, (token, data) => {\n            let output = generateOutput(stack, token, data, options);\n\n            if (output) {\n                buf.push(output);\n            }\n\n            if (options.stream) {\n                _this.stickyStack = updateStickyStack(_this.stickyStack, token, data);\n            }\n        });\n\n        if (stack.length) {\n            buf.push(resetStyles(stack));\n        }\n\n        return buf.join('');\n    }\n}\n","/* eslint-disable */\n// Taken from https://github.com/Nanonid/rison at 917679fb6cafa15e2a186cd5a47163792899b321\n// Uses CommonJS, AMD or browser globals to create a module.\n// Based on: https://github.com/umdjs/umd/blob/master/commonjsStrict.js\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(['exports'], factory);\n    } else if (typeof exports === 'object') {\n        // CommonJS\n        factory(exports);\n    } else {\n        // Browser globals\n        factory((root.rison = {}));\n    }\n}(this, function (exports) {\n    var rison = exports;\n\n//////////////////////////////////////////////////\n//\n//  the stringifier is based on\n//    http://json.org/json.js as of 2006-04-28 from json.org\n//  the parser is based on \n//    http://osteele.com/sources/openlaszlo/json\n//\n\n    if (typeof rison == 'undefined')\n        window.rison = {};\n\n    /**\n     *  rules for an uri encoder that is more tolerant than encodeURIComponent\n     *\n     *  encodeURIComponent passes  ~!*()-_.'\n     *\n     *  we also allow              ,:@$/\n     *\n     */\n    rison.uri_ok = {  // ok in url paths and in form query args\n        '~': true, '!': true, '*': true, '(': true, ')': true,\n        '-': true, '_': true, '.': true, ',': true,\n        ':': true, '@': true, '$': true,\n        \"'\": true, '/': true\n    };\n\n    /*\n     * we divide the uri-safe glyphs into three sets\n     *   <rison> - used by rison                         ' ! : ( ) ,\n     *   <reserved> - not common in strings, reserved    * @ $ & ; =\n     *\n     * we define <identifier> as anything that's not forbidden\n     */\n\n    /**\n     * punctuation characters that are legal inside ids.\n     */\n// this var isn't actually used\n//rison.idchar_punctuation = \"_-./~\";  \n\n    (function () {\n        var l = [];\n        for (var hi = 0; hi < 16; hi++) {\n            for (var lo = 0; lo < 16; lo++) {\n                if (hi + lo == 0) continue;\n                var c = String.fromCharCode(hi * 16 + lo);\n                if (!/\\w|[-_.\\/~]/.test(c))\n                    l.push('\\\\u00' + hi.toString(16) + lo.toString(16));\n            }\n        }\n        /**\n         * characters that are illegal inside ids.\n         * <rison> and <reserved> classes are illegal in ids.\n         *\n         */\n        rison.not_idchar = l.join('')\n        //idcrx = new RegExp('[' + rison.not_idchar + ']');\n        //console.log('NOT', (idcrx.test(' ')) );\n    })();\n//rison.not_idchar  = \" \\t\\r\\n\\\"<>[]{}'!=:(),*@$;&\";\n    rison.not_idchar = \" '!:(),*@$\";\n\n\n    /**\n     * characters that are illegal as the start of an id\n     * this is so ids can't look like numbers.\n     */\n    rison.not_idstart = \"-0123456789\";\n\n\n    (function () {\n        var idrx = '[^' + rison.not_idstart + rison.not_idchar +\n            '][^' + rison.not_idchar + ']*';\n\n        rison.id_ok = new RegExp('^' + idrx + '$');\n\n        // regexp to find the end of an id when parsing\n        // g flag on the regexp is necessary for iterative regexp.exec()\n        rison.next_id = new RegExp(idrx, 'g');\n    })();\n\n    /**\n     * this is like encodeURIComponent() but quotes fewer characters.\n     *\n     * @see rison.uri_ok\n     *\n     * encodeURIComponent passes   ~!*()-_.'\n     * rison.quote also passes   ,:@$/\n     *   and quotes \" \" as \"+\" instead of \"%20\"\n     */\n    rison.quote = function (x) {\n        if (/^[-A-Za-z0-9~!*()_.',:@$\\/]*$/.test(x))\n            return x;\n\n        return encodeURIComponent(x)\n            .replace(/%2C/g, ',')\n            .replace(/%3A/g, ':')\n            .replace(/%40/g, '@')\n            .replace(/%24/g, '$')\n            .replace(/%2F/g, '/')\n            .replace(/%20/g, '+');\n    };\n\n\n//\n//  based on json.js 2006-04-28 from json.org\n//  license: http://www.json.org/license.html\n//\n//  hacked by nix for use in uris.\n//\n\n    (function () {\n        var sq = { // url-ok but quoted in strings\n                \"'\": true, '!': true\n            },\n            enc = function (v) {\n                if (v && typeof v.toJSON === 'function') v = v.toJSON();\n                var fn = s[typeof v];\n                if (fn) return fn(v);\n            },\n            s = {\n                array: function (x) {\n                    var a = ['!('], b, f, i, l = x.length, v;\n                    for (i = 0; i < l; i += 1) {\n                        v = enc(x[i]);\n                        if (typeof v == 'string') {\n                            if (b) {\n                                a[a.length] = ',';\n                            }\n                            a[a.length] = v;\n                            b = true;\n                        }\n                    }\n                    a[a.length] = ')';\n                    return a.join('');\n                },\n                'boolean': function (x) {\n                    if (x)\n                        return '!t';\n                    return '!f'\n                },\n                'null': function (x) {\n                    return \"!n\";\n                },\n                number: function (x) {\n                    if (!isFinite(x))\n                        return '!n';\n                    // strip '+' out of exponent, '-' is ok though\n                    return String(x).replace(/\\+/, '');\n                },\n                object: function (x) {\n                    if (x) {\n                        if (x instanceof Array) {\n                            return s.array(x);\n                        }\n                        // WILL: will this work on non-Firefox browsers?\n                        if (typeof x.__prototype__ === 'object' && typeof x.__prototype__.encode_rison !== 'undefined')\n                            return x.encode_rison();\n\n                        var a = ['('], b, f, i, v, ki, ks = [];\n                        for (i in x)\n                            ks[ks.length] = i;\n                        ks.sort();\n                        for (ki = 0; ki < ks.length; ki++) {\n                            i = ks[ki];\n                            v = enc(x[i]);\n                            if (typeof v == 'string') {\n                                if (b) {\n                                    a[a.length] = ',';\n                                }\n                                a.push(s.string(i), ':', v);\n                                b = true;\n                            }\n                        }\n                        a[a.length] = ')';\n                        return a.join('');\n                    }\n                    return '!n';\n                },\n                string: function (x) {\n                    if (x == '')\n                        return \"''\";\n\n                    if (rison.id_ok.test(x))\n                        return x;\n\n                    x = x.replace(/(['!])/g, function (a, b) {\n                        if (sq[b]) return '!' + b;\n                        return b;\n                    });\n                    return \"'\" + x + \"'\";\n                },\n                undefined: function (x) {\n                    // ignore undefined just like JSON\n                }\n            };\n\n\n        /**\n         * rison-encode a javascript structure\n         *\n         *  implemementation based on Douglas Crockford's json.js:\n         *    http://json.org/json.js as of 2006-04-28 from json.org\n         *\n         */\n        rison.encode = function (v) {\n            return enc(v);\n        };\n\n        /**\n         * rison-encode a javascript object without surrounding parens\n         *\n         */\n        rison.encode_object = function (v) {\n            if (typeof v != 'object' || v === null || v instanceof Array)\n                throw new Error(\"rison.encode_object expects an object argument\");\n            var r = s[typeof v](v);\n            return r.substring(1, r.length - 1);\n        };\n\n        /**\n         * rison-encode a javascript array without surrounding parens\n         *\n         */\n        rison.encode_array = function (v) {\n            if (!(v instanceof Array))\n                throw new Error(\"rison.encode_array expects an array argument\");\n            var r = s[typeof v](v);\n            return r.substring(2, r.length - 1);\n        };\n\n        /**\n         * rison-encode and uri-encode a javascript structure\n         *\n         */\n        rison.encode_uri = function (v) {\n            return rison.quote(s[typeof v](v));\n        };\n\n    })();\n\n\n//\n// based on openlaszlo-json and hacked by nix for use in uris.\n//\n// Author: Oliver Steele\n// Copyright: Copyright 2006 Oliver Steele.  All rights reserved.\n// Homepage: http://osteele.com/sources/openlaszlo/json\n// License: MIT License.\n// Version: 1.0\n\n\n    /**\n     * parse a rison string into a javascript structure.\n     *\n     * this is the simplest decoder entry point.\n     *\n     *  based on Oliver Steele's OpenLaszlo-JSON\n     *     http://osteele.com/sources/openlaszlo/json\n     */\n    rison.decode = function (r) {\n        var errcb = function (e) {\n            throw Error('rison decoder error: ' + e);\n        };\n        var p = new rison.parser(errcb);\n        return p.parse(r);\n    };\n\n    /**\n     * parse an o-rison string into a javascript structure.\n     *\n     * this simply adds parentheses around the string before parsing.\n     */\n    rison.decode_object = function (r) {\n        return rison.decode('(' + r + ')');\n    };\n\n    /**\n     * parse an a-rison string into a javascript structure.\n     *\n     * this simply adds array markup around the string before parsing.\n     */\n    rison.decode_array = function (r) {\n        return rison.decode('!(' + r + ')');\n    };\n\n\n    /**\n     * construct a new parser object for reuse.\n     *\n     * @constructor\n     * @class A Rison parser class.  You should probably\n     *        use rison.decode instead.\n     * @see rison.decode\n     */\n    rison.parser = function (errcb) {\n        this.errorHandler = errcb;\n    };\n\n    /**\n     * a string containing acceptable whitespace characters.\n     * by default the rison decoder tolerates no whitespace.\n     * to accept whitespace set rison.parser.WHITESPACE = \" \\t\\n\\r\\f\";\n     */\n    rison.parser.WHITESPACE = \"\";\n\n// expose this as-is?\n    rison.parser.prototype.setOptions = function (options) {\n        if (options['errorHandler'])\n            this.errorHandler = options.errorHandler;\n    };\n\n    /**\n     * parse a rison string into a javascript structure.\n     */\n    rison.parser.prototype.parse = function (str) {\n        this.string = str;\n        this.index = 0;\n        this.message = null;\n        var value = this.readValue();\n        if (!this.message && this.next())\n            value = this.error(\"unable to parse string as rison: '\" + rison.encode(str) + \"'\");\n        if (this.message && this.errorHandler)\n            this.errorHandler(this.message, this.index);\n        return value;\n    };\n\n    rison.parser.prototype.error = function (message) {\n        if (typeof(console) != 'undefined')\n            console.log('rison parser error: ', message);\n        this.message = message;\n        return undefined;\n    };\n\n    rison.parser.prototype.readValue = function () {\n        var c = this.next();\n        var fn = c && this.table[c];\n\n        if (fn)\n            return fn.apply(this);\n\n        // fell through table, parse as an id\n\n        var s = this.string;\n        var i = this.index - 1;\n\n        // Regexp.lastIndex may not work right in IE before 5.5?\n        // g flag on the regexp is also necessary\n        rison.next_id.lastIndex = i;\n        var m = rison.next_id.exec(s);\n\n        // console.log('matched id', i, r.lastIndex);\n\n        if (m.length > 0) {\n            var id = m[0];\n            this.index = i + id.length;\n            return id;  // a string\n        }\n\n        if (c) return this.error(\"invalid character: '\" + c + \"'\");\n        return this.error(\"empty expression\");\n    };\n\n    rison.parser.parse_array = function (parser) {\n        var ar = [];\n        var c;\n        while ((c = parser.next()) != ')') {\n            if (!c) return parser.error(\"unmatched '!('\");\n            if (ar.length) {\n                if (c != ',')\n                    parser.error(\"missing ','\");\n            } else if (c == ',') {\n                return parser.error(\"extra ','\");\n            } else\n                --parser.index;\n            var n = parser.readValue();\n            if (typeof n == \"undefined\") return undefined;\n            ar.push(n);\n        }\n        return ar;\n    };\n\n    rison.parser.bangs = {\n        t: true,\n        f: false,\n        n: null,\n        '(': rison.parser.parse_array\n    };\n\n    rison.parser.prototype.table = {\n        '!': function () {\n            var s = this.string;\n            var c = s.charAt(this.index++);\n            if (!c) return this.error('\"!\" at end of input');\n            var x = rison.parser.bangs[c];\n            if (typeof(x) == 'function') {\n                return x.call(null, this);\n            } else if (typeof(x) == 'undefined') {\n                return this.error('unknown literal: \"!' + c + '\"');\n            }\n            return x;\n        },\n        '(': function () {\n            var o = {};\n            var c;\n            var count = 0;\n            while ((c = this.next()) != ')') {\n                if (count) {\n                    if (c != ',')\n                        this.error(\"missing ','\");\n                } else if (c == ',') {\n                    return this.error(\"extra ','\");\n                } else\n                    --this.index;\n                var k = this.readValue();\n                if (typeof k == \"undefined\") return undefined;\n                if (this.next() != ':') return this.error(\"missing ':'\");\n                var v = this.readValue();\n                if (typeof v == \"undefined\") return undefined;\n                o[k] = v;\n                count++;\n            }\n            return o;\n        },\n        \"'\": function () {\n            var s = this.string;\n            var i = this.index;\n            var start = i;\n            var segments = [];\n            var c;\n            while ((c = s.charAt(i++)) != \"'\") {\n                //if (i == s.length) return this.error('unmatched \"\\'\"');\n                if (!c) return this.error('unmatched \"\\'\"');\n                if (c == '!') {\n                    if (start < i - 1)\n                        segments.push(s.slice(start, i - 1));\n                    c = s.charAt(i++);\n                    if (\"!'\".indexOf(c) >= 0) {\n                        segments.push(c);\n                    } else {\n                        return this.error('invalid string escape: \"!' + c + '\"');\n                    }\n                    start = i;\n                }\n            }\n            if (start < i - 1)\n                segments.push(s.slice(start, i - 1));\n            this.index = i;\n            return segments.length == 1 ? segments[0] : segments.join('');\n        },\n        // Also any digit.  The statement that follows this table\n        // definition fills in the digits.\n        '-': function () {\n            var s = this.string;\n            var i = this.index;\n            var start = i - 1;\n            var state = 'int';\n            var permittedSigns = '-';\n            var transitions = {\n                'int+.': 'frac',\n                'int+e': 'exp',\n                'frac+e': 'exp'\n            };\n            do {\n                var c = s.charAt(i++);\n                if (!c) break;\n                if ('0' <= c && c <= '9') continue;\n                if (permittedSigns.indexOf(c) >= 0) {\n                    permittedSigns = '';\n                    continue;\n                }\n                state = transitions[state + '+' + c.toLowerCase()];\n                if (state == 'exp') permittedSigns = '-';\n            } while (state);\n            this.index = --i;\n            s = s.slice(start, i);\n            if (s == '-') return this.error(\"invalid number\");\n            return Number(s);\n        }\n    };\n// copy table['-'] to each of table[i] | i <- '0'..'9':\n    (function (table) {\n        for (var i = 0; i <= 9; i++)\n            table[String(i)] = table['-'];\n    })(rison.parser.prototype.table);\n\n// return the next non-whitespace character, or undefined\n    rison.parser.prototype.next = function () {\n        var c;\n        var s = this.string;\n        var i = this.index;\n        do {\n            if (i == s.length) return undefined;\n            c = s.charAt(i++);\n        } while (rison.parser.WHITESPACE.indexOf(c) >= 0);\n        this.index = i;\n        return c;\n    };\n\n// End of UMD module wrapper\n}));\n","// Copyright (c) 2017, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar monaco = require('monaco-editor');\n\nfunction definition() {\n    return {\n        keywords: [\n            'module', 'import', 'main', 'where', 'otherwise', 'newtype',\n            'definition', 'implementation', 'from', 'class', 'instance', 'abort',\n        ],\n\n        builtintypes: [\n            'Int', 'Real', 'String',\n        ],\n\n        operators: [\n            '=', '==', '>=', '<=', '+', '-', '*', '/', '::', '->', '=:', '=>', '|', '$',\n        ],\n\n        numbers: /-?[0-9.]/,\n\n        tokenizer: {\n            root: [\n                { include: '@whitespace' },\n\n                [/->/, 'operators'],\n\n                [/\\|/, 'operators'],\n\n                [/(\\w*)(\\s?)(::)/, ['keyword', 'white', 'operators']],\n\n                [/[+\\-*/=<>$]/, 'operators'],\n\n                [/[a-zA-Z_][a-zA-Z0-9_]*/, {\n                    cases: {\n                        '@builtintypes': 'type',\n                        '@keywords': 'keyword',\n                        '@default': '',\n                    },\n                }],\n\n                [/[()[\\],:]/, 'delimiter'],\n\n                [/@numbers/, 'number'],\n\n                [/(\")(.*)(\")/, ['string', 'string', 'string']],\n            ],\n\n            comment: [\n                [/[^/*]+/, 'comment'],\n                [/\\*\\//, 'comment', '@pop'],\n                [/[/*]/, 'comment'],\n            ],\n\n            whitespace: [\n                [/[ \\t\\r\\n]+/, 'white'],\n                [/\\/\\*/, 'comment', '@comment'],\n                [/\\/\\/.*$/, 'comment'],\n                [/--.*$/, 'comment'],\n            ],\n        },\n    };\n}\n\nmonaco.languages.register({id: 'haskell'});\nmonaco.languages.setMonarchTokensProvider('haskell', definition());\n\nexport {}\n","// Copyright (c) 2017, Simon Brand\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\nvar FontScale = require('../fontscale').FontScale;\nvar monaco = require('monaco-editor');\nvar _ = require('underscore');\nvar $ = require('jquery');\nvar colour = require('../colour');\nvar ga = require('../analytics').ga;\nvar monacoConfig = require('../monaco-config');\n\nfunction Ast(hub, container, state) {\n    this.container = container;\n    this.eventHub = hub.createEventHub();\n    this.domRoot = container.getElement();\n    this.domRoot.html($('#ast').html());\n\n    this.decorations = {};\n    this.prevDecorations = [];\n    var root = this.domRoot.find('.monaco-placeholder');\n    this.astEditor = monaco.editor.create(root[0], monacoConfig.extendConfig({\n        language: 'plaintext',\n        readOnly: true,\n        glyphMargin: true,\n        lineNumbersMinChars: 3,\n    }));\n\n    this._compilerid = state.id;\n    this._compilerName = state.compilerName;\n    this._editorid = state.editorid;\n\n    this.awaitingInitialResults = false;\n    this.selection = state.selection;\n\n    this.settings = {};\n\n    this.colours = [];\n    this.astCode = [];\n\n    this.initButtons(state);\n    this.initCallbacks();\n\n    if (state && state.astOutput) {\n        this.showAstResults(state.astOutput);\n    }\n    this.setTitle();\n\n    ga.proxy('send', {\n        hitType: 'event',\n        eventCategory: 'OpenViewPane',\n        eventAction: 'Ast',\n    });\n}\n\nAst.prototype.initButtons = function (state) {\n    this.fontScale = new FontScale(this.domRoot, state, this.astEditor);\n\n    this.topBar = this.domRoot.find('.top-bar');\n};\n\nAst.prototype.initCallbacks = function () {\n    this.linkedFadeTimeoutId = -1;\n    this.mouseMoveThrottledFunction = _.throttle(_.bind(this.onMouseMove, this), 50);\n    this.astEditor.onMouseMove(_.bind(function (e) {\n        this.mouseMoveThrottledFunction(e);\n    }, this));\n\n    this.fontScale.on('change', _.bind(this.updateState, this));\n\n    this.container.on('destroy', this.close, this);\n\n    var onColoursOnCompile = this.eventHub.mediateDependentCalls(this.onColours, this.onCompileResult);\n\n    this.eventHub.on('compileResult', onColoursOnCompile.dependencyProxy, this);\n    this.eventHub.on('compiler', this.onCompiler, this);\n    this.eventHub.on('colours', onColoursOnCompile.dependentProxy, this);\n    this.eventHub.on('panesLinkLine', this.onPanesLinkLine, this);\n    this.eventHub.on('compilerClose', this.onCompilerClose, this);\n    this.eventHub.on('settingsChange', this.onSettingsChange, this);\n    this.eventHub.emit('astViewOpened', this._compilerid);\n    this.eventHub.emit('requestSettings');\n\n    this.container.on('resize', this.resize, this);\n    this.container.on('shown', this.resize, this);\n\n    this.cursorSelectionThrottledFunction =\n        _.throttle(_.bind(this.onDidChangeCursorSelection, this), 500);\n    this.astEditor.onDidChangeCursorSelection(_.bind(function (e) {\n        this.cursorSelectionThrottledFunction(e);\n    }, this));\n};\n\n// TODO: de-dupe with compiler etc\nAst.prototype.resize = function () {\n    var topBarHeight = this.topBar.outerHeight(true);\n    this.astEditor.layout({\n        width: this.domRoot.width(),\n        height: this.domRoot.height() - topBarHeight,\n    });\n};\n\nAst.prototype.onCompileResult = function (id, compiler, result, lang) {\n    if (this._compilerid !== id) return;\n\n    if (result.hasAstOutput) {\n        this.showAstResults(result.astOutput);\n    } else if (compiler.supportsAstView) {\n        this.showAstResults([{text: '<No output>'}]);\n    }\n\n    if (lang && lang.monaco && this.getCurrentEditorLanguage() !== lang.monaco) {\n        monaco.editor.setModelLanguage(this.astEditor.getModel(), lang.monaco);\n    }\n};\n\n// Monaco language id of the current editor\nAst.prototype.getCurrentEditorLanguage = function () {\n    return this.astEditor.getModel().getModeId();\n};\n\nAst.prototype.getPaneName = function () {\n    return 'Ast Viewer ' + this._compilerName +\n        ' (Editor #' + this._editorid + ', Compiler #' + this._compilerid + ')';\n};\n\nAst.prototype.setTitle = function () {\n    this.container.setTitle(this.getPaneName());\n};\n\nAst.prototype.getDisplayableAst = function (astResult) {\n    return '**' + astResult.astType + '** - ' + astResult.displayString;\n};\n\nAst.prototype.showAstResults = function (results) {\n    var fullText = results.map(function (x) {\n        return x.text;\n    }).join('\\n');\n    this.astEditor.setValue(fullText);\n    this.astCode = results;\n\n    if (!this.awaitingInitialResults) {\n        if (this.selection) {\n            this.astEditor.setSelection(this.selection);\n            this.astEditor.revealLinesInCenter(this.selection.startLineNumber,\n                this.selection.endLineNumber);\n        }\n        this.awaitingInitialResults = true;\n    }\n};\n\nAst.prototype.onCompiler = function (id, compiler, options, editorid) {\n    if (id === this._compilerid) {\n        this._compilerName = compiler ? compiler.name : '';\n        this._editorid = editorid;\n        this.setTitle();\n        if (compiler && !compiler.supportsAstView) {\n            this.astEditor.setValue('<AST output is not supported for this compiler>');\n        }\n    }\n};\n\nAst.prototype.onColours = function (id, colours, scheme) {\n    if (id === this._compilerid) {\n        var astColours = {};\n        _.each(this.astCode, function (x, index) {\n            if (x.source && x.source.from.line && x.source.to.line &&\n                x.source.from.line <= x.source.to.line && x.source.to.line < x.source.from.line + 100) {\n                var i;\n                for (i = x.source.from.line; i <= x.source.to.line; ++i) {\n                    if (colours[i - 1] !== undefined) {\n                        astColours[index] = colours[i - 1];\n                        break;\n                    }\n                }\n            }\n        });\n        this.colours = colour.applyColours(this.astEditor, astColours, scheme, this.colours);\n    }\n};\n\n\nAst.prototype.onCompilerClose = function (id) {\n    if (id === this._compilerid) {\n        // We can't immediately close as an outer loop somewhere in GoldenLayout is iterating over\n        // the hierarchy. We can't modify while it's being iterated over.\n        _.defer(function (self) {\n            self.container.close();\n        }, this);\n    }\n};\n\nAst.prototype.updateState = function () {\n    this.container.setState(this.currentState());\n};\n\nAst.prototype.currentState = function () {\n    var state = {\n        id: this._compilerid,\n        editorid: this._editorid,\n        selection: this.selection,\n    };\n    this.fontScale.addState(state);\n    return state;\n};\n\nAst.prototype.onCompilerClose = function (id) {\n    if (id === this._compilerid) {\n        // We can't immediately close as an outer loop somewhere in GoldenLayout is iterating over\n        // the hierarchy. We can't modify while it's being iterated over.\n        this.close();\n        _.defer(function (self) {\n            self.container.close();\n        }, this);\n    }\n};\n\nAst.prototype.onSettingsChange = function (newSettings) {\n    this.settings = newSettings;\n    this.astEditor.updateOptions({\n        contextmenu: newSettings.useCustomContextMenu,\n        minimap: {\n            enabled: newSettings.showMinimap,\n        },\n        fontFamily: newSettings.editorsFFont,\n        fontLigatures: newSettings.editorsFLigatures,\n    });\n};\n\nAst.prototype.onMouseMove = function (e) {\n    if (e === null || e.target === null || e.target.position === null) return;\n    if (this.settings.hoverShowSource === true && this.astCode) {\n        this.clearLinkedLines();\n        var hoverCode = this.astCode[e.target.position.lineNumber - 1];\n        if (hoverCode) {\n            var sourceLine = -1;\n            var colBegin = -1;\n            var colEnd = -1;\n            // We check that we actually have something to show at this point!\n            if (hoverCode.source && hoverCode.source.from) {\n                sourceLine = hoverCode.source.from.line;\n                // Highlight part of a line corresponding to the node if it fits on one line\n                if (hoverCode.source.to && hoverCode.source.from.line === hoverCode.source.to.line) {\n                    colBegin = hoverCode.source.from.col;\n                    colEnd = hoverCode.source.to.col;\n                }\n            }\n            this.eventHub.emit('editorLinkLine', this._editorid, sourceLine, colBegin, colEnd, false);\n            this.eventHub.emit('panesLinkLine', this._compilerid, sourceLine,\n                colBegin, colEnd, false, this.getPaneName());\n        }\n    }\n};\n\nAst.prototype.onDidChangeCursorSelection = function (e) {\n    if (this.awaitingInitialResults) {\n        this.selection = e.selection;\n        this.updateState();\n    }\n};\n\nAst.prototype.updateDecorations = function () {\n    this.prevDecorations = this.astEditor.deltaDecorations(\n        this.prevDecorations, _.flatten(_.values(this.decorations)));\n};\n\nAst.prototype.clearLinkedLines = function () {\n    this.decorations.linkedCode = [];\n    this.updateDecorations();\n};\n\nAst.prototype.onPanesLinkLine = function (compilerId, lineNumber, colBegin, colEnd, revealLine, sender) {\n    if (Number(compilerId) === this._compilerid) {\n        var lineNums = [];\n        var singleNodeLines = [];\n        var signalFromAnotherPane = sender !== this.getPaneName();\n        _.each(this.astCode, function (astLine, i) {\n            if (astLine.source\n                && astLine.source.from.line <= lineNumber && lineNumber <= astLine.source.to.line) {\n                var line = i + 1;\n                lineNums.push(line);\n                if (signalFromAnotherPane &&\n                    astLine.source.from.line === lineNumber && astLine.source.to.line === lineNumber &&\n                    astLine.source.from.col <= colEnd && colBegin <= astLine.source.to.col) {\n                    singleNodeLines.push(line);\n                }\n            }\n        });\n        if (revealLine && lineNums[0]) this.astEditor.revealLineInCenter(lineNums[0]);\n        var lineClass = signalFromAnotherPane ? 'linked-code-decoration-line' : '';\n        var contextLines = _.map(lineNums, function (line) {\n            return {\n                range: new monaco.Range(line, 1, line, 1),\n                options: {\n                    isWholeLine: true,\n                    linesDecorationsClassName: 'linked-code-decoration-margin',\n                    className: lineClass,\n                },\n            };\n        });\n        var directlyLinkedLines = _.map(singleNodeLines, function (line) {\n            return {\n                range: new monaco.Range(line, 1, line, 1),\n                options: {\n                    isWholeLine: true,\n                    inlineClassName: 'linked-code-decoration-column',\n                },\n            };\n        });\n        this.decorations.linkedCode = contextLines.concat(directlyLinkedLines);\n        if (this.linkedFadeTimeoutId !== -1) {\n            clearTimeout(this.linkedFadeTimeoutId);\n        }\n        this.linkedFadeTimeoutId = setTimeout(_.bind(function () {\n            this.clearLinkedLines();\n            this.linkedFadeTimeoutId = -1;\n        }, this), 5000);\n        this.updateDecorations();\n    }\n};\n\nAst.prototype.close = function () {\n    this.eventHub.unsubscribe();\n    this.eventHub.emit('astViewClosed', this._compilerid);\n    this.astEditor.dispose();\n};\n\nmodule.exports = {\n    Ast: Ast,\n};\n","// Copyright (c) 2018, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar monaco = require('monaco-editor');\n\nfunction definition() {\n    return {\n        keywords: [\n            'module', 'import', 'Start', 'where', 'otherwise',\n            'definition', 'implementation', 'from', 'class', 'instance', 'abort',\n            'infix', 'infixl', 'infixr', 'if', 'True', 'False',\n        ],\n\n        builtintypes: [\n            'Int', 'Real', 'String', 'Char', 'Complex', 'Bool',\n        ],\n\n        operators: [\n            '=', '==', '>=', '<=', '+', '-', '*', '/', '::', ':==', '->', '=:', '=>', '|', '\\\\\\\\',\n        ],\n\n        numbers: /-?[0-9.]/,\n\n        tokenizer: {\n            root: [\n                { include: '@whitespace' },\n\n                [/->/, 'operators'],\n\n                [/\\|/, 'operators'],\n\n                [/(\\w*)(\\s?)(::)/, ['keyword', 'white', 'operators']],\n\n                [/[+\\-*/=<>\\\\]/, 'operators'],\n\n                [/[a-zA-Z_][a-zA-Z0-9_]*/, {\n                    cases: {\n                        '@builtintypes': 'type',\n                        '@keywords': 'keyword',\n                        '@default': '',\n                    },\n                }],\n\n                [/[()[\\],:]/, 'delimiter'],\n\n                [/@numbers/, 'number'],\n\n                [/(\")(.*)(\")/, ['string', 'string', 'string']],\n            ],\n\n            comment: [\n                [/[^/*]+/, 'comment'],\n                [/\\*\\//, 'comment', '@pop'],\n                [/[/*]/, 'comment'],\n            ],\n\n            whitespace: [\n                [/[ \\t\\r\\n]+/, 'white'],\n                [/\\/\\*/, 'comment', '@comment'],\n                [/\\/\\/.*$/, 'comment'],\n            ],\n        },\n    };\n}\n\nmonaco.languages.register({ id: 'clean' });\nmonaco.languages.setMonarchTokensProvider('clean', definition());\n\nexport {};\n","// Copyright (c) 2018, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar $ = require('jquery'),\n    _ = require('underscore'),\n    ga = require('analytics').ga;\n\nfunction handleMotd(motd, motdNode, subLang, adsEnabled, onHide) {\n    if (motd.motd) {\n        motdNode.find('.content').html(motd.motd);\n        motdNode.removeClass('d-none');\n        motdNode.find('.close')\n            .on('click', function () {\n                motdNode.addClass('d-none');\n            })\n            .prop('title', 'Hide message');\n    } else if (adsEnabled) {\n        var applicableAds = _.filter(motd.ads, function (ad) {\n            return !subLang || !ad.filter || ad.filter.length === 0 || ad.filter.indexOf(subLang) >= 0;\n        });\n        var randomAd = applicableAds[_.random(applicableAds.length - 1)];\n        if (randomAd) {\n            motdNode.find('.content').html(randomAd.html);\n            motdNode.find('.close').on('click', function () {\n                ga.proxy('send', {\n                    hitType: 'event',\n                    eventCategory: 'Ads',\n                    eventLabel: 'Visibility',\n                    eventAction: 'Hide',\n                });\n                motdNode.addClass('d-none');\n                onHide();\n            });\n            motdNode.find('a').on('click', function () {\n                ga.proxy('send', {\n                    hitType: 'event',\n                    eventCategory: 'Ads',\n                    eventAction: 'Click',\n                    eventLabel: this.href,\n                });\n            });\n            motdNode.removeClass('d-none');\n        }\n    }\n}\n\nfunction initialise(url, motdNode, defaultLanguage, adsEnabled, onMotd, onHide) {\n    if (!url) return;\n    $.getJSON(url)\n        .then(function (res) {\n            onMotd(res);\n            handleMotd(res, motdNode, defaultLanguage, adsEnabled, onHide);\n        })\n        .catch(function () {\n            // do nothing! we've long tried to find out why this might fail, and it seems page load cancels or ad\n            // blockers might reasonably cause a failure here, and it's no big deal.\n            // Some history at https://github.com/compiler-explorer/compiler-explorer/issues/1057\n        });\n}\n\nmodule.exports = {\n    initialise: initialise,\n};\n","// Copyright (c) 2018, Marc Tiehuis\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar monaco = require('monaco-editor');\n\nfunction definition() {\n    return {\n        defaultToken: 'invalid',\n\n        keywords: [\n            'const', 'var', 'extern', 'packed', 'export', 'pub', 'noalias', 'inline',\n            'comptime', 'nakedcc', 'stdcallcc', 'volatile', 'align', 'section', 'linksection',\n            'struct', 'enum', 'union',\n            'break', 'return', 'continue', 'asm', 'defer', 'errdefer', 'unreachable',\n            'try', 'catch', 'async', 'await', 'suspend', 'resume', 'cancel',\n            'if', 'else', 'switch', 'and', 'or', 'orelse',\n            'while', 'for',\n            'null', 'undefined',\n            'fn', 'usingnamespace', 'use', 'test',\n            'this',\n        ],\n        typeKeywords: [\n            'bool', 'f32', 'f64', 'f128', 'void', 'noreturn', 'type', 'error', 'anyerror', 'promise', 'anyframe',\n            'isize', 'usize', 'c_short', 'c_ushort', 'c_int', 'c_uint', 'c_long', 'c_ulong',\n            'c_longlong', 'c_ulonglong', 'c_longdouble', 'c_void',\n        ],\n        operators: [\n            '+', '+%', '-', '-%', '/', '*', '*%', '=', '^', '&', '?', '|',\n            '!', '>', '<', '%', '<<', '<<%', '>>',\n            '+=', '+%=', '-=', '-%=', '/=', '*=', '*%=', '==', '^=', '&=',\n            '?=', '|=', '!=', '>=', '<=', '%=', '<<=', '<<%=', '>>=',\n        ],\n\n        symbols: /[=><!~?:&|+\\-*/^%]+/,\n\n        escapes: /\\\\(?:[abfnrtv\\\\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,\n\n        tokenizer: {\n            root: [\n                // u0/i0 integer types\n                [/[iu]\\d+/, 'keyword'],\n\n                // identifiers and keywords\n                [/[a-z_$][\\w$]*/, {\n                    cases: {\n                        '@typeKeywords': 'keyword',\n                        '@keywords': 'keyword',\n                        '@default': 'identifier',\n                    },\n                }],\n\n                [/@[a-zA-Z_$]*/, 'builtin.identifier'],\n\n                [/[A-Z][\\w$]*/, 'type.identifier'],  // to show class names nicely\n\n                // whitespace\n                {include: '@whitespace'},\n\n                // delimiters and operators\n                [/[{}()[\\]]/, '@brackets'],\n                [/[<>](?!@symbols)/, '@brackets'],\n                [/@symbols/, {\n                    cases: {\n                        '@operators': 'operator',\n                        '@default': '',\n                    },\n                }],\n\n                // numbers\n                [/\\d*\\.\\d+([eE][-+]?\\d+)?[fFdD]?/, 'number.float'],\n                [/0[xX][0-9a-fA-F_]*[0-9a-fA-F][Ll]?/, 'number.hex'],\n                [/0o[0-7_]*[0-7][Ll]?/, 'number.octal'],\n                [/0[bB][0-1_]*[0-1][Ll]?/, 'number.binary'],\n                [/\\d+/, 'number'],\n\n                // delimiter: after number because of .\\d floats\n                [/[;,.]/, 'delimiter'],\n\n                // strings\n                [/\"([^\"\\\\]|\\\\.)*$/, 'string.invalid'],  // non-teminated string\n                [/c?\\\\\\\\.*$/, 'string'],\n                [/c?\"/, 'string', '@string'],\n\n                // characters\n                [/'[^\\\\']'/, 'string'],\n                [/(')(@escapes)(')/, ['string', 'string.escape', 'string']],\n                [/'/, 'string.invalid'],\n            ],\n\n            whitespace: [\n                [/[ \\r\\n]+/, 'white'],\n                [/\\/\\*/, 'comment', '@comment'],\n                [/\\/\\+/, 'comment', '@comment'],\n                [/\\/\\/.*$/, 'comment'],\n                [/\\t/, 'comment.invalid'],\n            ],\n\n            comment: [\n                [/[^/*]+/, 'comment'],\n                [/\\/\\*/, 'comment.invalid'],\n                [/[/*]/, 'comment'],\n            ],\n\n            string: [\n                [/[^\\\\\"]+/, 'string'],\n                [/@escapes/, 'string.escape'],\n                [/\\\\./, 'string.escape.invalid'],\n                [/\"/, 'string', '@pop'],\n            ],\n        },\n    };\n}\n\nmonaco.languages.register({id: 'zig'});\nmonaco.languages.setMonarchTokensProvider('zig', definition());\n\nexport {};\n","// Copyright (c) 2018, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar _ = require('underscore');\nvar $ = require('jquery');\nvar EventEmitter = require('events');\n\n\nfunction Togglesv2(root, state) {\n    EventEmitter.call(this);\n    var buttons = root.find('.button-checkbox');\n    var self = this;\n    this.buttons = buttons;\n    this.state = _.extend({}, state);\n    // Based on https://bootsnipp.com/snippets/featured/jquery-checkbox-buttons\n    buttons.each(function () {\n        // Settings\n        var $widget = $(this),\n            $button = $widget.find('button'),\n            $checkbox = $widget.find('input:checkbox'),\n            bind = $button.data('bind'),\n            settings = {\n                on: {\n                    icon: 'far fa-check-square',\n                },\n                off: {\n                    icon: 'far fa-square',\n                },\n            };\n\n        // Event Handlers\n        $button.on('click', function (e) {\n            $checkbox.prop('checked', !$checkbox.is(':checked'));\n            $checkbox.triggerHandler('change');\n            e.stopPropagation();\n        });\n        $checkbox.on('change', function () {\n            updateDisplay();\n        });\n\n        // Actions\n        function updateDisplay(forcedState) {\n            if (forcedState !== undefined) {\n                $checkbox.prop('checked', forcedState);\n            }\n            var isChecked = $checkbox.is(':checked');\n\n            // Set the button's state\n            $button.data('state', (isChecked) ? 'on' : 'off');\n\n            // Set the button's icon\n            $button.find('.state-icon')\n                .removeClass()\n                .addClass('state-icon ' + settings[$button.data('state')].icon);\n\n            // Update the button's color\n            $button.toggleClass('active', isChecked);\n            if (forcedState === undefined) {\n                self.set(bind, isChecked);\n            }\n        }\n\n        // Initialization\n        function init() {\n            updateDisplay(self.state[bind]);\n\n            // Inject the icon if applicable\n            if ($button.find('.state-icon').length === 0) {\n                $button.prepend('<i class=\"state-icon ' + settings[$button.data('state')].icon + '\"></i> ');\n            }\n        }\n        init();\n    });\n}\n\n_.extend(Togglesv2.prototype, EventEmitter.prototype);\n\nTogglesv2.prototype.get = function () {\n    return _.clone(this.state);\n};\n\nTogglesv2.prototype.set = function (key, value) {\n    this._change(function () {\n        this.state[key] = value;\n    }.bind(this));\n};\n\nTogglesv2.prototype.enableToggle = function (key, enable) {\n    this.buttons.each(function () {\n        var widget = $(this);\n        var button = $(widget.find('button'));\n        var bind = button.data('bind');\n        if (bind === key) {\n            button.prop('disabled', !enable);\n        }\n    });\n};\n\nTogglesv2.prototype._change = function (update) {\n    var before = this.get();\n    update();\n    this.emit('change', before, this.get());\n};\n\nmodule.exports = {\n    Toggles: Togglesv2,\n};\n","// Copyright (c) 2021, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\nimport * as monaco from 'monaco-editor';\n\nimport { Alert } from './alert';\nimport { getStoredSettings } from './settings';\nimport { FormatRequestOptions, FormatResponse } from './formatter-registry.interfaces';\nimport { SiteSettings } from './settings.interfaces';\n\n// Proxy function to emit the error to the alert system\nconst onFormatError = (cause: string, source: string) => {\n    const alertSystem = new Alert();\n    alertSystem.notify(`We encountered an error formatting your code: ${cause}`, {\n        group: 'formatting',\n        alertClass: 'notification-error',\n    });\n    return source;\n};\n\nconst getFormattedCode = async ({ source, formatterId, base, tabWidth, useSpaces }: FormatRequestOptions) => {\n    const res = await fetch(`${window.location.origin}${window.httpRoot}api/format/${formatterId}`, {\n        method: 'POST',\n        credentials: 'include',\n        headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/json',\n        },\n        body: JSON.stringify({ source, base, tabWidth, useSpaces }),\n    });\n    const body = await res.json() as FormatResponse;\n    if (res.status === 200 && body.exit === 0) {\n        // API sent 200 and we have a valid response\n        return body.answer;\n    }\n    // We had an error (either HTTP request error, or API error)\n    // Figure out which it is, show it to the user, and reject the promise\n    const cause = body?.answer ?? res.statusText\n    throw new Error(cause);\n};\n\n/**\n * Create a monaco DocumentFormattingEditProvider for a registered monaco\n * language.\n *\n * @param language The monaco-editor registered language to format code for\n * @param formatter The CE format API backend to use\n * @param isOneTrueStyle Whether the CE format API backend has one true style\n */\nconst getDocumentFormatter = (\n    language: string,\n    formatter: string,\n    isOneTrueStyle: boolean,\n): monaco.languages.DocumentFormattingEditProvider => ({\n    async provideDocumentFormattingEdits(\n        model: monaco.editor.ITextModel,\n        options: monaco.languages.FormattingOptions,\n        token: monaco.CancellationToken,\n    ): Promise<monaco.languages.TextEdit[]> {\n        const settings: SiteSettings = getStoredSettings();\n        // If there is only one style, return __DefaultStyle.\n        const base = isOneTrueStyle ? '__DefaultStyle' : settings.formatBase;\n        const source = model.getValue();\n        // Request the formatted code. If that API call fails, we just back off\n        // and return the user's old code.\n        const formattedSource = await getFormattedCode({\n            formatterId: formatter,\n            tabWidth: settings.tabWidth,\n            useSpaces: settings.useSpaces,\n            source,\n            base,\n        }).catch(err => onFormatError(err, source));\n        return [{\n            range: model.getFullModelRange(),\n            text: formattedSource,\n        }];\n    },\n});\n\n/** Register a monaco-editor language's default document formatting provider */\nconst register = (lang: string, formatter: string, isOneTrueStyle: boolean) => {\n    const provider = getDocumentFormatter(lang, formatter, isOneTrueStyle);\n    monaco.languages.registerDocumentFormattingEditProvider(lang, provider);\n}\n\nregister('cppp', 'clangformat', false);\nregister('nc', 'clangformat', false);\nregister('go', 'gofmt', true);\nregister('rust', 'rustfmt', true);\n","// Copyright (c) 2016, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar colour = require('./colour');\nvar themes = require('./themes').themes;\nvar options = require('./options').options;\nvar local = require('./local');\n\nfunction Setting(elem, name, Control, param) {\n    this.elem = elem;\n    this.name = name;\n    this.control = new Control(elem, param);\n}\n\nSetting.prototype.getUi = function () {\n    return this.control.getUi(this.elem);\n};\nSetting.prototype.putUi = function (value) {\n    this.control.putUi(this.elem, value);\n};\n\nfunction Checkbox() {\n}\n\nCheckbox.prototype.getUi = function (elem) {\n    return !!elem.prop('checked');\n};\nCheckbox.prototype.putUi = function (elem, value) {\n    elem.prop('checked', !!value);\n};\n\nfunction Select(elem, populate) {\n    elem.empty();\n    _.each(populate, function (e) {\n        elem.append($('<option value=\"' + e.label + '\">' + e.desc + '</option>'));\n    });\n}\n\nSelect.prototype.getUi = function (elem) {\n    return elem.val();\n};\nSelect.prototype.putUi = function (elem, value) {\n    elem.val(value);\n};\n\nfunction Slider(elem, sliderSettings) {\n    elem\n        .prop('max', sliderSettings.max || 100)\n        .prop('min', sliderSettings.min || 1)\n        .prop('step', sliderSettings.step || 1);\n}\n\nSlider.prototype.getUi = function (elem) {\n    return parseInt(elem.val());\n};\n\nSlider.prototype.putUi = function (elem, value) {\n    elem.val(value);\n};\n\nfunction Textbox() {\n}\n\nTextbox.prototype.getUi = function (elem) {\n    return elem.val();\n};\n\nTextbox.prototype.putUi = function (elem, value) {\n    elem.val(value);\n};\n\nfunction Numeric(elem, params) {\n    this.min = params.min;\n    this.max = params.max;\n    elem.attr('min', params.min)\n        .attr('max', params.max);\n}\n\nNumeric.prototype.getUi = function (elem) {\n    var val = parseInt(elem.val());\n    if (val < this.min) return this.min;\n    if (val > this.max) return this.max;\n    return val;\n};\n\nNumeric.prototype.putUi = function (elem, value) {\n    if (value < this.min) value = this.min;\n    if (value > this.max) value = this.max;\n    elem.val(value);\n};\n\n// Ignore max statements, there's no limit as to how many settings we need\n// eslint-disable-next-line max-statements\nfunction setupSettings(root, settings, onChange, subLangId) {\n    settings = settings || {};\n    // Ensure the default language is not \"null\" but undefined. Temporary patch for a previous bug :(\n    settings.defaultLanguage = settings.defaultLanguage === null ? undefined : settings.defaultLanguage;\n    var settingsObjs = [];\n\n    function onUiChange() {\n        var settings = {};\n        _.each(settingsObjs, function (s) {\n            settings[s.name] = s.getUi();\n        });\n        onChange(settings);\n    }\n\n    function onSettingsChange(settings) {\n        _.each(settingsObjs, function (s) {\n            s.putUi(settings[s.name]);\n        });\n    }\n\n    // Don't forget to edit the settings.interfaces.ts file if you add/modify\n    // a setting!\n    function add(elem, key, defaultValue, Type, param) {\n        if (settings[key] === undefined)\n            settings[key] = defaultValue;\n        settingsObjs.push(new Setting(elem, key, Type, param));\n        elem.change(onUiChange);\n    }\n\n    add(root.find('.colourise'), 'colouriseAsm', true, Checkbox);\n    add(root.find('.autoCloseBrackets'), 'autoCloseBrackets', true, Checkbox);\n    var colourSchemeSelect = root.find('.colourScheme');\n    add(colourSchemeSelect, 'colourScheme', colour.schemes[0].name, Select,\n        _.map(colour.schemes, function (scheme) {\n            return {label: scheme.name, desc: scheme.desc};\n        })\n    );\n    // Handle older settings\n    if (settings.delayAfterChange === 0) {\n        settings.delayAfterChange = 750;\n        settings.compileOnChange = false;\n    }\n    add(root.find('.compileOnChange'), 'compileOnChange', true, Checkbox);\n    add(root.find('.delay'), 'delayAfterChange', 750, Slider, {\n        max: 3000,\n        step: 250,\n        min: 250,\n        formatter: function (x) {\n            return (x / 1000.0).toFixed(2) + 's';\n        },\n    });\n    add(root.find('.enableCommunityAds'), 'enableCommunityAds', true, Checkbox);\n    add(root.find('.hoverShowSource'), 'hoverShowSource', true, Checkbox);\n    add(root.find('.hoverShowAsmDoc'), 'hoverShowAsmDoc', true, Checkbox);\n\n    var themeSelect = root.find('.theme');\n\n    var defaultThemeId = themes.default.id;\n    if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {\n        defaultThemeId = themes.dark.id;\n    }\n\n    add(themeSelect, 'theme', defaultThemeId, Select,\n        _.map(themes, function (theme) {\n            return {label: theme.id, desc: theme.name};\n        })\n    );\n    add(root.find('.showQuickSuggestions'), 'showQuickSuggestions', false, Checkbox);\n    add(root.find('.useCustomContextMenu'), 'useCustomContextMenu', true, Checkbox);\n    add(root.find('.showMinimap'), 'showMinimap', true, Checkbox);\n\n    function handleThemes() {\n        var newTheme = themeSelect.val();\n        // Store the scheme of the old theme\n        $.data(themeSelect, 'theme-' + $.data(themeSelect, 'last-theme'), colourSchemeSelect.val());\n        // Get the scheme of the new theme\n        var newThemeStoredScheme = $.data(themeSelect, 'theme-' + newTheme);\n        var isStoredUsable = false;\n        colourSchemeSelect.empty();\n        _.each(colour.schemes, function (scheme) {\n            if (!scheme.themes || scheme.themes.length === 0 || scheme.themes.indexOf(newTheme) !== -1 ||\n                scheme.themes.indexOf('all') !== -1) {\n\n                colourSchemeSelect.append($('<option value=\"' + scheme.name + '\">' + scheme.desc + '</option>'));\n                if (newThemeStoredScheme === scheme.name) {\n                    isStoredUsable = true;\n                }\n            }\n        });\n        if (colourSchemeSelect.children().length >= 1) {\n            colourSchemeSelect.val(isStoredUsable ? newThemeStoredScheme : colourSchemeSelect.first().val());\n        } else {\n            // This should never happen. In case it does, lets use the default one\n            colourSchemeSelect.append(\n                $('<option value=\"' + colour.schemes[0].name + '\">' + colour.schemes[0].desc + '</option>'));\n            colourSchemeSelect.val(colourSchemeSelect.first().val());\n        }\n        colourSchemeSelect.trigger('change');\n    }\n\n    var langs = options.languages;\n\n    var defaultLanguageSelector = root.find('.defaultLanguage');\n    var defLang = settings.defaultLanguage || _.keys(langs)[0] || 'c++';\n    add(defaultLanguageSelector, 'defaultLanguage', defLang, Select,\n        _.map(langs, function (lang) {\n            return {label: lang.id, desc: lang.name};\n        })\n    );\n    if (subLangId) {\n        defaultLanguageSelector\n            .prop('disabled', true)\n            .prop('title', 'Default language inherited from subdomain')\n            .css('cursor', 'not-allowed');\n    }\n\n    add(root.find('.newEditorLastLang'), 'newEditorLastLang', true, Checkbox);\n\n    var formats = ['Google', 'LLVM', 'Mozilla', 'Chromium', 'WebKit', 'Microsoft', 'GNU'];\n    add(root.find('.formatBase'), 'formatBase', formats[0], Select,\n        _.map(formats, function (format) {\n            return {label: format, desc: format};\n        }));\n    //add(root.find('.formatOverrides'), 'formatOverrides', \"\", TextAreaInput);\n    add(root.find('.wordWrap'), 'wordWrap', false, Checkbox);\n\n    function setSettings(settings) {\n        onSettingsChange(settings);\n        onChange(settings);\n    }\n    add(root.find('.useSpaces'), 'useSpaces', true, Checkbox);\n    add(root.find('.tabWidth'), 'tabWidth', 4, Numeric, {min: 1, max: 80});\n    // note: this is the ctrl+s \"Save option\"\n    add(root.find('.enableCtrlS'), 'enableCtrlS', true, Checkbox);\n    add(root.find('.enableCtrlStree'), 'enableCtrlStree', true, Checkbox);\n    add(root.find('.editorsFFont'), 'editorsFFont', 'Consolas, \"Liberation Mono\", Courier, monospace', Textbox);\n    add(root.find('.editorsFLigatures'), 'editorsFLigatures', false, Checkbox);\n    add(root.find('.allowStoreCodeDebug'), 'allowStoreCodeDebug', true, Checkbox);\n    add(root.find('.useVim'), 'useVim', false, Checkbox);\n    add(root.find('.autoIndent'), 'autoIndent', true, Checkbox);\n    add(root.find('.keepSourcesOnLangChange'), 'keepSourcesOnLangChange', false, Checkbox);\n\n    setSettings(settings);\n    handleThemes();\n    themeSelect.change(function () {\n        handleThemes();\n        $.data(themeSelect, 'last-theme', themeSelect.val());\n    });\n    $.data(themeSelect, 'last-theme', themeSelect.val());\n    return setSettings;\n}\n\nfunction getStoredSettings() {\n    return JSON.parse(local.get('settings', '{}'));\n}\n\nmodule.exports = {\n    init: setupSettings,\n    getStoredSettings: getStoredSettings,\n};\n","module.exports = \"<!doctype html> <html lang=en> <body> <span id=last-changed></span> <h2>Compiler Explorer Privacy Policy</h2> <p> Thanks for your interest in what Compiler Explorer does with your data. Data protection is really important to the Compiler Explorer team, and we want to be very clear about what we do with your data. </p> <h3>Who we are</h3> <p> Compiler Explorer was created by and is primarily administrated by <a href=mailto:matt@godbolt.org>Matt Godbolt</a>, along with a number of volunteers (including, but not limited to those listed in our \\\"<a href=https://github.com/compiler-explorer/compiler-explorer/blob/main/AUTHORS.md target=_blank rel=\\\"noreferrer noopener\\\">Authors</a>\\\" documentation). It is run on a best-effort basis, and is not a commercial product. We do our best to keep your data safe, but welcome help from the community: See our <a href=https://github.com/compiler-explorer/compiler-explorer target=_blank rel=\\\"noreferrer noopener\\\">GitHub project page</a> if you wish to help. </p> <h3>Your data</h3> <p> In order to process compilation and execution requests, your browser sends the source code you typed in the editor window along with your chosen compiler and options to the Compiler Explorer servers. There, the source code is written to disk and your chosen compiler is invoked on it. If your request was to have your code executed, the resulting executable is run. The outputs from compilation and execution are processed and sent back to your web browser, where they're shown. Shortly after this process completes, your source code is deleted from disk. If, in processing your query, an issue with Compiler Explorer is found, your code may be kept for up to a week in order to help debug and diagnose the problem. Only the Compiler Explorer team will have access to your code, and only for the purposes of debugging the site: we will never share your code with anyone. </p> <p> If you choose a Microsoft compiler, then your code may be sent to and compiled on a machine administrated by Microsoft. Such code is covered by the <a href=https://privacy.microsoft.com/en-US/ target=_blank>Microsoft Privacy Policy.</a> </p> <p> The source code and options are also subject to a one-way hash, which is used to cache the results to speed up subsequent compilations of the same code. The cache is in-memory and on-disk. It's impossible to reconstruct the source code from the hash, but the resulting assembly code or binary output (the compilation result) is stored as plain text. There's no way to enumerate the in-memory cache contents. In exceptional cases, administrator members of the Compiler Explorer team may be able to enumerate the disk caches and retrieve the compilation output, but with no way to trace it back to the source code. </p> <p> In short: your source code is stored in plaintext for the minimum time feasible to be able to process your request. After that, it is discarded and is inaccessible. In very rare cases your code may be kept for a little longer (at most a week) to help debug issues in Compiler Explorer. </p> <h4>Short links</h4> <p> If you choose to share your code using the \\\"Share\\\" dropdown, then the user interface state including the source code is stored. For a \\\"Full\\\" link, this information is encoded into the URL as a URL hash (e.g. <code>https://godbolt.org/#ui_state_and_code</code>). For short URLs, the interface state is stored on Compiler Explorer's servers, and a shortened name uniquely referring to this data is returned. The shortened name comes from a secure hash of the state, and without knowing the name it is infeasible to access the data. Only Compiler Explorer administrators can access this data directly. Obfuscated IP addresses and creation time are stored alongside this data, to enable spam detection. Links of this form look like <code>https://godbolt.org/z/SHORTNAME</code>. </p> <p> Prior to storing data itself, Compiler Explorer used an external URL shortening service (<a href=https://goo.gl/ target=_blank>goo.gl</a>) and the resulting short URL was rewritten as <code>https://godbolt.org/g/SHORTURLPART</code>. The storage for the user experience state in this case remains with the short URL provider, not Compiler Explorer. </p> <h4>Application, web and error logs</h4> <p> Compiler Explorer keeps application logs, which contain semi-anonymised IP addresses, but no other personally identifying information. When a long URL is clicked, the hash part of the URL is not sent to the server, so the user state (including the source code) is NOT exposed in the web log. If a user clicks a short URL, then the short form IS exposed in the web log (as <code>https://godbolt.org/g/SHORTURLPART</code>) and from this the source code can be retrieved. As such, if you create a short URL of your code, your source code and other user state can in principle be retrieved from the web log of Compiler Explorer. </p> <p> Compiler Explorer uses Amazon's web serving, load balancing and edge caching systems. In order to debug and diagnose Compiler Explorer, to help track down and block Denial of Service attacks, and to gather statistics about Compiler Explorer's performance and usage, the logs from these systems are archived. These logs contain the full IP addresses of requests. They are kept for no more than one month, after which they are permanently deleted. </p> <p> If your web browser experiences an error, we use a third party reporting system (<a href=https://sentry.io/ >Sentry</a>). This keeps information, including your IP address and web browser user agent, for no more than 90 days. </p> <h4>Executing your code</h4> <p> For certain configurations, we may support executing the results of your compilation on the Compiler Explorer servers. Execution occurs in a heavily locked-down, isolated environment. We have made reasonable efforts to protect both the Compiler Explorer site and other concurrently-processed requests from information leakage due to rogue executions. </p> <h4>Cookies</h4> <p> Separately, Compiler Explorer uses small pieces of information stored on your computer: Cookies and Browser Local Storage. Cookies are only used with the user's permission, and are used with external analytics services (e.g. Google Analytics) to gather statistics on Compiler Explorer usage. This information is used to help the Compiler Explorer team plan for future updates and hardware upgrades in order to ensure the site remains stable and responsive. Local storage is used to remember the user's settings, source code and user interface configuration, so that it's available when the user visits the Compiler Explorer site again. This information is not transmitted to Compiler Explorer, except as described above in order to fulfil the user's requests. There is a <a href=#cookies rel=\\\"noreferrer noopener\\\">separate document</a> covering more on this. Statistics tracking information is kept for 14 months, after which it is removed. </p> <h3>Your choices</h3> <p> Compiler Explorer is an open source project. If you are concerned about any of the data protection measures outlined above, or about what happens to your source code, you are encouraged to run your own local instance of Compiler Explorer. Instructions on how to do this are on the <a href=https://github.com/compiler-explorer/compiler-explorer target=_blank rel=\\\"noreferrer noopener\\\">GitHub project page</a>. </p> <h3>Compiler Explorer and the GDPR</h3> <p> The Compiler Explorer team believes the Compiler Explorer site is compliant with the EU's General Data Protection Regulation (GDPR). Specifically, we store no personally identifying information, we anonymise the little data that we do have and we do not permanently store any user data. </p> <h4>Name and Address of the controller</h4> <p> The Controller for the purposes of the General Data Protection Regulation (GDPR), other data protection laws applicable in Member states of the European Union and other provisions related to data protection is: </p> <div> Matt Godbolt<br> 2626 Orrington Ave<br> Evanston IL 60201 USA<br> +1 312 792-7931<br> <a href=mailto:matt@godbolt.org>matt@godbolt.org</a> </div> </body> </html> \";","// Copyright (c) 2021, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\nimport _ from 'underscore';\nimport * as monaco from 'monaco-editor';\n\nimport { SiteSettings } from './settings.interfaces';\n\nconst DEFAULT_MONACO_CONFIG = {\n    fontFamily: 'Consolas, \"Liberation Mono\", Courier, monospace',\n    scrollBeyondLastLine: true,\n    quickSuggestions: false,\n    fixedOverflowWidgets: true,\n    minimap: {\n        maxColumn: 80,\n    },\n    folding: true,\n    lineNumbersMinChars: 1,\n    emptySelectionClipboard: true,\n};\n\ntype EditorKinds =\n    | monaco.editor.IStandaloneDiffEditor\n    | monaco.editor.IStandaloneCodeEditor;\n\n/** Pick consturction options based on editor kind */\ntype EditorConstructionType<E extends EditorKinds> =\n    E extends monaco.editor.IStandaloneDiffEditor\n        ? monaco.editor.IDiffEditorConstructionOptions\n        : monaco.editor.IStandaloneEditorConstructionOptions;\n\n/**\n * Extend the default monaco editor construction options.\n *\n * Type parameter E indicates which editor kind you're constructing a config\n * for. Valid options are EditorKinds, aka monaco.editor.IStandaloneDiffEditor\n * or monaco.editor.IStandaloneCodeEditor\n *\n * TODO(supergrecko): underscore.extend yields any, can we improve the type\n *  check on this?\n */\nexport function extendConfig<\n    E extends EditorKinds = monaco.editor.IStandaloneCodeEditor,\n    T = EditorConstructionType<E>>(\n    overrides: T,\n    settings?: Pick<SiteSettings, 'editorsFFont' | 'autoIndent' | 'useVim' | 'editorsFLigatures'>,\n): T {\n    if (settings !== undefined) {\n        return _.extend({}, DEFAULT_MONACO_CONFIG, {\n            fontFamily: settings.editorsFFont,\n            autoIndent: settings.autoIndent ? 'advanced' : 'none',\n            vimInUse: settings.useVim,\n            fontLigatures: settings.editorsFLigatures,\n        }, overrides);\n    }\n    return _.extend({}, DEFAULT_MONACO_CONFIG, overrides);\n}\n","// Copyright (c) 2018, Forschungzentrum Juelich GmbH, Juelich Supercomputing Centre\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n// The lists of keywords, operator, functions, and subroutines have been adopted from\n//    vs.language.fortran, Copyright (c) 2015, Thomas E. Dunn\n\n'use strict';\nvar monaco = require('monaco-editor');\n\nfunction definition() {\n    return {\n        // Fortran is case insensitive, so ignore case...\n        ignoreCase: true,\n\n        defaultToken: 'invalid',\n\n        keywords: [\n            'abstract',\n            'all',\n            'allocatable',\n            'allocate',\n            'assign',\n            'assignment',\n            'asynchronous',\n            'backspace',\n            'bind',\n            'block',\n            'blockdata',\n            'character',\n            'close',\n            'common',\n            'complex',\n            'concurrent',\n            'contiguous',\n            'call',\n            'case',\n            'class',\n            'codimension',\n            'contains',\n            'continue',\n            'cycle',\n            'data',\n            'deallocate',\n            'deferred',\n            'dimension',\n            'do',\n            'double',\n            'doubleprecision',\n            'elemental',\n            'else',\n            'elsewhere',\n            'end',\n            'endblock',\n            'endblockdata',\n            'enddo',\n            'endenum',\n            'endfile',\n            'endforall',\n            'endfunction',\n            'endif',\n            'endinterface',\n            'endmodule',\n            'endprogram',\n            'endselect',\n            'endsubmodule',\n            'endsubroutine',\n            'endtype',\n            'endwhere',\n            'endwhile',\n            'entry',\n            'enum',\n            'enumerator',\n            'equivalence',\n            'error',\n            'exit',\n            'external',\n            'final',\n            'flush',\n            'forall',\n            'format',\n            'function',\n            'generic',\n            'go',\n            'goto',\n            'if',\n            'implicit',\n            'import',\n            'in',\n            'include',\n            'inout',\n            'inquire',\n            'intent',\n            'interface',\n            'intrinsic',\n            'is',\n            'logical',\n            'module',\n            'non_overridable',\n            'none',\n            'nopass',\n            'nullify',\n            'only',\n            'open',\n            'operator',\n            'optional',\n            'out',\n            'parameter',\n            'pass',\n            'pause',\n            'pointer',\n            'precision',\n            'print',\n            'private',\n            'procedure',\n            'program',\n            'protected',\n            'public',\n            'pure',\n            'read',\n            'real',\n            'recursive',\n            'result',\n            'return',\n            'rewind',\n            'save',\n            'select',\n            'sequence',\n            'stop',\n            'submodule',\n            'subroutine',\n            'target',\n            'then',\n            'to',\n            'type',\n            'use',\n            'value',\n            'volatile',\n            'wait',\n            'where',\n            'while',\n            'write',\n        ],\n\n        typeKeywords: [\n            'logical',\n            'character',\n            'real',\n            'integer',\n            'complex',\n            'type',\n            'class',\n            // add non-type keywords that make sense when combined w/ types\n            'intent',\n            'dimension',\n            'allocatable',\n            'parameter',\n            'private',\n            'public',\n        ],\n\n        operators: [\n            '=',\n            '==',\n            '/=',\n            '>',\n            '>=',\n            '<',\n            '<=',\n            '=>',\n            '+',\n            '-',\n            '*',\n            '/',\n            '**',\n            '//',\n            '.and.',\n            '.eq.',\n            '.eqv.',\n            '.le.',\n            '.lt.',\n            '.ge.',\n            '.gt.',\n            '.ne.',\n            '.neqv.',\n            '.not.',\n            '.or.',\n        ],\n\n        functions: [\n            'abs',\n            'achar',\n            'acos',\n            'acosh',\n            'adjustl',\n            'adjustr',\n            'aimag',\n            'aint',\n            'all',\n            'allocated',\n            'anint',\n            'any',\n            'asin',\n            'asinh',\n            'associated',\n            'atan',\n            'atan2',\n            'atanh',\n            'bessel_j0',\n            'bessel_j1',\n            'bessel_jn',\n            'bessel_y0',\n            'bessel_y1',\n            'bessel_yn',\n            'bge',\n            'bgt',\n            'bit_size',\n            'ble',\n            'blt',\n            'btest',\n            'c_associated',\n            'c_funloc',\n            'c_loc',\n            'c_sizeof',\n            'ceiling',\n            'char',\n            'cmplx',\n            'command_argument_count',\n            'compiler_options',\n            'compiler_version',\n            'conjg',\n            'cos',\n            'cosh',\n            'count',\n            'cshift',\n            'dble',\n            'digits',\n            'dim',\n            'dot_product',\n            'dprod',\n            'dshiftl',\n            'dshiftr',\n            'eoshift',\n            'epsilon',\n            'erf',\n            'erfc',\n            'erfc_scaled',\n            'exp',\n            'exponent',\n            'extends_type_of',\n            'findloc',\n            'floor',\n            'fraction',\n            'gamma',\n            'huge',\n            'hypot',\n            'iachar',\n            'iall',\n            'iand',\n            'iany',\n            'ibclr',\n            'ibits',\n            'ibset',\n            'ichar',\n            'ieee_class',\n            'ieee_copy_sign',\n            'ieee_is_finite',\n            'ieee_is_nan',\n            'ieee_is_normal',\n            'ieee_logb',\n            'ieee_next_after',\n            'ieee_rem',\n            'ieee_rint',\n            'ieee_scalb',\n            'ieee_selected_real_kind',\n            'ieee_support_datatype',\n            'ieee_support_denormal',\n            'ieee_support_divide',\n            'ieee_support_flag',\n            'ieee_support_halting',\n            'ieee_support_inf',\n            'ieee_support_io',\n            'ieee_support_nan',\n            'ieee_support_rounding',\n            'ieee_support_sqrt',\n            'ieee_support_standard',\n            'ieee_support_underflow_control',\n            'ieee_unordered',\n            'ieee_value',\n            'ieor',\n            'image_index',\n            'index',\n            'int',\n            'ior',\n            'iparity',\n            'ishft',\n            'ishftc',\n            'is_contiguous',\n            'is_iostat_end',\n            'is_iostat_eor',\n            'kind',\n            'lbound',\n            'lcobound',\n            'leadz',\n            'len',\n            'len_trim',\n            'lge',\n            'lgt',\n            'lle',\n            'llt',\n            'log',\n            'log_gamma',\n            'log10',\n            'logical',\n            'maskl',\n            'maskr',\n            'matmul',\n            'max',\n            'maxexponent',\n            'maxloc',\n            'maxval',\n            'merge',\n            'merge_bits',\n            'min',\n            'minexponent',\n            'minloc',\n            'minval',\n            'mod',\n            'modulo',\n            'nearest',\n            'new_line',\n            'nint',\n            'norm2',\n            'not',\n            'null',\n            'num_images',\n            'pack',\n            'parity',\n            'popcnt',\n            'poppar',\n            'precision',\n            'present',\n            'product',\n            'radix',\n            'range',\n            'real',\n            'repeat',\n            'reshape',\n            'rrspacing',\n            'same_type_as',\n            'scale',\n            'scan',\n            'selected_char_kind',\n            'selected_int_kind',\n            'selected_real_kind',\n            'set_exponent',\n            'shape',\n            'shifta',\n            'shiftl',\n            'shiftr',\n            'sign',\n            'sin',\n            'sinh',\n            'size',\n            'spacing',\n            'spread',\n            'sqrt',\n            'storage_size',\n            'sum',\n            'tan',\n            'tanh',\n            'this_image',\n            'tiny',\n            'trailz',\n            'transfer',\n            'transpose',\n            'trim',\n            'ubound',\n            'ucobound',\n            'unpack',\n            'verify',\n        ],\n\n        subroutines: [\n            'c_f_pointer',\n            'c_f_procpointer',\n            'cpu_time',\n            'date_and_time',\n            'execute_command_line',\n            'get_command',\n            'get_command_argument',\n            'get_environment_variable',\n            'ieee_get_flag',\n            'ieee_get_halting_mode',\n            'ieee_get_rounding_mode',\n            'ieee_get_status',\n            'ieee_get_underflow_mode',\n            'ieee_set_flag',\n            'ieee_set_halting_mode',\n            'ieee_set_rounding_mode',\n            'ieee_set_status',\n            'ieee_set_underflow_mode',\n            'move_alloc',\n            'mvbits',\n            'random_number',\n            'random_seed',\n            'system_clock',\n        ],\n\n        // we include these common regular expressions\n        symbols: /[=><!~?:&|+\\-*/^%]+/,\n        escapes: /\\\\(?:[abfnrtv\\\\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,\n\n        // The main tokenizer for our languages\n        tokenizer: {\n            root: [\n                // identify type declarations (also functions)\n                [/[a-zA-Z][\\w$]*(?=.*(::|function))/, {\n                    cases: {\n                        '@typeKeywords': 'type.identifier',\n                        '@keywords': 'keyword',\n                        '@default': 'identifier',\n                    },\n                }],\n                // identifiers and keywords\n                [/[a-zA-Z][\\w$]*/, {\n                    cases: {\n                        '@keywords': 'keyword',\n                        '@functions': 'keyword',\n                        '@subroutines': 'keyword',\n                        '@default': 'identifier',\n                    },\n                }],\n\n                // comments\n                [/!.*$/, 'comment'],\n\n                // whitespace\n                {include: '@whitespace'},\n\n                // delimiters and operators\n                [/[{}()[\\]]/, '@brackets'],\n                [/[<>](?!@symbols)/, '@brackets'],\n                [/@symbols/, {\n                    cases: {\n                        '@operators': 'operator',\n                        '@default': '',\n                    },\n                }],\n\n                // numbers\n                [/\\d*\\.\\d+([eEdD][-+]?\\d+)?/, 'number.float'],\n                [/[zZ]['\"][0-9a-fA-F]*[0-9a-fA-F]['\"]/, 'number.hex'],\n                [/[oO]['\"][0-7]*[0-7]['\"]/, 'number.octal'],\n                [/[bB]['\"][0-1]*[0-1]['\"]/, 'number.binary'],\n                [/\\d/, 'number'],\n\n                // delimiter: after number because of .\\d floats\n                [/[;,.]/, 'delimiter'],\n\n                // strings\n                [/\"([^\"\\\\]|\\\\.)*$/, 'string.invalid'],  // non-teminated string\n                [/\"/, 'string', '@string'],\n\n                // characters\n                [/'[^\\\\']'/, 'string'],\n                [/(')(@escapes)(')/, ['string', 'string.escape', 'string']],\n                [/'/, 'string.invalid'],\n            ],\n\n            whitespace: [\n                [/[ \\t\\r\\n]+/, 'white'],\n            ],\n\n            comment: [\n                [/!/, 'comment'],\n            ],\n\n            string: [\n                [/[^\\\\\"]+/, 'string'],\n                [/@escapes/, 'string.escape'],\n                [/\\\\./, 'string.escape.invalid'],\n                [/\"/, 'string', '@pop'],\n            ],\n        },\n    };\n}\n\nfunction configuration() {\n    return {\n        comments: {\n            lineComment: '!',\n        },\n\n        brackets: [\n            ['(/', '/)'],\n            ['[', ']'],\n            ['(', ')'],\n        ],\n\n        autoClosingPairs: [\n            {open: '[', close: ']'},\n            {open: '(', close: ')'},\n            {open: '`', close: '`', notIn: ['string','comment']},\n            {open: \"'\", close: \"'\", notIn: ['string','comment']},\n            {open: '\"', close: '\"', notIn: ['string']},\n        ],\n\n        surroundingPairs: [\n            {open: '[', close: ']'},\n            {open: '(', close: ')'},\n            {open: '`', close: '`'},\n            {open: \"'\", close: \"'\"},\n            {open: '\"', close: '\"'},\n        ],\n\n        indentationRules: {\n            decreaseIndentPattern: /(end\\s*(do|if|function|subroutine|program|module|block|associate|forall|select))|else|(^((?!select).)*(case))/,\n            increaseIndentPattern: /(^((?!end).)*(do\\s|if(\\s|\\().*then|function\\s|subroutine\\s|program\\s|module\\s|block\\s*|associate(\\s|\\()|forall|case)|else)/,\n            unIndentedLinePattern: null,\n        },\n    };\n}\n\nvar def = definition();\n\nmonaco.languages.register({id: 'fortran'});\nmonaco.languages.setMonarchTokensProvider('fortran', def);\nmonaco.languages.setLanguageConfiguration('fortran', configuration());\n\nexport = def;\n","// Copyright (c) 2021, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\nimport $ from 'jquery';\nimport Sentry from '@sentry/browser';\nimport GoldenLayout from 'golden-layout';\nimport _ from 'underscore'\nimport ClipboardJS from 'clipboard';\n\nimport ClickEvent = JQuery.ClickEvent;\nimport TriggeredEvent = JQuery.TriggeredEvent;\n\nconst ga = require('./analytics').ga;\nconst options = require('./options').options;\nconst url = require('./url');\nconst cloneDeep = require('lodash.clonedeep');\n\nenum LinkType {\n    Short,\n    Full,\n    Embed\n}\n\nconst shareServices = {\n    twitter: {\n        embedValid: false,\n        logoClass: 'fab fa-twitter',\n        cssClass: 'share-twitter',\n        getLink: (title, url) => `https://twitter.com/intent/tweet?text=${encodeURIComponent(title)}&url=${encodeURIComponent(url)}&via=CompileExplore`,\n        text: 'Tweet',\n    },\n    reddit: {\n        embedValid: false,\n        logoClass: 'fab fa-reddit',\n        cssClass: 'share-reddit',\n        getLink: (title, url) => `http://www.reddit.com/submit?url=${encodeURIComponent(url)}&title=${encodeURIComponent(title)}`,\n        text: 'Share on Reddit',\n    },\n};\n\nexport class Sharing {\n    private layout: GoldenLayout;\n    private lastState: any;\n\n    private share: JQuery;\n    private shareShort: JQuery;\n    private shareFull: JQuery;\n    private shareEmbed: JQuery;\n\n    private clippyButton: ClipboardJS;\n\n    constructor(layout: any) {\n        this.layout = layout;\n        this.lastState = null;\n\n        this.share = $('#share');\n        this.shareShort = $('#shareShort');\n        this.shareFull = $('#shareFull');\n        this.shareEmbed = $('#shareEmbed');\n\n        this.clippyButton = null;\n\n        this.initButtons();\n        this.initCallbacks();\n    }\n\n    private initCallbacks(): void {\n        this.layout.eventHub.on('displaySharingPopover', () => {\n            this.openShareModalForType(LinkType.Short)\n        });\n        this.layout.on('stateChanged', this.onStateChanged.bind(this));\n\n        $('#sharelinkdialog').on('show.bs.modal', this.onOpenModalPane.bind(this))\n            .on('hidden.bs.modal', this.onCloseModalPane.bind(this));\n    }\n\n    private onStateChanged(): void {\n        const config = Sharing.filterComponentState(this.layout.toConfig());\n        this.ensureUrlIsNotOutdated(config);\n        if (options.embedded) {\n            const strippedToLast = window.location.pathname.substr(0, window.location.pathname.lastIndexOf('/') + 1);\n            $('a.link').prop('href', strippedToLast + '#' + url.serialiseState(config));\n        }\n    }\n\n    private ensureUrlIsNotOutdated(config: any): void {\n        const stringifiedConfig = JSON.stringify(config);\n        if (stringifiedConfig !== this.lastState) {\n            if (this.lastState != null && window.location.pathname !== window.httpRoot) {\n                window.history.replaceState(null, null, window.httpRoot);\n            }\n            this.lastState = stringifiedConfig;\n        }\n    }\n\n    private static bindToLinkType(bind: string): LinkType {\n        switch (bind) {\n            case 'Full': return LinkType.Full;\n            case 'Short': return LinkType.Short;\n            case 'Embed': return LinkType.Embed;\n            default: return LinkType.Full;\n        }\n    }\n\n    private onOpenModalPane(event: TriggeredEvent<HTMLElement, undefined, HTMLElement, HTMLElement>): void {\n        // @ts-ignore The property is added by bootstrap\n        const button = $(event.relatedTarget);\n        const currentBind = Sharing.bindToLinkType(button.data('bind'));\n        const modal = $(event.currentTarget);\n        const socialSharingElements = modal.find('.socialsharing');\n        const permalink = modal.find('.permalink');\n        const embedsettings = modal.find('#embedsettings');\n\n        const updatePermaLink = () => {\n            socialSharingElements.empty();\n            const config = this.layout.toConfig();\n            Sharing.getLinks(config, currentBind, (error: any, newUrl: string, extra: string, updateState: boolean) => {\n                permalink.off('click');\n                if (error || !newUrl) {\n                    permalink.prop('disabled', true);\n                    permalink.val(error || 'Error providing URL');\n                    Sentry.captureException(error);\n                } else {\n                    if (updateState) {\n                        Sharing.storeCurrentConfig(config, extra);\n                    }\n                    permalink.val(newUrl);\n                    permalink.on('click', () => {\n                        permalink.trigger('focus').trigger('select');\n                    })\n                    if (options.sharingEnabled) {\n                        Sharing.updateShares(socialSharingElements, newUrl);\n                        // Disable the links for every share item which does not support embed html as links\n                        if (currentBind === LinkType.Embed) {\n                            socialSharingElements.children('.share-no-embeddable')\n                                .hide()\n                                .on('click', false);\n                        }\n                    }\n                }\n            });\n        }\n\n        this.clippyButton = new ClipboardJS(modal.find('button.clippy').get(0));\n        this.clippyButton.on('success', (e) => {\n            this.displayTooltip(permalink, 'Link copied to clipboard');\n            e.clearSelection();\n        });\n        this.clippyButton.on('error', (e) => {\n            this.displayTooltip(permalink, 'Error copying to clipboard');\n        });\n\n        if (currentBind === LinkType.Embed) {\n            embedsettings.show();\n            embedsettings.find('input')\n                // Off any prev click handlers to avoid multiple events triggering after opening the modal more than once\n                .off('click')\n                .on('click', () => updatePermaLink());\n        } else {\n            embedsettings.hide();\n        }\n\n        updatePermaLink();\n\n        ga.proxy('send', {\n            hitType: 'event',\n            eventCategory: 'OpenModalPane',\n            eventAction: 'Sharing',\n        });\n    }\n\n    private onCloseModalPane(): void {\n        if (this.clippyButton) {\n            this.clippyButton.destroy();\n            this.clippyButton = null;\n        }\n    }\n\n    private initButtons(): void {\n        const shareShortCopyToClipBtn = this.shareShort.find('.clip-icon');\n        const shareFullCopyToClipBtn = this.shareFull.find('.clip-icon');\n        const shareEmbedCopyToClipBtn = this.shareEmbed.find('.clip-icon');\n\n        shareShortCopyToClipBtn.on('click', (e) => this.onClipButtonPressed(e, LinkType.Short));\n        shareFullCopyToClipBtn.on('click', (e) => this.onClipButtonPressed(e, LinkType.Full));\n        shareEmbedCopyToClipBtn.on('click', (e) => this.onClipButtonPressed(e, LinkType.Embed));\n\n        if (options.sharingEnabled) {\n            Sharing.updateShares($('#socialshare'), window.location.protocol + '//' + window.location.hostname);\n        }\n    }\n\n    private onClipButtonPressed(event: ClickEvent, type: LinkType): void {\n        // Dont let the modal show up.\n        // We need this because the button is a child of the dropdown-item with a data-toggle=modal\n        if (Sharing.isNavigatorClipboardAvailable()) {\n            event.stopPropagation();\n            this.copyLinkTypeToClipboard(type);\n            // As we prevented bubbling, the dropdown won't close by itself. We need to trigger it manually\n            this.share.dropdown('hide');\n        }\n    }\n\n    private copyLinkTypeToClipboard(type: LinkType): void {\n        const config = this.layout.toConfig();\n        Sharing.getLinks(config, type, (error: any, newUrl: string, extra: string, updateState: boolean) => {\n            if (error || !newUrl) {\n                this.displayTooltip(this.share, 'Oops, something went wrong');\n                Sentry.captureException(error);\n            } else {\n                if (updateState) {\n                    Sharing.storeCurrentConfig(config, extra);\n                }\n                this.doLinkCopyToClipboard(type, newUrl);\n            }\n        });\n    }\n\n    private displayTooltip(where: JQuery, message: string): void {\n        where.tooltip('dispose');\n        where.tooltip({\n            placement: 'bottom',\n            trigger: 'manual',\n            title: message,\n        });\n        where.tooltip('show');\n        // Manual triggering of tooltips does not hide them automatically. This timeout ensures they do\n        setTimeout(() => where.tooltip('hide'), 1500);\n    }\n\n    private openShareModalForType(type: LinkType): void {\n        switch (type) {\n            case LinkType.Short:\n                this.shareShort.trigger('click');\n                break;\n            case LinkType.Full:\n                this.shareFull.trigger('click');\n                break;\n            case LinkType.Embed:\n                this.shareEmbed.trigger('click');\n                break;\n        }\n    }\n\n    private doLinkCopyToClipboard(type: LinkType, link: string): void {\n        if (Sharing.isNavigatorClipboardAvailable()) {\n            navigator.clipboard.writeText(link)\n                .then(() => this.displayTooltip(this.share, 'Link copied to clipboard'))\n                .catch(() => this.openShareModalForType(type));\n        } else {\n            this.openShareModalForType(type);\n        }\n    }\n\n    public static getLinks(config: any, currentBind: LinkType, done: CallableFunction): void {\n        const root = window.httpRoot;\n        ga.proxy('send', {\n            hitType: 'event',\n            eventCategory: 'CreateShareLink',\n            eventAction: 'Sharing',\n        });\n        switch (currentBind) {\n            case LinkType.Short:\n                Sharing.getShortLink(config, root, done);\n                return;\n            case LinkType.Full:\n                done(null, window.location.origin + root + '#' + url.serialiseState(config), false);\n                return;\n            case LinkType.Embed:\n                const options = {};\n                $('#sharelinkdialog input:checked').each((i, element) => {\n                    options[$(element).prop('class')] = true;\n                });\n                done(null, Sharing.getEmbeddedHtml(config, root, false, options), false);\n                return;\n            default:\n                // Hmmm\n                done('Unknown link type', null);\n        }\n    }\n\n    private static getShortLink(config: any, root: string, done: CallableFunction): void {\n        const useExternalShortener = options.urlShortenService !== 'default';\n        const data = JSON.stringify({\n            config: useExternalShortener ? url.serialiseState(config) : config,\n        });\n        $.ajax({\n            type: 'POST',\n            url: window.location.origin + root + 'api/shortener',\n            dataType: 'json',  // Expected\n            contentType: 'application/json',  // Sent\n            data: data,\n            success: (result: any) => {\n                const pushState = useExternalShortener ? null : result.url;\n                done(null, result.url, pushState, true);\n            },\n            error: (err) => {\n                // Notify the user that we ran into trouble?\n                done(err.statusText, null, false);\n            },\n            cache: true,\n        });\n    }\n\n    private static getEmbeddedHtml(config, root, isReadOnly, extraOptions): string {\n        const embedUrl = Sharing.getEmbeddedUrl(config, root, isReadOnly, extraOptions);\n        return `<iframe width=\"800px\" height=\"200px\" src=\"${embedUrl}\"></iframe>`;\n    }\n\n    private static getEmbeddedUrl(config: any, root: string, readOnly: boolean, extraOptions: object): string {\n        const location = window.location.origin + root;\n        const parameters = _.reduce(extraOptions, (total, value, key): string => {\n            if (total === '') {\n                total = '?';\n            } else {\n                total += '&';\n            }\n\n            return total + key + '=' + value;\n        }, '')\n\n        const path = (readOnly ? 'embed-ro' : 'e') + parameters + '#';\n\n        return location + path + url.serialiseState(config);\n    }\n\n    private static storeCurrentConfig(config: any, extra: string): void {\n        window.history.pushState(null, null, extra);\n    }\n\n    private static isNavigatorClipboardAvailable(): boolean {\n        return navigator.clipboard != null;\n    };\n\n    public static filterComponentState(config: any, keysToRemove: [string] = ['selection']): any {\n        function filterComponentStateImpl(component: any) {\n            if (component.content) {\n                for (let i = 0; i < component.content.length; i++) {\n                    filterComponentStateImpl(component.content[i]);\n                }\n            }\n\n            if (component.componentState) {\n                Object.keys(component.componentState)\n                    .filter((e) => keysToRemove.includes(e))\n                    .forEach((key) => delete component.componentState[key]);\n            }\n        }\n\n        config = cloneDeep(config);\n        filterComponentStateImpl(config);\n        return config;\n    }\n\n    private static updateShares(container: JQuery, url: string): void {\n        const baseTemplate = $('#share-item');\n        _.each(shareServices, (service, serviceName) => {\n            const newElement = baseTemplate.children('a.share-item').clone();\n            if (service.logoClass) {\n                newElement.prepend($('<span>')\n                    .addClass('dropdown-icon mr-1')\n                    .addClass(service.logoClass)\n                    .prop('title', serviceName)\n                );\n            }\n            if (service.text) {\n                newElement.children('span.share-item-text')\n                    .text(service.text);\n            }\n            newElement\n                .prop('href', service.getLink('Compiler Explorer', url))\n                .addClass(service.cssClass)\n                .toggleClass('share-no-embeddable', !service.embedValid)\n                .appendTo(container);\n        });\n    }\n}\n","// Copyright (c) 2017, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar Sentry = require('@sentry/browser');\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar LruCache = require('lru-cache');\nvar options = require('./options').options;\nvar Promise = require('es6-promise').Promise;\n\nfunction CompilerService(eventHub) {\n    this.base = window.httpRoot;\n    this.allowStoreCodeDebug = true;\n    this.cache = new LruCache({\n        max: 200 * 1024,\n        length: function (n) {\n            return JSON.stringify(n).length;\n        },\n    });\n    this.compilersByLang = {};\n    _.each(options.compilers, function (compiler) {\n        if (!this.compilersByLang[compiler.lang]) this.compilersByLang[compiler.lang] = {};\n        this.compilersByLang[compiler.lang][compiler.id] = compiler;\n    }, this);\n    // settingsChange is triggered on page load\n    eventHub.on('settingsChange', function (newSettings) {\n        this.allowStoreCodeDebug = newSettings.allowStoreCodeDebug;\n    }, this);\n}\n\nCompilerService.prototype.getDefaultCompilerForLang = function (langId) {\n    return options.defaultCompiler[langId];\n};\n\nCompilerService.prototype.processFromLangAndCompiler = function (languageId, compilerId) {\n    var langId = languageId;\n    var foundCompiler = null;\n    try {\n        if (langId) {\n            if (!compilerId) {\n                compilerId = this.getDefaultCompilerForLang(langId);\n            }\n\n            foundCompiler = this.findCompiler(langId, compilerId);\n            if (!foundCompiler) {\n                var compilers = this.getCompilersForLang(langId);\n                foundCompiler = compilers[_.first(_.keys(compilers))];\n            }\n        } else if (compilerId) {\n            var matchingCompilers =_.map(options.languages, function (lang) {\n                var compiler = this.findCompiler(lang.id, compilerId);\n                if (compiler) {\n                    return {\n                        langId: lang.id,\n                        compiler: compiler,\n                    };\n                }\n                return null;\n            }, this);\n\n            return _.find(matchingCompilers, function (match) {\n                return (match !== null);\n            });\n        } else {\n            var firstLang = _.first(_.values(options.languages));\n            if (firstLang) {\n                return this.processFromLangAndCompiler(firstLang.id, compilerId);\n            }\n        }\n    } catch (e) {\n        Sentry.captureException(e);\n    }\n\n    return {\n        langId: langId,\n        compiler: foundCompiler,\n    };\n};\n\nCompilerService.prototype.getGroupsInUse = function (langId) {\n    return _.chain(this.getCompilersForLang(langId))\n        .map()\n        .uniq(false, function (compiler) {\n            return compiler.group;\n        })\n        .map(function (compiler) {\n            return {value: compiler.group, label: compiler.groupName || compiler.group};\n        })\n        .sort(function (a, b){\n            return a.label.localeCompare(b.label,\n                undefined /* Ignore language */,\n                { sensitivity: 'base' });\n        })\n        .value();\n};\n\nCompilerService.prototype.getCompilersForLang = function (langId) {\n    return this.compilersByLang[langId] || {};\n};\n\nCompilerService.prototype.findCompilerInList = function (compilers, compilerId) {\n    if (compilers && compilers[compilerId]) {\n        return compilers[compilerId];\n    }\n    return _.find(compilers, function (compiler) {\n        return compiler.alias.includes(compilerId);\n    });\n};\n\nCompilerService.prototype.findCompiler = function (langId, compilerId) {\n    if (!compilerId) return null;\n    var compilers = this.getCompilersForLang(langId);\n    return this.findCompilerInList(compilers, compilerId);\n};\n\nfunction handleRequestError(request, reject, xhr, textStatus, errorThrown) {\n    var error = errorThrown;\n    if (!error) {\n        switch (textStatus) {\n            case 'timeout':\n                error = 'Request timed out';\n                break;\n            case 'abort':\n                error = 'Request was aborted';\n                break;\n            case 'error':\n                switch (xhr.status) {\n                    case 500:\n                        error = 'Request failed: internal server error';\n                        break;\n                    case 504:\n                        error = 'Request failed: gateway timeout';\n                        break;\n                    default:\n                        error = 'Request failed: HTTP error code ' + xhr.status;\n                        break;\n                }\n                break;\n            default:\n                error = 'Error sending request';\n                break;\n        }\n    }\n    reject({\n        request: request,\n        error: error,\n    });\n}\n\nCompilerService.prototype.submit = function (request) {\n    request.allowStoreCodeDebug = this.allowStoreCodeDebug;\n    var jsonRequest = JSON.stringify(request);\n    if (options.doCache) {\n        var cachedResult = this.cache.get(jsonRequest);\n        if (cachedResult) {\n            return Promise.resolve({\n                request: request,\n                result: cachedResult,\n                localCacheHit: true,\n            });\n        }\n    }\n    return new Promise(_.bind(function (resolve, reject) {\n        var bindHandler = _.partial(handleRequestError, request, reject);\n        var compilerId = encodeURIComponent(request.compiler);\n        $.ajax({\n            type: 'POST',\n            url: window.location.origin + this.base + 'api/compiler/' + compilerId + '/compile',\n            dataType: 'json',\n            contentType: 'application/json',\n            data: jsonRequest,\n            success: _.bind(function (result) {\n                if (result && result.okToCache && options.doCache) {\n                    this.cache.set(jsonRequest, result);\n                }\n                resolve({\n                    request: request,\n                    result: result,\n                    localCacheHit: false,\n                });\n            }, this),\n            error: bindHandler,\n        });\n    }, this));\n};\n\nCompilerService.prototype.submitCMake = function (request) {\n    request.allowStoreCodeDebug = this.allowStoreCodeDebug;\n    var jsonRequest = JSON.stringify(request);\n    if (options.doCache) {\n        var cachedResult = this.cache.get(jsonRequest);\n        if (cachedResult) {\n            return Promise.resolve({\n                request: request,\n                result: cachedResult,\n                localCacheHit: true,\n            });\n        }\n    }\n    return new Promise(_.bind(function (resolve, reject) {\n        var bindHandler = _.partial(handleRequestError, request, reject);\n        var compilerId = encodeURIComponent(request.compiler);\n        $.ajax({\n            type: 'POST',\n            url: window.location.origin + this.base + 'api/compiler/' + compilerId + '/cmake',\n            dataType: 'json',\n            contentType: 'application/json',\n            data: jsonRequest,\n            success: _.bind(function (result) {\n                if (result && result.okToCache && options.doCache) {\n                    this.cache.set(jsonRequest, result);\n                }\n                resolve({\n                    request: request,\n                    result: result,\n                    localCacheHit: false,\n                });\n            }, this),\n            error: bindHandler,\n        });\n    }, this));\n};\n\nCompilerService.prototype.requestPopularArguments = function (compilerId, options) {\n    return new Promise(_.bind(function (resolve, reject) {\n        var bindHandler = _.partial(handleRequestError, compilerId, reject);\n        $.ajax({\n            type: 'POST',\n            url: window.location.origin + this.base + 'api/popularArguments/' + compilerId,\n            dataType: 'json',\n            data: JSON.stringify({\n                usedOptions: options,\n                presplit: false,\n            }),\n            success: _.bind(function (result) {\n                resolve({\n                    request: compilerId,\n                    result: result,\n                    localCacheHit: false,\n                });\n            }, this),\n            error: bindHandler,\n        });\n    }, this));\n};\n\nCompilerService.prototype.expand = function (source) {\n    var includeFind = /^\\s*#\\s*include\\s*[\"<](https?:\\/\\/[^>\"]+)[>\"]/;\n    var lines = source.split('\\n');\n    var promises = [];\n    _.each(lines, function (line, lineNumZeroBased) {\n        var match = line.match(includeFind);\n        if (match) {\n            promises.push(new Promise(function (resolve) {\n                var req = $.get(match[1], function (data) {\n                    data = '#line 1 \"' + match[1] + '\"\\n' + data + '\\n\\n#line ' +\n                        (lineNumZeroBased + 1) + ' \"<stdin>\"\\n';\n\n                    lines[lineNumZeroBased] = data;\n                    resolve();\n                });\n                req.fail(function () {\n                    resolve();\n                });\n            }));\n        }\n    });\n    return Promise.all(promises).then(function () {\n        return lines.join('\\n');\n    });\n};\n\nCompilerService.prototype.getSelectizerOrder = function () {\n    return [\n        {field: '$order'},\n        {field: '$score'},\n        {field: 'name'},\n    ];\n};\n\nCompilerService.prototype.doesCompilationResultHaveWarnings = function (result) {\n    var stdout = result.stdout || [];\n    var stderr = result.stderr || [];\n    // TODO: Pass what compiler did this and check if it it's actually skippable\n    // Right now we're ignoring outputs that match the input filename\n    // Compiler & Executor are capable of giving us the info, but conformance view is not\n    if (stdout.length === 1 && stderr.length === 0) {\n        // We could also move this calculation to the server at some point\n        var lastSlashPos = _.findLastIndex(result.inputFilename, function (ch) {\n            return ch === '\\\\';\n        });\n        return result.inputFilename.substr(lastSlashPos + 1) !== stdout[0].text;\n    }\n    return stdout.length > 0 || stderr.length > 0;\n};\n\nCompilerService.prototype.calculateStatusIcon = function (result) {\n    var code = 1;\n    if (result.code !== 0) {\n        code = 3;\n    } else if (this.doesCompilationResultHaveWarnings(result)) {\n        code = 2;\n    }\n    return {code: code, compilerOut: result.code};\n};\n\nfunction ariaLabel(status) {\n    // Compiling...\n    if (status.code === 4) return 'Compiling';\n    if (status.compilerOut === 0) {\n        // StdErr.length > 0\n        if (status.code === 3) return 'Compilation succeeded with errors';\n        // StdOut.length > 0\n        if (status.code === 2) return 'Compilation succeeded with warnings';\n        return 'Compilation succeeded';\n    } else {\n        // StdErr.length > 0\n        if (status.code === 3) return 'Compilation failed with errors';\n        // StdOut.length > 0\n        if (status.code === 2) return 'Compilation failed with warnings';\n        return 'Compilation failed';\n    }\n}\n\nfunction color(status) {\n    // Compiling...\n    if (status.code === 4) return '#888888';\n    if (status.compilerOut === 0) {\n        // StdErr.length > 0\n        if (status.code === 3) return '#FF6645';\n        // StdOut.length > 0\n        if (status.code === 2) return '#FF6500';\n        return '#12BB12';\n    } else {\n        // StdErr.length > 0\n        if (status.code === 3) return '#FF1212';\n        // StdOut.length > 0\n        if (status.code === 2) return '#BB8700';\n        return '#FF6645';\n    }\n}\n\nCompilerService.prototype.handleCompilationStatus = function (statusLabel, statusIcon, status) {\n    if (statusLabel != null) {\n        statusLabel\n            .toggleClass('error', status.code === 3)\n            .toggleClass('warning', status.code === 2);\n    }\n\n    if (statusIcon != null) {\n        statusIcon\n            .removeClass()\n            .addClass('status-icon fas')\n            .css('color', color(status))\n            .toggle(status.code !== 0)\n            .prop('aria-label', ariaLabel(status))\n            .prop('data-status', status.code)\n            .toggleClass('fa-spinner fa-spin', status.code === 4)\n            .toggleClass('fa-times-circle', status.code === 3)\n            .toggleClass('fa-check-circle', status.code === 1 || status.code === 2);\n    }\n};\n\nCompilerService.prototype.handleOutputButtonTitle = function (element, result) {\n    var stdout = result.stdout || [];\n    var stderr = result.stderr || [];\n\n    var asciiColorsRe = RegExp(/\\x1b\\[[0-9;]*m(.\\[K)?/g);\n\n    function filterAsciiColors(line) {\n        return line.text.replace(asciiColorsRe, '');\n    }\n\n    var output =_.map(stdout, filterAsciiColors)\n        .concat(_.map(stderr, filterAsciiColors))\n        .join('\\n');\n\n    element.prop('title', output);\n};\n\nmodule.exports = {\n    CompilerService: CompilerService,\n};\n","// Copyright (c) 2020, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\nvar FontScale = require('../fontscale').FontScale;\nvar monaco = require('monaco-editor');\nvar _ = require('underscore');\nvar $ = require('jquery');\nvar colour = require('../colour');\nvar ga = require('../analytics').ga;\nvar monacoConfig = require('../monaco-config');\n\nvar TomSelect = require('tom-select');\n\nfunction DeviceAsm(hub, container, state) {\n    this.container = container;\n    this.eventHub = hub.createEventHub();\n    this.domRoot = container.getElement();\n    this.domRoot.html($('#device').html());\n\n    this.decorations = {};\n    this.prevDecorations = [];\n    var root = this.domRoot.find('.monaco-placeholder');\n\n    this.deviceEditor = monaco.editor.create(root[0], monacoConfig.extendConfig({\n        language: 'asm',\n        readOnly: true,\n        glyphMargin: true,\n        lineNumbersMinChars: 3,\n    }));\n\n    this._compilerId = state.id;\n    this._compilerName = state.compilerName;\n    this._editorId = state.editor;\n\n    this.awaitingInitialResults = false;\n    this.selection = state.selection;\n    this.selectedDevice = state.device || '';\n    this.devices = null;\n\n    this.settings = {};\n\n    this.colours = [];\n    this.deviceCode = [];\n    this.lastColours = [];\n    this.lastColourScheme = {};\n\n    var changeDeviceEl = this.domRoot[0].querySelector('.change-device');\n    this.selectize = new TomSelect(changeDeviceEl, {\n        sortField: 'name',\n        valueField: 'name',\n        labelField: 'name',\n        searchField: ['name'],\n        options: [],\n        items: [],\n        dropdownParent: 'body',\n        plugins: ['input_autogrow'],\n    });\n\n    this.initButtons(state);\n    this.initCallbacks();\n    this.initEditorActions();\n\n    if (state && state.irOutput) {\n        this.showDeviceAsmResults(state.irOutput);\n    }\n    this.setTitle();\n\n    ga.proxy('send', {\n        hitType: 'event',\n        eventCategory: 'OpenViewPane',\n        eventAction: 'DeviceAsm',\n    });\n}\n\nDeviceAsm.prototype.initEditorActions = function () {\n    this.deviceEditor.addAction({\n        id: 'viewsource',\n        label: 'Scroll to source',\n        keybindings: [monaco.KeyMod.CtrlCmd | monaco.KeyCode.F10],\n        keybindingContext: null,\n        contextMenuGroupId: 'navigation',\n        contextMenuOrder: 1.5,\n        run: _.bind(function (ed) {\n            var desiredLine = ed.getPosition().lineNumber - 1;\n            var source = this.deviceCode[desiredLine].source;\n            if (source !== null && source.file === null) {\n                // a null file means it was the user's source\n                this.eventHub.emit('editorLinkLine', this._editorId, source.line, -1, true);\n            }\n        }, this),\n    });\n};\n\nDeviceAsm.prototype.initButtons = function (state) {\n    this.fontScale = new FontScale(this.domRoot, state, this.deviceEditor);\n\n    this.topBar = this.domRoot.find('.top-bar');\n};\n\nDeviceAsm.prototype.initCallbacks = function () {\n    this.linkedFadeTimeoutId = -1;\n    this.mouseMoveThrottledFunction = _.throttle(_.bind(this.onMouseMove, this), 50);\n    this.deviceEditor.onMouseMove(_.bind(function (e) {\n        this.mouseMoveThrottledFunction(e);\n    }, this));\n\n    this.cursorSelectionThrottledFunction =\n        _.throttle(_.bind(this.onDidChangeCursorSelection, this), 500);\n    this.deviceEditor.onDidChangeCursorSelection(_.bind(function (e) {\n        this.cursorSelectionThrottledFunction(e);\n    }, this));\n\n    this.fontScale.on('change', _.bind(this.updateState, this));\n    this.selectize.on('change', _.bind(this.onDeviceSelect, this));\n\n    this.container.on('destroy', this.close, this);\n\n    this.eventHub.on('compileResult', this.onCompileResponse, this);\n    this.eventHub.on('compiler', this.onCompiler, this);\n    this.eventHub.on('colours', this.onColours, this);\n    this.eventHub.on('panesLinkLine', this.onPanesLinkLine, this);\n    this.eventHub.on('compilerClose', this.onCompilerClose, this);\n    this.eventHub.on('settingsChange', this.onSettingsChange, this);\n    this.eventHub.emit('deviceViewOpened', this._compilerId);\n    this.eventHub.emit('requestSettings');\n\n    this.container.on('resize', this.resize, this);\n    this.container.on('shown', this.resize, this);\n};\n\n// TODO: de-dupe with compiler etc\nDeviceAsm.prototype.resize = function () {\n    var topBarHeight = this.topBar.outerHeight(true);\n    this.deviceEditor.layout({\n        width: this.domRoot.width(),\n        height: this.domRoot.height() - topBarHeight,\n    });\n};\n\nDeviceAsm.prototype.onCompileResponse = function (id, compiler, result) {\n    if (this._compilerId !== id) return;\n    this.devices = result.devices;\n    var deviceNames = [];\n    if (!this.devices) {\n        this.showDeviceAsmResults([{text: '<No output>'}]);\n    } else {\n        deviceNames = Object.keys(this.devices);\n    }\n\n    this.makeDeviceSelector(deviceNames);\n    this.updateDeviceAsm();\n\n    // Why call this explicitly instead of just listening to the \"colours\" event?\n    // Because the recolouring happens before this editors value is set using \"showDeviceAsmResults\".\n    this.onColours(this._compilerId, this.lastColours, this.lastColourScheme);\n};\n\nDeviceAsm.prototype.makeDeviceSelector = function (deviceNames) {\n    var selectize = this.selectize;\n\n    _.each(selectize.options, function (p) {\n        if (deviceNames.indexOf(p.name) === -1) {\n            selectize.removeOption(p.name);\n        }\n    }, this);\n\n    _.each(deviceNames, function (p) {\n        selectize.addOption({name: p});\n    }, this);\n\n    if (!this.selectedDevice && deviceNames.length > 0) {\n        this.selectedDevice = deviceNames[0];\n        selectize.setValue(this.selectedDevice, true);\n    } else if (this.selectedDevice && deviceNames.indexOf(this.selectedDevice) === -1) {\n        selectize.clear(true);\n        this.showDeviceAsmResults(\n            [{text: '<Device ' + this.selectedDevice + ' not found>'}]);\n    } else {\n        selectize.setValue(this.selectedDevice, true);\n        this.updateDeviceAsm();\n    }\n};\n\nDeviceAsm.prototype.onDeviceSelect = function () {\n    this.selectedDevice = this.selectize.getValue();\n    this.updateState();\n    this.updateDeviceAsm();\n};\n\nDeviceAsm.prototype.updateDeviceAsm = function () {\n    if (this.selectedDevice && this.devices[this.selectedDevice])\n        this.showDeviceAsmResults(this.devices[this.selectedDevice].asm);\n    else\n        this.showDeviceAsmResults([{text: '<Device ' + this.selectedDevice + ' not found>'}]);\n};\n\nDeviceAsm.prototype.getPaneName = function () {\n    return this._compilerName + ' Device Viewer (Editor #' + this._editorId + ', Compiler #' + this._compilerId + ')';\n};\n\nDeviceAsm.prototype.setTitle = function () {\n    this.container.setTitle(this.getPaneName());\n};\n\nDeviceAsm.prototype.showDeviceAsmResults = function (deviceCode) {\n    if (!this.deviceEditor) return;\n    this.deviceCode = deviceCode;\n    this.deviceEditor.getModel().setValue(\n        deviceCode.length ? _.pluck(deviceCode, 'text').join('\\n') : '<No device code>');\n\n    if (!this.awaitingInitialResults) {\n        if (this.selection) {\n            this.deviceEditor.setSelection(this.selection);\n            this.deviceEditor.revealLinesInCenter(this.selection.startLineNumber,\n                this.selection.endLineNumber);\n        }\n        this.awaitingInitialResults = true;\n    }\n};\n\nDeviceAsm.prototype.onCompiler = function (id, compiler, options, editorId) {\n    if (id === this._compilerId) {\n        this._compilerName = compiler ? compiler.name : '';\n        this._editorId = editorId;\n        this.setTitle();\n        if (compiler && !compiler.supportsDeviceAsmView) {\n            this.deviceEditor.setValue('<Device output is not supported for this compiler>');\n        }\n    }\n};\n\nDeviceAsm.prototype.onColours = function (id, colours, scheme) {\n    this.lastColours = colours;\n    this.lastColourScheme = scheme;\n\n    if (id === this._compilerId) {\n        var irColours = {};\n        _.each(this.deviceCode, function (x, index) {\n            if (x.source && x.source.file === null && x.source.line > 0 && colours[x.source.line - 1] !== undefined) {\n                irColours[index] = colours[x.source.line - 1];\n            }\n        });\n        this.colours = colour.applyColours(this.deviceEditor, irColours, scheme, this.colours);\n    }\n};\n\nDeviceAsm.prototype.onCompilerClose = function (id) {\n    if (id === this._compilerId) {\n        // We can't immediately close as an outer loop somewhere in GoldenLayout is iterating over\n        // the hierarchy. We can't modify while it's being iterated over.\n        _.defer(function (self) {\n            self.container.close();\n        }, this);\n    }\n};\n\nDeviceAsm.prototype.updateState = function () {\n    this.container.setState(this.currentState());\n};\n\nDeviceAsm.prototype.currentState = function () {\n    var state = {\n        id: this._compilerId,\n        editor: this._editorId,\n        selection: this.selection,\n        device: this.selectedDevice,\n    };\n    this.fontScale.addState(state);\n    return state;\n};\n\nDeviceAsm.prototype.onCompilerClose = function (id) {\n    if (id === this._compilerId) {\n        // We can't immediately close as an outer loop somewhere in GoldenLayout is iterating over\n        // the hierarchy. We can't modify while it's being iterated over.\n        this.close();\n        _.defer(function (self) {\n            self.container.close();\n        }, this);\n    }\n};\n\nDeviceAsm.prototype.onSettingsChange = function (newSettings) {\n    this.settings = newSettings;\n    this.deviceEditor.updateOptions({\n        contextmenu: newSettings.useCustomContextMenu,\n        minimap: {\n            enabled: newSettings.showMinimap,\n        },\n        fontFamily: newSettings.editorsFFont,\n        fontLigatures: newSettings.editorsFLigatures,\n    });\n};\n\nDeviceAsm.prototype.onMouseMove = function (e) {\n    if (e === null || e.target === null || e.target.position === null) return;\n    if (this.settings.hoverShowSource === true && this.deviceCode) {\n        this.clearLinkedLines();\n        var hoverCode = this.deviceCode[e.target.position.lineNumber - 1];\n        if (hoverCode) {\n            // We check that we actually have something to show at this point!\n            var sourceLine = hoverCode.source && !hoverCode.source.file ? hoverCode.source.line : -1;\n            this.eventHub.emit('editorLinkLine', this._editorId, sourceLine, -1, false);\n            this.eventHub.emit('panesLinkLine', this._compilerId, sourceLine, false, this.getPaneName());\n        }\n    }\n};\n\nDeviceAsm.prototype.onDidChangeCursorSelection = function (e) {\n    if (this.awaitingInitialResults) {\n        this.selection = e.selection;\n        this.updateState();\n    }\n};\n\n\nDeviceAsm.prototype.updateDecorations = function () {\n    this.prevDecorations = this.deviceEditor.deltaDecorations(\n        this.prevDecorations, _.flatten(_.values(this.decorations)));\n};\n\nDeviceAsm.prototype.clearLinkedLines = function () {\n    this.decorations.linkedCode = [];\n    this.updateDecorations();\n};\n\nDeviceAsm.prototype.onPanesLinkLine = function (compilerId, lineNumber, revealLine, sender) {\n    if (Number(compilerId) === this._compilerId) {\n        var lineNums = [];\n        _.each(this.deviceCode, function (irLine, i) {\n            if (irLine.source && irLine.source.file === null && irLine.source.line === lineNumber) {\n                var line = i + 1;\n                lineNums.push(line);\n            }\n        });\n        if (revealLine && lineNums[0]) this.deviceEditor.revealLineInCenter(lineNums[0]);\n        var lineClass = sender !== this.getPaneName() ? 'linked-code-decoration-line' : '';\n        this.decorations.linkedCode = _.map(lineNums, function (line) {\n            return {\n                range: new monaco.Range(line, 1, line, 1),\n                options: {\n                    isWholeLine: true,\n                    linesDecorationsClassName: 'linked-code-decoration-margin',\n                    className: lineClass,\n                },\n            };\n        });\n        if (this.linkedFadeTimeoutId !== -1) {\n            clearTimeout(this.linkedFadeTimeoutId);\n        }\n        this.linkedFadeTimeoutId = setTimeout(_.bind(function () {\n            this.clearLinkedLines();\n            this.linkedFadeTimeoutId = -1;\n        }, this), 5000);\n        this.updateDecorations();\n    }\n};\n\nDeviceAsm.prototype.close = function () {\n    this.eventHub.unsubscribe();\n    this.eventHub.emit('deviceViewClosed', this._compilerId);\n    this.deviceEditor.dispose();\n};\n\nmodule.exports = {\n    DeviceAsm: DeviceAsm,\n};\n","// Copyright (c) 2016, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\nvar _ = require('underscore');\nvar $ = require('jquery');\nvar FontScale = require('../fontscale').FontScale;\nvar AnsiToHtml = require('../ansi-to-html').Filter;\nvar Toggles = require('../toggles').Toggles;\nvar ga = require('../analytics').ga;\n\nfunction makeAnsiToHtml(color) {\n    return new AnsiToHtml({\n        fg: color ? color : '#333',\n        bg: '#f5f5f5',\n        stream: true,\n        escapeXML: true,\n    });\n}\n\nfunction Output(hub, container, state) {\n    this.container = container;\n    this.compilerId = state.compiler;\n    this.editorId = state.editor;\n    this.treeId = state.tree;\n    this.hub = hub;\n    this.eventHub = hub.createEventHub();\n    this.domRoot = container.getElement();\n    this.domRoot.html($('#compiler-output').html());\n    this.contentRoot = this.domRoot.find('.content');\n    this.optionsToolbar = this.domRoot.find('.options-toolbar');\n    this.compilerName = '';\n    this.fontScale = new FontScale(this.domRoot, state, '.content');\n    this.fontScale.on('change', _.bind(function () {\n        this.saveState();\n    }, this));\n    this.normalAnsiToHtml = makeAnsiToHtml();\n    this.errorAnsiToHtml = makeAnsiToHtml('red');\n\n    this.initButtons();\n    this.initCallbacks(state);\n\n    this.onOptionsChange();\n    this.updateCompilerName();\n    ga.proxy('send', {\n        hitType: 'event',\n        eventCategory: 'OpenViewPane',\n        eventAction: 'Output',\n    });\n}\n\nOutput.prototype.initCallbacks = function (state) {\n    this.options = new Toggles(this.domRoot.find('.options'), state);\n    this.options.on('change', _.bind(this.onOptionsChange, this));\n\n    this.container.on('resize', this.resize, this);\n    this.container.on('shown', this.resize, this);\n    this.container.on('destroy', this.close, this);\n\n    this.eventHub.on('compiling', this.onCompiling, this);\n    this.eventHub.on('compileResult', this.onCompileResult, this);\n    this.eventHub.on('compilerClose', this.onCompilerClose, this);\n    this.eventHub.emit('outputOpened', this.compilerId);\n};\n\nOutput.prototype.getEffectiveOptions = function () {\n    return this.options.get();\n};\n\nOutput.prototype.resize = function () {\n    this.contentRoot.height(this.domRoot.height() - this.optionsToolbar.height() - 5);\n};\n\nOutput.prototype.onOptionsChange = function () {\n    var options = this.getEffectiveOptions();\n    this.contentRoot.toggleClass('wrap', options.wrap);\n    this.wrapButton.prop('title', '[' + (options.wrap ? 'ON' : 'OFF') + '] ' + this.wrapTitle);\n\n    this.saveState();\n};\n\nOutput.prototype.initButtons = function () {\n    this.wrapButton = this.domRoot.find('.wrap-lines');\n    this.wrapTitle = this.wrapButton.prop('title');\n};\n\nOutput.prototype.currentState = function () {\n    var options = this.getEffectiveOptions();\n    var state = {\n        compiler: this.compilerId,\n        editor: this.editorId,\n        tree: this.treeId,\n        wrap: options.wrap,\n    };\n    this.fontScale.addState(state);\n    return state;\n};\n\nOutput.prototype.saveState = function () {\n    this.container.setState(this.currentState());\n};\n\nOutput.prototype.addOutputLines = function (result) {\n    _.each((result.stdout || []).concat(result.stderr || []), function (obj) {\n        var lineNumber = obj.tag ? obj.tag.line : obj.line;\n        var columnNumber = obj.tag ? obj.tag.column : -1;\n        if (obj.text === '') {\n            this.add('<br/>');\n        } else {\n            this.add(this.normalAnsiToHtml.toHtml(obj.text), lineNumber, columnNumber, obj.tag ? obj.tag.file : false);\n        }\n    }, this);\n};\n\nOutput.prototype.onCompiling = function (compilerId) {\n    if (this.compilerId === compilerId) {\n        this.setCompileStatus(true);\n    }\n};\n\nOutput.prototype.onCompileResult = function (id, compiler, result) {\n    if (id !== this.compilerId) return;\n    if (compiler) this.compilerName = compiler.name;\n\n    this.contentRoot.empty();\n\n    if (result.buildsteps) {\n        _.each(result.buildsteps, _.bind(function (step) {\n            this.add('Step ' + step.step + ' returned: ' + step.code);\n            this.addOutputLines(step);\n        }, this));\n    } else {\n        this.addOutputLines(result);\n        if (!result.execResult) {\n            this.add('Compiler returned: ' + result.code);\n        } else {\n            this.add('ASM generation compiler returned: ' + result.code);\n            this.addOutputLines(result.execResult.buildResult);\n            this.add('Execution build compiler returned: ' + result.execResult.buildResult.code);\n        }\n    }\n\n    if (result.execResult && (result.execResult.didExecute || result.didExecute)) {\n        this.add('Program returned: ' + result.execResult.code);\n        if (result.execResult.stderr.length || result.execResult.stdout.length) {\n            _.each(result.execResult.stderr, function (obj) {\n                // Conserve empty lines as they are discarded by ansiToHtml\n                if (obj.text === '') {\n                    this.programOutput('<br/>');\n                } else {\n                    this.programOutput(this.errorAnsiToHtml.toHtml(obj.text), 'red');\n                }\n            }, this);\n\n            _.each(result.execResult.stdout, function (obj) {\n                // Conserve empty lines as they are discarded by ansiToHtml\n                if (obj.text === '') {\n                    this.programOutput('<br/>');\n                } else {\n                    this.programOutput(this.normalAnsiToHtml.toHtml(obj.text));\n                }\n            }, this);\n        }\n    }\n    this.setCompileStatus(false);\n    this.updateCompilerName();\n};\n\nOutput.prototype.programOutput = function (msg, color) {\n    var elem = $('<div/>').appendTo(this.contentRoot)\n        .html(msg)\n        .addClass('program-exec-output');\n\n    if (color)\n        elem.css('color', color);\n};\n\nOutput.prototype.getEditorIdByFilename = function (filename) {\n    var tree = this.hub.getTreeById(this.treeId);\n    if (tree) {\n        return tree.multifileService.getEditorIdByFilename(filename);\n    }\n    return false;\n};\n\nOutput.prototype.emitEditorLinkLine = function (lineNum, column, filename, goto) {\n    if (this.editorId) {\n        this.eventHub.emit('editorLinkLine', this.editorId, lineNum, column, column + 1, goto);\n    } else if (filename) {\n        var editorId = this.getEditorIdByFilename(filename);\n        if (editorId) {\n            this.eventHub.emit('editorLinkLine', editorId, lineNum, column, column + 1, goto);\n        }\n    }\n};\n\nOutput.prototype.add = function (msg, lineNum, column, filename) {\n    var elem = $('<div/>').appendTo(this.contentRoot);\n    if (lineNum) {\n        elem.html(\n            $('<span class=\"linked-compiler-output-line\"></span>')\n                .html(msg)\n                .on('click', _.bind(function (e) {\n                    this.emitEditorLinkLine(lineNum, column, filename, true);\n                    // do not bring user to the top of index.html\n                    // http://stackoverflow.com/questions/3252730\n                    e.preventDefault();\n                    return false;\n                }, this))\n                .on('mouseover', _.bind(function () {\n                    this.emitEditorLinkLine(lineNum, column, filename, false);\n                }, this))\n        );\n    } else {\n        elem.html(msg);\n    }\n};\n\nOutput.prototype.getPaneName = function () {\n    var name = 'Output';\n    if (this.compilerName) name += ' of ' + this.compilerName;\n    name += ' (Compiler #' + this.compilerId + ')';\n    return name;\n};\n\nOutput.prototype.updateCompilerName = function () {\n    this.container.setTitle(this.getPaneName());\n};\n\nOutput.prototype.onCompilerClose = function (id) {\n    if (id === this.compilerId) {\n        // We can't immediately close as an outer loop somewhere in GoldenLayout is iterating over\n        // the hierarchy. We can't modify while it's being iterated over.\n        this.close();\n        _.defer(function (self) {\n            self.container.close();\n        }, this);\n    }\n};\n\nOutput.prototype.close = function () {\n    this.eventHub.emit('outputClosed', this.compilerId);\n    this.eventHub.unsubscribe();\n};\n\nOutput.prototype.setCompileStatus = function (isCompiling) {\n    this.contentRoot.toggleClass('compiling', isCompiling);\n};\n\nmodule.exports = {\n    Output: Output,\n};\n","// Copyright (c) 2020, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\nvar options = require('options').options,\n    _ = require('underscore'),\n    local = require('./local'),\n    $ = require('jquery');\n\nfunction LibsWidgetExt(langId, compiler, dropdownButton, state, onChangeCallback, possibleLibs) {\n    this.dropdownButton = dropdownButton;\n    if (compiler) {\n        this.currentCompilerId = compiler.id;\n    } else {\n        this.currentCompilerId = '_default_';\n    }\n    this.currentLangId = langId;\n    this.domRoot = $('#library-selection').clone(true);\n    this.onChangeCallback = function () {\n        this.updateButton();\n        onChangeCallback();\n    };\n    this.availableLibs = {};\n    this.updateAvailableLibs(possibleLibs);\n    _.each(state.libs, _.bind(function (lib) {\n        if (lib.name && lib.ver) {\n            this.markLibrary(lib.name, lib.ver, true);\n        } else {\n            this.markLibrary(lib.id, lib.version, true);\n        }\n    }, this));\n\n    this.fullRefresh();\n\n    var searchInput = this.domRoot.find('.lib-search-input');\n\n    if (window.compilerExplorerOptions.mobileViewer) {\n        this.domRoot.addClass('mobile');\n    }\n\n    this.domRoot.on('shown.bs.modal', function () {\n        searchInput.trigger('focus');\n    });\n\n    searchInput.on('input', _.bind(function () {\n        this.startSearching();\n    }, this));\n\n    this.domRoot.find('.lib-search-button').on('click', _.bind(function () {\n        this.startSearching();\n    }, this));\n\n    this.dropdownButton.on('click', _.bind(function () {\n        this.domRoot.modal({});\n    }, this));\n\n    this.updateButton();\n}\n\nLibsWidgetExt.prototype.fullRefresh = function () {\n    this.showSelectedLibs();\n    this.showSelectedLibsAsSearchResults();\n    this.showFavorites();\n};\n\nLibsWidgetExt.prototype.updateButton = function () {\n    var selectedLibs = this.get();\n    var text = ' Libraries';\n    if (selectedLibs.length > 0) {\n        this.dropdownButton\n            .addClass('btn-success')\n            .removeClass('btn-light')\n            .prop('title', 'Current libraries:\\n' + _.map(selectedLibs, function (lib) {\n                return '- ' + lib.name;\n            }).join('\\n'));\n        text = text + ' (' + selectedLibs.length + ')';\n    } else {\n        this.dropdownButton\n            .removeClass('btn-success')\n            .addClass('btn-light')\n            .prop('title', 'Include libs');\n    }\n\n    this.dropdownButton.find('.dp-text').text(text);\n};\n\nLibsWidgetExt.prototype.getFavorites = function () {\n    var storkey = 'favlibs';\n\n    return JSON.parse(local.get(storkey, '{}'));\n};\n\nLibsWidgetExt.prototype.setFavorites = function (faves) {\n    var storkey = 'favlibs';\n\n    local.set(storkey, JSON.stringify(faves));\n};\n\nLibsWidgetExt.prototype.isAFavorite = function (libId, versionId) {\n    var faves = this.getFavorites();\n    if (faves[libId]) {\n        return faves[libId].includes(versionId);\n    }\n\n    return false;\n};\n\nLibsWidgetExt.prototype.addToFavorites = function (libId, versionId) {\n    var faves = this.getFavorites();\n    if (faves[libId]) {\n        faves[libId].push(versionId);\n    } else {\n        faves[libId] = [];\n        faves[libId].push(versionId);\n    }\n\n    this.setFavorites(faves);\n};\n\nLibsWidgetExt.prototype.removeFromFavorites = function (libId, versionId) {\n    var faves = this.getFavorites();\n    if (faves[libId]) {\n        faves[libId] = _.filter(faves[libId], function (v) {\n            return (v !== versionId);\n        });\n    }\n\n    this.setFavorites(faves);\n};\n\nLibsWidgetExt.prototype.newFavoriteLibDiv = function (libId, versionId, lib, version) {\n    var template = $('#lib-favorite-tpl');\n\n    var libDiv = $(template.children()[0].cloneNode(true));\n\n    var quickSelectButton = libDiv.find('.lib-name-and-version');\n    quickSelectButton.html(lib.name + ' ' + version.version);\n    quickSelectButton.on('click', _.bind(function () {\n        this.selectLibAndVersion(libId, versionId);\n        this.showSelectedLibs();\n        this.onChangeCallback();\n    }, this));\n\n    return libDiv;\n};\n\nLibsWidgetExt.prototype.showFavorites = function () {\n    var favoritesDiv = this.domRoot.find('.lib-favorites');\n    favoritesDiv.html('');\n\n    var faves = this.getFavorites();\n    _.each(faves, _.bind(function (versionArr, libId) {\n        _.each(versionArr, _.bind(function (versionId) {\n            var lib = this.getLibInfoById(libId);\n            if (lib) {\n                var version = lib.versions[versionId];\n                if (version) {\n                    var div = this.newFavoriteLibDiv(libId, versionId, lib, version);\n                    favoritesDiv.append(div);\n                }\n            }\n        }, this));\n    }, this));\n};\n\nLibsWidgetExt.prototype.getAndEmptySearchResults = function () {\n    var searchResults = this.domRoot.find('.lib-results-items');\n    searchResults.html('');\n    return searchResults;\n};\n\nLibsWidgetExt.prototype.newSelectedLibDiv = function (libId, versionId, lib, version) {\n    var template = $('#lib-selected-tpl');\n\n    var libDiv = $(template.children()[0].cloneNode(true));\n\n    var detailsButton = libDiv.find('.lib-name-and-version');\n    detailsButton.html(lib.name + ' ' + version.version);\n    detailsButton.on('click', _.bind(function () {\n        var searchResults = this.getAndEmptySearchResults();\n        this.addSearchResult(libId, lib, searchResults);\n    }, this));\n\n    var deleteButton = libDiv.find('.lib-remove');\n    deleteButton.on('click', _.bind(function () {\n        this.markLibrary(libId, versionId, false);\n        libDiv.remove();\n        this.showSelectedLibs();\n        this.onChangeCallback();\n        // We need to refresh the library lists, or the selector will still show up with the old library version\n        this.startSearching();\n    }, this));\n\n    return libDiv;\n};\n\nLibsWidgetExt.prototype.conjureUpExamples = function (result, lib) {\n    var examples = result.find('.lib-examples');\n    if (lib.examples && lib.examples.length > 0) {\n        var examplesHeader = $('<b>Examples</b>');\n        var examplesList = $('<ul />');\n        _.each(lib.examples, function (exampleId) {\n            var li = $('<li />');\n            examplesList.append(li);\n            var exampleLink = $('<a>Example</a>');\n            exampleLink.attr('href', window.httpRoot + 'z/' + exampleId);\n            exampleLink.attr('target', '_blank');\n            exampleLink.attr('rel', 'noopener');\n            li.append(exampleLink);\n        });\n\n        examples.append(examplesHeader);\n        examples.append(examplesList);\n    }\n};\n\nLibsWidgetExt.prototype.newSearchResult = function (libId, lib) {\n    var template = $('#lib-search-result-tpl');\n\n    var result = $(template.children()[0].cloneNode(true));\n    result.find('.lib-name').html(lib.name);\n    if (!lib.description) {\n        result.find('.lib-description').hide();\n    } else {\n        result.find('.lib-description').html(lib.description);\n    }\n    result.find('.lib-website-link').attr('href', lib.url ? lib.url : '#');\n\n    this.conjureUpExamples(result, lib);\n\n    var faveButton = result.find('.lib-fav-button');\n    var faveStar = faveButton.find('.lib-fav-btn-icon');\n    faveButton.hide();\n\n    var versions = result.find('.lib-version-select');\n    versions.html('');\n    var noVersionSelectedOption = $('<option value=\"\">-</option>');\n    versions.append(noVersionSelectedOption);\n    var hasVisibleVersions = false;\n\n    _.each(lib.versions, _.bind(function (version, versionId) {\n        var option = $('<option>');\n        if (version.used) {\n            option.attr('selected','selected');\n\n            if (this.isAFavorite(libId, versionId)) {\n                faveStar.removeClass('far').addClass('fas');\n            }\n\n            faveButton.show();\n        }\n        option.attr('value', versionId);\n        option.html(version.version);\n        if (version.used || !version.hidden) {\n            hasVisibleVersions = true;\n            versions.append(option);\n        }\n    }, this));\n\n    if (!hasVisibleVersions) {\n        noVersionSelectedOption.text('No available versions');\n        versions.prop('disabled', true);\n    }\n\n    faveButton.on('click', _.bind(function () {\n        var option = versions.find('option:selected');\n        var verId = option.attr('value');\n        if (this.isAFavorite(libId, verId)) {\n            this.removeFromFavorites(libId, verId);\n            faveStar.removeClass('fas').addClass('far');\n        } else {\n            this.addToFavorites(libId, verId);\n            faveStar.removeClass('far').addClass('fas');\n        }\n        this.showFavorites();\n    }, this));\n\n    versions.on('change', _.bind(function () {\n        var option = versions.find('option:selected');\n        var verId = option.attr('value');\n\n        this.selectLibAndVersion(libId, verId);\n        this.showSelectedLibs();\n\n        if (this.isAFavorite(libId, verId)) {\n            faveStar.removeClass('far').addClass('fas');\n        } else {\n            faveStar.removeClass('fas').addClass('far');\n        }\n\n        if (verId) {\n            faveButton.show();\n        } else {\n            faveButton.hide();\n        }\n\n        this.onChangeCallback();\n    }, this));\n\n    return result;\n};\n\nLibsWidgetExt.prototype.addSearchResult = function (libId, library, searchResults) {\n    var card = this.newSearchResult(libId, library);\n    searchResults.append(card);\n};\n\nLibsWidgetExt.prototype.startSearching = function () {\n    var searchtext = this.domRoot.find('.lib-search-input').val();\n    var lcSearchtext = searchtext.toLowerCase();\n\n    var searchResults = this.getAndEmptySearchResults();\n\n    if (Object.keys(this.availableLibs[this.currentLangId][this.currentCompilerId]).length === 0) {\n        var nolibsMessage = $($('#libs-dropdown').children()[0].cloneNode(true));\n        searchResults.append(nolibsMessage);\n        return;\n    }\n\n    var descriptionSearchResults = [];\n\n    _.each(this.availableLibs[this.currentLangId][this.currentCompilerId], _.bind(function (library, libId) {\n        if (library.versions && library.versions.autodetect) return;\n\n        if (library.name) {\n            if (library.name.toLowerCase().includes(lcSearchtext)) {\n                this.addSearchResult(libId, library, searchResults);\n                return;\n            }\n        }\n\n        if (library.description) {\n            if (library.description.toLowerCase().includes(lcSearchtext)) {\n\n                descriptionSearchResults.push({\n                    libId: libId,\n                    library: library,\n                    searchResults: searchResults,\n                });\n            }\n        }\n    }, this));\n\n    _.each(descriptionSearchResults, _.bind(function (res) {\n        this.addSearchResult(res.libId, res.library, res.searchResults);\n    }, this));\n};\n\nLibsWidgetExt.prototype.showSelectedLibs = function () {\n    var items = this.domRoot.find('.libs-selected-items');\n    items.html('');\n\n    var selectedLibs = this.listUsedLibs();\n    _.each(selectedLibs, _.bind(function (versionId, libId) {\n        var lib = this.availableLibs[this.currentLangId][this.currentCompilerId][libId];\n        var version = lib.versions[versionId];\n\n        var libDiv = this.newSelectedLibDiv(libId, versionId, lib, version);\n        items.append(libDiv);\n    }, this));\n};\n\nLibsWidgetExt.prototype.showSelectedLibsAsSearchResults = function () {\n    var searchResults = this.getAndEmptySearchResults();\n\n    if (Object.keys(this.availableLibs[this.currentLangId][this.currentCompilerId]).length === 0) {\n        var nolibsMessage = $($('#libs-dropdown').children()[0].cloneNode(true));\n        searchResults.append(nolibsMessage);\n        return;\n    }\n\n    _.each(this.availableLibs[this.currentLangId][this.currentCompilerId], _.bind(function (library, libId) {\n        if (library.versions && library.versions.autodetect) return;\n\n        var card = this.newSearchResult(libId, library);\n        searchResults.append(card);\n    }, this));\n};\n\nLibsWidgetExt.prototype.initLangDefaultLibs = function () {\n    var defaultLibs = options.defaultLibs[this.currentLangId];\n    if (!defaultLibs) return;\n    _.each(defaultLibs.split(':'), _.bind(function (libPair) {\n        var pairSplits = libPair.split('.');\n        if (pairSplits.length === 2) {\n            var lib = pairSplits[0];\n            var ver = pairSplits[1];\n            this.markLibrary(lib, ver, true);\n        }\n    }, this));\n};\n\nLibsWidgetExt.prototype.updateAvailableLibs = function (possibleLibs) {\n    if (!this.availableLibs[this.currentLangId]) {\n        this.availableLibs[this.currentLangId] = {};\n    }\n\n    if (!this.availableLibs[this.currentLangId][this.currentCompilerId]) {\n        if (this.currentCompilerId === '_default_') {\n            this.availableLibs[this.currentLangId][this.currentCompilerId] =\n                $.extend(true, {}, options.libs[this.currentLangId]);\n        } else {\n            this.availableLibs[this.currentLangId][this.currentCompilerId] =\n                $.extend(true, {}, possibleLibs);\n        }\n    }\n\n    this.initLangDefaultLibs();\n};\n\nLibsWidgetExt.prototype.setNewLangId = function (langId, compilerId, possibleLibs) {\n    var libsInUse = this.listUsedLibs();\n\n    this.currentLangId = langId;\n\n    if (compilerId) {\n        this.currentCompilerId = compilerId;\n    } else {\n        this.currentCompilerId = '_default_';\n    }\n\n    // Clear the dom Root so it gets rebuilt with the new language libraries\n    this.updateAvailableLibs(possibleLibs);\n\n    _.forEach(libsInUse, _.bind(function (version, lib) {\n        this.markLibrary(lib, version, true);\n    }, this));\n\n    this.fullRefresh();\n    this.onChangeCallback();\n};\n\nLibsWidgetExt.prototype.getVersionOrAlias = function (name, version) {\n    if (this.availableLibs[this.currentLangId] &&\n        this.availableLibs[this.currentLangId][this.currentCompilerId] &&\n        this.availableLibs[this.currentLangId][this.currentCompilerId][name]) {\n        if (this.availableLibs[this.currentLangId][this.currentCompilerId][name].versions[version]) {\n            return version;\n        } else {\n            return _.findKey(\n                this.availableLibs[this.currentLangId][this.currentCompilerId][name].versions,\n                function (ver) {\n                    return ver.alias && ver.alias.includes(version);\n                });\n        }\n    }\n};\n\nLibsWidgetExt.prototype.getLibInfoById = function (libId) {\n    if (this.availableLibs[this.currentLangId] &&\n        this.availableLibs[this.currentLangId][this.currentCompilerId] &&\n        this.availableLibs[this.currentLangId][this.currentCompilerId][libId]) {\n        return this.availableLibs[this.currentLangId][this.currentCompilerId][libId];\n    }\n\n    return false;\n};\n\nLibsWidgetExt.prototype.markLibrary = function (name, version, used) {\n    var actualVersion = this.getVersionOrAlias(name, version);\n\n    if (this.availableLibs[this.currentLangId] &&\n        this.availableLibs[this.currentLangId][this.currentCompilerId] &&\n        this.availableLibs[this.currentLangId][this.currentCompilerId][name] &&\n        this.availableLibs[this.currentLangId][this.currentCompilerId][name].versions[actualVersion]) {\n        this.availableLibs[this.currentLangId][this.currentCompilerId][name].versions[actualVersion].used = used;\n    }\n};\n\nLibsWidgetExt.prototype.selectLibAndVersion = function (libId, versionId) {\n    if (this.availableLibs[this.currentLangId] &&\n        this.availableLibs[this.currentLangId][this.currentCompilerId] &&\n        this.availableLibs[this.currentLangId][this.currentCompilerId][libId]) {\n\n        _.each(\n            this.availableLibs[this.currentLangId][this.currentCompilerId][libId].versions,\n            function (curver, curverId) {\n                curver.used = curverId === versionId;\n            });\n    }\n};\n\nLibsWidgetExt.prototype.get = function () {\n    return _.map(this.listUsedLibs(), function (item, libId) {\n        return {name: libId, ver: item};\n    });\n};\n\nLibsWidgetExt.prototype.listUsedLibs = function () {\n    var libs = {};\n    _.each(this.availableLibs[this.currentLangId][this.currentCompilerId], function (library, libId) {\n        _.each(library.versions, function (version, ver) {\n            if (library.versions[ver].used) {\n                // We trust the invariant of only 1 used version at any given time per lib\n                libs[libId] = ver;\n            }\n        });\n    });\n    return libs;\n};\n\nLibsWidgetExt.prototype.getLibsInUse = function () {\n    var libs = [];\n    _.each(this.availableLibs[this.currentLangId][this.currentCompilerId], function (library, libId) {\n        _.each(library.versions, function (version, ver) {\n            if (library.versions[ver].used) {\n                var libVer = Object.assign({libId: libId, versionId: ver}, library.versions[ver]);\n                libs.push(libVer);\n            }\n        });\n    });\n    return libs;\n};\n\nmodule.exports = {\n    Widget: LibsWidgetExt,\n};\n","// Copyright (c) 2019, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar monaco = require('monaco-editor');\nvar asm = require('./asm-mode');\n\nfunction definition() {\n    var ptx = $.extend(true, {}, asm); // deep copy\n\n    // Redefine registers for ptx:\n    // Usually ptx registers are in the form \"%[pr][0-9]+\", but a bunch of magic registers does not follow\n    // this scheme (see https://docs.nvidia.com/cuda/parallel-thread-execution/index.html#special-registers ).\n    // Thus the register-regex captures everything that starts with a '%'.\n    ptx.registers = /%[a-z0-9_\\\\.]+/;\n\n\n    // Redefine whitespaces, as asm interprets strings with a leading '@' as comments.\n    ptx.tokenizer.whitespace = [\n        [/[ \\t\\r\\n]+/, 'white'],\n        [/\\/\\*/, 'comment', '@comment'],\n        [/\\/\\/.*$/, 'comment'],\n        [/[#;\\\\].*$/, 'comment'],\n    ];\n\n    // Add predicated instructions to the list of root tokens. Search for an opcode next, which is also a root token.\n    ptx.tokenizer.root.push([/@%p[0-9]+/, {token: 'operator', next: '@root'}]);\n\n    return ptx;\n}\n\nmonaco.languages.register({id: 'ptx'});\nmonaco.languages.setMonarchTokensProvider('ptx', definition());\n\nexport {};\n","// Copyright (c) 2017, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar $ = require('jquery');\nvar monaco = require('monaco-editor');\n\nvar themes = {\n    default: {\n        path: 'default',\n        id: 'default',\n        name: 'Light',\n        'main-color': '#f2f2f2',\n        monaco: 'ce',\n    },\n    dark: {\n        path: 'dark',\n        id: 'dark',\n        name: 'Dark',\n        'main-color': '#333333',\n        monaco: 'ce-dark',\n    },\n};\n\nmonaco.editor.defineTheme('ce', {\n    base: 'vs',\n    inherit: true,\n    rules: [\n        { token: 'identifier.definition.cppx-blue', foreground: '008a00', fontStyle: 'bold' },\n    ],\n});\n\nmonaco.editor.defineTheme('ce-dark', {\n    base: 'vs-dark',\n    inherit: true,\n    rules: [\n        { token: 'identifier.definition.cppx-blue', foreground: '7c9c7c', fontStyle: 'bold' },\n    ],\n});\n\nfunction Themer(eventHub, initialSettings) {\n    this.currentTheme = null;\n    this.eventHub = eventHub;\n\n    this.setTheme = function (theme) {\n        if (this.currentTheme === theme) return;\n        $('html').attr('data-theme', theme.path);\n        $('#meta-theme').prop('content', theme['main-color']);\n        monaco.editor.setTheme(theme.monaco);\n        this.eventHub.emit('resize');\n        this.currentTheme = theme;\n    };\n\n    this.onSettingsChange = function (newSettings) {\n        var newTheme = themes[newSettings.theme] || themes.default;\n        if (!newTheme.monaco)\n            newTheme.monaco = 'vs';\n        this.setTheme(newTheme);\n\n        // This line is used to set thet codelens font\n        // Official support using the IEditorOptions.codeLensFontFamily property has landed in vscode\n        // It should be removed once a downstream release of monaco is cut\n        document.querySelector(':root').style.setProperty('--user-selected-font-stack', newSettings.editorsFFont);\n    };\n    this.onSettingsChange(initialSettings);\n\n    this.eventHub.on('settingsChange', this.onSettingsChange, this);\n\n    this.eventHub.on('requestTheme', function () {\n        this.eventHub.emit('themeChange', this.currentTheme);\n    }, this);\n}\n\nmodule.exports = {\n    themes: themes,\n    Themer: Themer,\n};\n","// Copyright (c) 2021, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\nimport {MultifileFile, MultifileService, MultifileServiceState} from '../multifile-service';\nimport {LineColouring} from '../line-colouring';\nimport * as utils from '../utils';\n\nconst _ = require('underscore');\nconst $ = require('jquery');\nconst Alert = require('../alert').Alert;\nconst Components = require('../components');\nconst local = require('../local');\nconst ga = require('../analytics').ga;\nconst TomSelect = require('tom-select');\nconst Toggles = require('../toggles').Toggles;\nconst options = require('../options').options;\nconst languages = options.languages;\nconst saveAs = require('file-saver').saveAs;\n\nexport class TreeState extends MultifileServiceState {\n    id: number;\n    cmakeArgs: string;\n    customOutputFilename: string;\n}\n\nexport class Tree {\n    private readonly id: number;\n    private container: any;\n    private domRoot: any;\n    private readonly hub: any;\n    private eventHub: any;\n    private readonly settings: any;\n    private httpRoot: any;\n    private readonly alertSystem: any;\n    private root: any;\n    private rowTemplate: any;\n    private namedItems: any;\n    private unnamedItems: any;\n    private langKeys: string[];\n    private cmakeArgsInput: any;\n    private customOutputFilenameInput: any;\n    public multifileService: MultifileService;\n    private lineColouring: LineColouring;\n    private readonly ourCompilers: {};\n    private readonly busyCompilers: {};\n    private readonly asmByCompiler: {};\n    private selectize: any;\n    private languageBtn: any;\n    private toggleCMakeButton: any;\n    private debouncedEmitChange: () => void;\n    private hideable: any;\n    private readonly topBar: any;\n\n    constructor(hub, state: TreeState, container) {\n        this.id = state.id || hub.nextTreeId();\n        this.container = container;\n        this.domRoot = container.getElement();\n        this.domRoot.html($('#tree').html());\n        this.hub = hub;\n        this.eventHub = hub.createEventHub();\n        this.settings = JSON.parse(local.get('settings', '{}'));\n\n        this.httpRoot = window.httpRoot;\n\n        this.alertSystem = new Alert();\n        this.alertSystem.prefixMessage = 'Tree #' + this.id + ': ';\n\n        this.root = this.domRoot.find('.tree');\n        this.rowTemplate = $('#tree-editor-tpl');\n        this.namedItems = this.domRoot.find('.named-editors');\n        this.unnamedItems = this.domRoot.find('.unnamed-editors');\n        this.hideable = this.domRoot.find('.hideable');\n        this.topBar = this.domRoot.find('.top-bar.mainbar');\n\n        this.langKeys = _.keys(languages);\n\n        this.cmakeArgsInput = this.domRoot.find('.cmake-arguments');\n        this.customOutputFilenameInput = this.domRoot.find('.cmake-customOutputFilename');\n\n        const usableLanguages = _.filter(languages, (language) => {\n            return hub.compilerService.compilersByLang[language.id];\n        });\n\n        if (state) {\n            if (!state.compilerLanguageId) {\n                state.compilerLanguageId = this.settings.defaultLanguage;\n            }\n        } else {\n            state = {\n                id: this.id,\n                customOutputFilename: '',\n                cmakeArgs: '',\n                compilerLanguageId: this.settings.defaultLanguage,\n                isCMakeProject: false,\n                files: [],\n                newFileId: 1,\n            };\n        }\n\n        this.multifileService = new MultifileService(this.hub, this.alertSystem, state);\n        this.lineColouring = new LineColouring(this.multifileService);\n        this.ourCompilers = {};\n        this.busyCompilers = {};\n        this.asmByCompiler = {};\n\n        this.initInputs(state);\n        this.initButtons(state);\n        this.initCallbacks();\n        this.onSettingsChange(this.settings);\n\n        this.selectize = new TomSelect(this.languageBtn, {\n            sortField: 'name',\n            valueField: 'id',\n            labelField: 'name',\n            searchField: ['name'],\n            options: _.map(usableLanguages, _.identity),\n            items: [this.multifileService.getLanguageId()],\n            dropdownParent: 'body',\n            plugins: ['input_autogrow'],\n            onChange: this.onLanguageChange.bind(this),\n        });\n\n        this.updateTitle();\n        this.onLanguageChange(this.multifileService.getLanguageId());\n\n        ga.proxy('send', {\n            hitType: 'event',\n            eventCategory: 'OpenViewPane',\n            eventAction: 'Tree',\n        });\n\n        this.refresh();\n        this.eventHub.emit('findEditors');\n    }\n\n    private initInputs(state: TreeState) {\n        if (state) {\n            if (state.cmakeArgs) {\n                this.cmakeArgsInput.val(state.cmakeArgs);\n            }\n\n            if (state.customOutputFilename) {\n                this.customOutputFilenameInput.val(state.customOutputFilename);\n            }\n        }\n    }\n\n    private getCmakeArgs(): string {\n        return this.cmakeArgsInput.val();\n    }\n\n    private getCustomOutputFilename(): string {\n        return _.escape(this.customOutputFilenameInput.val());\n    }\n\n    public currentState(): TreeState {\n        return {\n            id: this.id,\n            cmakeArgs: this.getCmakeArgs(),\n            customOutputFilename: this.getCustomOutputFilename(),\n            ...this.multifileService.getState(),\n        };\n    };\n\n    private updateState() {\n        const state = this.currentState();\n        this.container.setState(state);\n\n        this.updateButtons(state);\n    }\n\n    private initCallbacks() {\n        this.container.on('resize', this.resize, this);\n        this.container.on('shown', this.resize, this);\n        this.container.on('open', () => {\n            this.eventHub.emit('treeOpen', this.id);\n        });\n        this.container.on('destroy', this.close, this);\n\n        this.eventHub.on('editorOpen', this.onEditorOpen, this);\n        this.eventHub.on('editorClose', this.onEditorClose, this);\n        this.eventHub.on('compilerOpen', this.onCompilerOpen, this);\n        this.eventHub.on('compilerClose', this.onCompilerClose, this);\n\n        this.eventHub.on('compileResult', this.onCompileResponse, this);\n\n        this.toggleCMakeButton.on('change', this.onToggleCMakeChange.bind(this));\n\n        this.cmakeArgsInput.on('change', this.updateCMakeArgs.bind(this));\n        this.customOutputFilenameInput.on('change', this.updateCustomOutputFilename.bind(this));\n    }\n\n    private updateCMakeArgs() {\n        this.updateState();\n\n        this.debouncedEmitChange();\n    }\n\n    private updateCustomOutputFilename() {\n        this.updateState();\n\n        this.debouncedEmitChange();\n    }\n\n    private onToggleCMakeChange() {\n        const isOn = this.toggleCMakeButton.state.isCMakeProject;\n        this.multifileService.setAsCMakeProject(isOn);\n\n        this.domRoot.find('.cmake-project').prop('title',\n            '[' + (isOn ? 'ON' : 'OFF') + '] CMake project');\n        this.updateState();\n    }\n\n    private onLanguageChange(newLangId: string) {\n        if (languages[newLangId]) {\n            this.multifileService.setLanguageId(newLangId);\n            this.eventHub.emit('languageChange', false, newLangId, this.id);\n        }\n\n        this.toggleCMakeButton.enableToggle('isCMakeProject', this.multifileService.isCompatibleWithCMake());\n\n        this.refresh();\n    }\n\n    private sendCompilerChangesToEditor(compilerId: number) {\n        this.multifileService.forEachOpenFile((file: MultifileFile) => {\n            if (file.isIncluded) {\n                this.eventHub.emit('treeCompilerEditorIncludeChange', this.id, file.editorId, compilerId);\n            } else {\n                this.eventHub.emit('treeCompilerEditorExcludeChange', this.id, file.editorId, compilerId);\n            }\n        });\n\n        this.eventHub.emit('resendCompilation', compilerId);\n    }\n\n    private sendCompileRequests() {\n        this.eventHub.emit('requestCompilation', false, this.id);\n    }\n\n    private sendChangesToAllEditors() {\n        _.each(this.ourCompilers, (unused, compilerId: string) => {\n            this.sendCompilerChangesToEditor(parseInt(compilerId));\n        });\n    }\n\n    private onCompilerOpen(compilerId: number, unused, treeId: number) {\n        if (treeId === this.id) {\n            this.ourCompilers[compilerId] = true;\n            this.sendCompilerChangesToEditor(compilerId);\n        }\n    }\n\n    private onCompilerClose(compilerId: number, unused, treeId: number) {\n        if (treeId === this.id) {\n            delete this.ourCompilers[compilerId];\n        }\n    }\n\n    private onEditorOpen(editorId: number) {\n        const file = this.multifileService.getFileByEditorId(editorId);\n        if (file) return;\n\n        this.multifileService.addFileForEditorId(editorId);\n        this.refresh();\n        this.sendChangesToAllEditors();\n    }\n\n    private onEditorClose(editorId: number) {\n        const file = this.multifileService.getFileByEditorId(editorId);\n\n        if (file) {\n            file.isOpen = false;\n            const editor = this.hub.getEditorById(editorId);\n            file.langId = editor.currentLanguage.id;\n            file.content = editor.getSource();\n            file.editorId = -1;\n        }\n\n        this.refresh();\n    }\n\n    private removeFile(fileId: number) {\n        const file = this.multifileService.removeFileByFileId(fileId);\n        if (file) {\n            if (file.isOpen) {\n                const editor = this.hub.getEditorById(file.editorId);\n                if (editor) {\n                    editor.container.close();\n                }\n            }\n        }\n\n        this.refresh();\n    }\n\n    private addRowToTreelist(file: MultifileFile) {\n        const item = $(this.rowTemplate.children()[0].cloneNode(true));\n        const stageButton = item.find('.stage-file');\n        const unstageButton = item.find('.unstage-file');\n        const renameButton = item.find('.rename-file');\n        const deleteButton = item.find('.delete-file');\n\n        item.data('fileId', file.fileId);\n        if (file.filename) {\n            item.find('.filename').text(file.filename);\n        } else if (file.editorId > 0) {\n            const editor = this.hub.getEditorById(file.editorId);\n            if (editor) {\n                item.find('.filename').text(editor.getPaneName());\n            } else {\n                // wait for editor to appear first\n                return;\n            }\n        } else {\n            item.find('.filename').text('Unknown file');\n        }\n\n        item.on('click', (e) => {\n            const fileId = $(e.currentTarget).data('fileId');\n            this.editFile(fileId);\n        });\n\n        renameButton.on('click', async (e) => {\n            const fileId = $(e.currentTarget).parent('li').data('fileId');\n            await this.multifileService.renameFile(fileId);\n            this.refresh();\n        });\n\n        deleteButton.on('click', (e) => {\n            const fileId = $(e.currentTarget).parent('li').data('fileId');\n            const file = this.multifileService.getFileByFileId(fileId);\n            if (file) {\n                this.alertSystem.ask('Delete file', `Are you sure you want to delete ${file.filename ? _.escape(file.filename) : 'this file'}?` , {\n                    yes: () => {\n                        this.removeFile(fileId);\n                    },\n                    yesClass: 'btn-danger',\n                    yesHtml: 'Delete',\n                    noClass: 'btn-primary',\n                    noHtml: 'Cancel'\n                });\n            }\n        });\n\n        stageButton.on('click', async (e) => {\n            const fileId = $(e.currentTarget).parent('li').data('fileId');\n            await this.moveToInclude(fileId);\n        });\n        unstageButton.on('click', async (e) => {\n            const fileId = $(e.currentTarget).parent('li').data('fileId');\n            await this.moveToExclude(fileId);\n        });\n        stageButton.toggle(!file.isIncluded);\n        unstageButton.toggle(file.isIncluded);\n        (file.isIncluded ? this.namedItems : this.unnamedItems).append(item);\n    }\n\n    private refresh() {\n        this.updateState();\n\n        this.namedItems.html('');\n        this.unnamedItems.html('');\n\n        this.multifileService.forEachFile((file: MultifileFile) => this.addRowToTreelist(file));\n    }\n\n    private editFile(fileId: number) {\n        const file = this.multifileService.getFileByFileId(fileId);\n        if (!file.isOpen) {\n            const dragConfig = this.getConfigForNewEditor(file);\n            file.isOpen = true;\n\n            this.hub.addInEditorStackIfPossible(dragConfig);\n        } else {\n            const editor = this.hub.getEditorById(file.editorId);\n            this.hub.activateTabForContainer(editor.container);\n        }\n\n        this.sendChangesToAllEditors();\n    }\n\n    private async moveToInclude(fileId: number) {\n        await this.multifileService.includeByFileId(fileId);\n\n        this.refresh();\n        this.sendChangesToAllEditors();\n    }\n\n    private async moveToExclude(fileId: number) {\n        await this.multifileService.excludeByFileId(fileId);\n        this.refresh();\n        this.sendChangesToAllEditors();\n    }\n\n    private bindClickToOpenPane(dragSource, dragConfig) {\n        this.container.layoutManager\n            .createDragSource(dragSource, dragConfig.bind(this))\n            ._dragListener.on('dragStart', () => {\n                this.domRoot.find('.add-pane').dropdown('toggle');\n            });\n\n        dragSource.on('click', () => {\n            this.hub.addInEditorStackIfPossible(dragConfig.bind(this));\n        });\n    }\n\n    private getConfigForNewCompiler() {\n        return Components.getCompilerForTree(this.id, this.currentState().compilerLanguageId);\n    }\n\n    private getConfigForNewExecutor() {\n        return Components.getExecutorForTree(this.id, this.currentState().compilerLanguageId);\n    }\n\n    private getConfigForNewEditor(file: MultifileFile) {\n        let editor;\n        const editorId = this.hub.nextEditorId();\n\n        if (file) {\n            file.editorId = editorId;\n            editor = Components.getEditor(\n                editorId,\n                file.langId);\n\n            editor.componentState.source = file.content;\n            if (file.filename) {\n                editor.componentState.filename = file.filename;\n            }\n        } else {\n            editor = Components.getEditor(\n                editorId,\n                this.multifileService.getLanguageId());\n        }\n\n        return editor;\n    }\n\n    private static getFormattedDateTime() {\n        const d = new Date();\n\n        let datestring = d.getFullYear() +\n            ('0' + (d.getMonth() + 1)).slice(-2) +\n            ('0' + d.getDate()).slice(-2);\n        datestring += ('0' + d.getHours()).slice(-2) +\n            ('0' + d.getMinutes()).slice(-2) +\n            ('0' + d.getSeconds()).slice(-2);\n\n        return datestring;\n    }\n\n    private static triggerSaveAs(blob) {\n        const dt = Tree.getFormattedDateTime();\n        saveAs(blob, `project-${dt}.zip`);\n    }\n\n    private initButtons(state: TreeState) {\n        const addCompilerButton = this.domRoot.find('.add-compiler');\n        const addExecutorButton = this.domRoot.find('.add-executor');\n        const addEditorButton = this.domRoot.find('.add-editor');\n        const saveProjectButton = this.domRoot.find('.save-project-to-file');\n\n        saveProjectButton.on('click', async () => {\n            await this.multifileService.saveProjectToZipfile(Tree.triggerSaveAs.bind(this));\n        });\n\n        const loadProjectFromFile = this.domRoot.find('.load-project-from-file');\n        loadProjectFromFile.on('change', async (e) => {\n            const files = e.target.files;\n            if (files.length > 0) {\n                this.multifileService.forEachFile((file: MultifileFile) => {\n                    this.removeFile(file.fileId);\n                });\n\n                await this.multifileService.loadProjectFromFile(files[0], (file: MultifileFile) => {\n                    this.refresh();\n                    if (file.filename === 'CMakeLists.txt') {\n                        // todo: find a way to toggle on CMake checkbox...\n                        this.editFile(file.fileId);\n                    }\n                });\n            }\n        });\n\n        this.bindClickToOpenPane(addCompilerButton, this.getConfigForNewCompiler);\n        this.bindClickToOpenPane(addExecutorButton, this.getConfigForNewExecutor);\n        this.bindClickToOpenPane(addEditorButton, this.getConfigForNewEditor);\n\n        this.languageBtn = this.domRoot.find('.change-language');\n\n        if (this.langKeys.length <= 1) {\n            this.languageBtn.prop('disabled', true);\n        }\n\n        this.toggleCMakeButton = new Toggles(this.domRoot.find('.options'), state);\n    }\n\n    private numberUsedLines() {\n        if (_.any(this.busyCompilers)) return;\n\n        if (!this.settings.colouriseAsm) {\n            this.updateColoursNone();\n            return;\n        }\n\n        this.lineColouring.clear();\n\n        _.each(this.asmByCompiler, (asm: any, compilerId: string) => {\n            if (asm) this.lineColouring.addFromAssembly(parseInt(compilerId), asm);\n        });\n\n        this.lineColouring.calculate();\n\n        this.updateColours();\n    }\n\n    private updateColours() {\n        _.each(this.ourCompilers, (unused, compilerId: string) => {\n            const id: number = parseInt(compilerId);\n            this.eventHub.emit('coloursForCompiler', id,\n                this.lineColouring.getColoursForCompiler(id), this.settings.colourScheme);\n        });\n\n        this.multifileService.forEachOpenFile((file: MultifileFile) => {\n            this.eventHub.emit('coloursForEditor', file.editorId,\n                this.lineColouring.getColoursForEditor(file.editorId), this.settings.colourScheme);\n        });\n    }\n\n    private updateColoursNone() {\n        _.each(this.ourCompilers, (unused, compilerId: string) => {\n            this.eventHub.emit('coloursForCompiler', parseInt(compilerId), {}, this.settings.colourScheme);\n        });\n\n        this.multifileService.forEachOpenFile((file: MultifileFile) => {\n            this.eventHub.emit('coloursForEditor', file.editorId, {}, this.settings.colourScheme);\n        });\n    }\n\n    private onCompileResponse(compilerId: number, compiler, result) {\n        if (!this.ourCompilers[compilerId]) return;\n\n        this.busyCompilers[compilerId] = false;\n\n        // todo: parse errors and warnings and relate them to lines in the code\n        // note: requires info about the filename, do we currently have that?\n\n        // eslint-disable-next-line max-len\n        // {\"text\":\"/tmp/compiler-explorer-compiler2021428-7126-95g4xc.zfo8p/example.cpp:4:21: error: expected ; before } token\"}\n\n        if (result.result && result.result.asm) {\n            this.asmByCompiler[compilerId] = result.result.asm;\n        } else {\n            this.asmByCompiler[compilerId] = result.asm;\n        }\n\n        this.numberUsedLines();\n    }\n\n    private updateButtons(state: TreeState) {\n        if (state.isCMakeProject) {\n            this.cmakeArgsInput.parent().removeClass('d-none');\n            this.customOutputFilenameInput.parent().removeClass('d-none');\n        } else {\n            this.cmakeArgsInput.parent().addClass('d-none');\n            this.customOutputFilenameInput.parent().addClass('d-none');\n        }\n    }\n\n    private resize() {\n        utils.updateAndCalcTopBarHeight(this.domRoot, this.topBar, this.hideable);\n\n        const mainbarHeight = this.topBar.outerHeight(true);\n        const argsHeight = this.domRoot.find('.panel-args').outerHeight(true);\n        const outputfileHeight = this.domRoot.find('.panel-outputfile').outerHeight(true);\n\n        this.root.height(this.domRoot.innerHeight() - mainbarHeight - argsHeight - outputfileHeight);\n    }\n\n    private onSettingsChange(newSettings) {\n        this.debouncedEmitChange = _.debounce(() => {\n            this.sendCompileRequests();\n        }, newSettings.delayAfterChange);\n    }\n\n    private getPaneName() {\n        return `Tree #${this.id}`;\n    }\n\n    private updateTitle() {\n        this.container.setTitle(this.getPaneName());\n    }\n\n    private close() {\n        this.eventHub.unsubscribe();\n        this.eventHub.emit('treeClose', this.id);\n        this.hub.removeTree(this.id);\n        $('#add-tree').prop('disabled', false);\n    }\n}\n","// Copyright (c) 2016, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\nvar _ = require('underscore');\nvar Sentry = require('@sentry/browser');\nvar editor = require('./panes/editor');\nvar compiler = require('./panes/compiler');\nvar tree = require('./panes/tree');\nvar executor = require('./panes/executor');\nvar output = require('./panes/output');\nvar tool = require('./panes/tool');\nvar toolInputView = require('./panes/tool-input-view');\nvar Components = require('components');\nvar diff = require('./panes/diff');\nvar optView = require('./panes/opt-view');\nvar flagsView = require('./panes/flags-view');\nvar astView = require('./panes/ast-view');\nvar irView = require('./panes/ir-view');\nvar deviceView = require('./panes/device-view');\nvar rustMirView = require('./panes/rustmir-view');\nvar gnatDebugView = require('./panes/gnatdebug-view');\nvar rustMacroExpView = require('./panes/rustmacroexp-view');\nvar gccDumpView = require('./panes/gccdump-view');\nvar cfgView = require('./panes/cfg-view');\nvar conformanceView = require('./panes/conformance-view');\nvar CompilerService = require('compiler-service').CompilerService;\n\nfunction Ids() {\n    this.used = {};\n}\n\nIds.prototype.add = function (id) {\n    this.used[id] = true;\n};\n\nIds.prototype.remove = function (id) {\n    delete this.used[id];\n};\n\nIds.prototype.next = function () {\n    for (var i = 1; i < 100000; ++i) {\n        if (!this.used[i]) {\n            this.used[i] = true;\n            return i;\n        }\n    }\n    throw 'Ran out of ids!?';\n};\n\nfunction Hub(layout, subLangId, defaultLangId) {\n    this.layout = layout;\n    this.editorIds = new Ids();\n    this.compilerIds = new Ids();\n    this.executorIds = new Ids();\n    this.treeIds = new Ids();\n    this.trees = [];\n    this.editors = [];\n    this.compilerService = new CompilerService(layout.eventHub);\n    this.deferred = true;\n    this.deferredEmissions = [];\n    this.lastOpenedLangId = null;\n    this.subdomainLangId = subLangId || undefined;\n    this.defaultLangId = defaultLangId;\n\n    // FIXME\n    // We can't avoid this self as _ is undefined at this point\n    var self = this;\n\n    layout.registerComponent(Components.getEditor().componentName,\n        function (container, state) {\n            return self.codeEditorFactory(container, state);\n        });\n    layout.registerComponent(Components.getCompiler().componentName,\n        function (container, state) {\n            return self.compilerFactory(container, state);\n        });\n    layout.registerComponent(Components.getTree().componentName,\n        function (container, state) {\n            return self.treeFactory(container, state);\n        });\n    layout.registerComponent(Components.getExecutor().componentName,\n        function (container, state) {\n            return self.executorFactory(container, state);\n        });\n    layout.registerComponent(Components.getOutput().componentName,\n        function (container, state) {\n            return self.outputFactory(container, state);\n        });\n    layout.registerComponent(Components.getToolViewWith().componentName,\n        function (container, state) {\n            return self.toolFactory(container, state);\n        });\n    layout.registerComponent(Components.getToolInputView().componentName,\n        function (container, state) {\n            return self.toolInputViewFactory(container, state);\n        });\n    layout.registerComponent(diff.getComponent().componentName,\n        function (container, state) {\n            return self.diffFactory(container, state);\n        });\n    layout.registerComponent(Components.getOptView().componentName,\n        function (container, state) {\n            return self.optViewFactory(container, state);\n        });\n    layout.registerComponent(Components.getFlagsView().componentName,\n        function (container, state) {\n            return self.flagsViewFactory(container, state);\n        });\n    layout.registerComponent(Components.getAstView().componentName,\n        function (container, state) {\n            return self.astViewFactory(container, state);\n        });\n    layout.registerComponent(Components.getIrView().componentName,\n        function (container, state) {\n            return self.irViewFactory(container, state);\n        });\n    layout.registerComponent(Components.getDeviceView().componentName,\n        function (container, state) {\n            return self.deviceViewFactory(container, state);\n        });\n    layout.registerComponent(Components.getRustMirView().componentName,\n        function (container, state) {\n            return self.rustMirViewFactory(container, state);\n        });\n    layout.registerComponent(Components.getGnatDebugView().componentName,\n        function (container, state) {\n            return self.gnatDebugViewFactory(container, state);\n        });\n    layout.registerComponent(Components.getRustMacroExpView().componentName,\n        function (container, state) {\n            return self.rustMacroExpViewFactory(container, state);\n        });\n    layout.registerComponent(Components.getGccDumpView().componentName,\n        function (container, state) {\n            return self.gccDumpViewFactory(container, state);\n        });\n    layout.registerComponent(Components.getCfgView().componentName,\n        function (container, state) {\n            return self.cfgViewFactory(container, state);\n        });\n    layout.registerComponent(Components.getConformanceView().componentName,\n        function (container, state) {\n            return self.confomanceFactory(container, state);\n        });\n\n    layout.eventHub.on('editorOpen', function (id) {\n        this.editorIds.add(id);\n    }, this);\n    layout.eventHub.on('editorClose', function (id) {\n        this.editorIds.remove(id);\n    }, this);\n    layout.eventHub.on('compilerOpen', function (id) {\n        this.compilerIds.add(id);\n    }, this);\n    layout.eventHub.on('compilerClose', function (id) {\n        this.compilerIds.remove(id);\n    }, this);\n    layout.eventHub.on('treeOpen', function (id) {\n        this.treeIds.add(id);\n    }, this);\n    layout.eventHub.on('treeClose', function (id) {\n        this.treeIds.remove(id);\n    }, this);\n    layout.eventHub.on('executorOpen', function (id) {\n        this.executorIds.add(id);\n    }, this);\n    layout.eventHub.on('executorClose', function (id) {\n        this.executorIds.remove(id);\n    }, this);\n    layout.eventHub.on('languageChange', function (editorId, langId) {\n        this.lastOpenedLangId = langId;\n    }, this);\n    layout.init();\n    this.undefer();\n    layout.eventHub.emit('initialised');\n}\n\nHub.prototype.undefer = function () {\n    this.deferred = false;\n    var eventHub = this.layout.eventHub;\n    var compilerEmissions = [];\n    var nonCompilerEmissions = []; \n\n    _.each(this.deferredEmissions, function (args) {\n        if (args[0] === 'compiler') {\n            compilerEmissions.push(args);\n        } else {\n            nonCompilerEmissions.push(args);\n        }\n    });\n\n    _.each(nonCompilerEmissions, function (args) {\n        eventHub.emit.apply(eventHub, args);\n    });\n\n    _.each(compilerEmissions, function (args) {\n        eventHub.emit.apply(eventHub, args);\n    });\n\n    this.deferredEmissions = [];\n};\n\nHub.prototype.nextTreeId = function () {\n    return this.treeIds.next();\n};\n\nHub.prototype.nextEditorId = function () {\n    return this.editorIds.next();\n};\n\nHub.prototype.nextCompilerId = function () {\n    return this.compilerIds.next();\n};\n\nHub.prototype.nextExecutorId = function () {\n    return this.executorIds.next();\n};\n\nHub.prototype.codeEditorFactory = function (container, state) {\n    // Ensure editors are closable: some older versions had 'isClosable' false.\n    // NB there doesn't seem to be a better way to do this than reach into the config and rely on the fact nothing\n    // has used it yet.\n    container.parent.config.isClosable = true;\n    var editorObj = new editor.Editor(this, state, container);\n    this.editors.push(editorObj);\n};\n\nHub.prototype.treeFactory = function (container, state) {\n    var treeObj = new tree.Tree(this, state, container);\n    this.trees.push(treeObj);\n\n    return treeObj;\n};\n\nHub.prototype.getTreeById = function (treeId) {\n    return _.find(this.trees, function (treeObj) {\n        return treeObj.id === treeId;\n    });\n};\n\nHub.prototype.removeTree = function (treeId) {\n    this.trees = _.filter(this.trees, function (treeObj) {\n        return treeObj.id !== treeId;\n    });\n};\n\nHub.prototype.getEditorById = function (editorId) {\n    return _.find(this.editors, function (editorObj) {\n        return editorObj.id === editorId;\n    });\n};\n\nHub.prototype.removeEditor = function (editorId) {\n    this.editors = _.filter(this.editors, function (editorObj) {\n        return editorObj.id !== editorId;\n    });\n};\n\nHub.prototype.compilerFactory = function (container, state) {\n    return new compiler.Compiler(this, container, state);\n};\n\nHub.prototype.executorFactory = function (container, state) {\n    return new executor.Executor(this, container, state);\n};\n\nHub.prototype.outputFactory = function (container, state) {\n    return new output.Output(this, container, state);\n};\n\nHub.prototype.toolFactory = function (container, state) {\n    return new tool.Tool(this, container, state);\n};\n\nHub.prototype.toolInputViewFactory = function (container, state) {\n    return new toolInputView.ToolInputView(this, container, state);\n};\n\nHub.prototype.diffFactory = function (container, state) {\n    return new diff.Diff(this, container, state);\n};\n\nHub.prototype.optViewFactory = function (container, state) {\n    return new optView.Opt(this, container, state);\n};\n\nHub.prototype.flagsViewFactory = function (container, state) {\n    return new flagsView.Flags(this, container, state);\n};\n\nHub.prototype.astViewFactory = function (container, state) {\n    return new astView.Ast(this, container, state);\n};\n\nHub.prototype.irViewFactory = function (container, state) {\n    return new irView.Ir(this, container, state);\n};\n\nHub.prototype.deviceViewFactory = function (container, state) {\n    return new deviceView.DeviceAsm(this, container, state);\n};\n\nHub.prototype.gnatDebugViewFactory = function (container, state) {\n    return new gnatDebugView.GnatDebug(this, container, state);\n};\n\nHub.prototype.rustMirViewFactory = function (container, state) {\n    return new rustMirView.RustMir(this, container, state);\n};\n\nHub.prototype.rustMacroExpViewFactory = function (container, state) {\n    return new rustMacroExpView.RustMacroExp(this, container, state);\n};\n\nHub.prototype.gccDumpViewFactory = function (container, state) {\n    return new gccDumpView.GccDump(this, container, state);\n};\n\nHub.prototype.cfgViewFactory = function (container, state) {\n    return new cfgView.Cfg(this, container, state);\n};\n\nHub.prototype.confomanceFactory = function (container, state) {\n    return new conformanceView.Conformance(this, container, state);\n};\n\nfunction WrappedEventHub(hub, eventHub) {\n    this.hub = hub;\n    this.eventHub = eventHub;\n    this.subscriptions = [];\n}\n\nWrappedEventHub.prototype.emit = function () {\n    // Events are deferred during initialisation to allow all the components to install their listeners before\n    // all the emits are done. This fixes some ordering issues.\n    if (this.hub.deferred) {\n        this.hub.deferredEmissions.push(arguments);\n    } else {\n        this.eventHub.emit.apply(this.eventHub, arguments);\n    }\n};\n\nWrappedEventHub.prototype.on = function (event, callback, context) {\n    this.eventHub.on(event, callback, context);\n    this.subscriptions.push({evt: event, fn: callback, ctx: context});\n};\n\nWrappedEventHub.prototype.unsubscribe = function () {\n    _.each(this.subscriptions, _.bind(function (obj) {\n        try {\n            this.eventHub.off(obj.evt, obj.fn, obj.ctx);\n        } catch (e) {\n            Sentry.captureMessage('Can not unsubscribe from ' + obj.evt.toString());\n            Sentry.captureException(e);\n        }\n    }, this));\n    this.subscriptions = [];\n};\n\nWrappedEventHub.prototype.mediateDependentCalls = function (dependent, dependency) {\n    var dependencyExecuted = false;\n    var lastDependentArgs = null;\n    var dependencyProxy = function () {\n        dependency.apply(this, arguments);\n        dependencyExecuted = true;\n        if (lastDependentArgs) {\n            dependent.apply(this, lastDependentArgs);\n            lastDependentArgs = null;\n        }\n    };\n    var dependentProxy = function () {\n        if (dependencyExecuted) {\n            dependent.apply(this, arguments);\n        } else {\n            lastDependentArgs = arguments;\n        }\n    };\n    return {dependencyProxy: dependencyProxy,\n        dependentProxy: dependentProxy};\n};\n\nHub.prototype.createEventHub = function () {\n    return new WrappedEventHub(this, this.layout.eventHub);\n};\n\nHub.prototype.findParentRowOrColumn = function (elem) {\n    while (elem) {\n        if (elem.isRow || elem.isColumn) return elem;\n        elem = elem.parent;\n    }\n    return elem;\n};\n\nHub.prototype.findParentRowOrColumnOrStack = function (elem) {\n    while (elem) {\n        if (elem.isRow || elem.isColumn || elem.isStack) return elem;\n        elem = elem.parent;\n    }\n    return elem;\n};\n\nHub.prototype.hasTree = function () {\n    return (this.trees.length > 0);\n};\n\nHub.prototype.getTreesWithEditorId = function (editorId) {\n    return _.filter(this.trees, function (tree) {\n        return tree.multifileService.isEditorPartOfProject(editorId);\n    });\n};\n\nHub.prototype.getTrees = function () {\n    return this.trees;\n};\n\nHub.prototype.findEditorInChildren = function (elem) {\n    var count = elem.contentItems.length;\n    var idx = 0;\n    while (idx < count) {\n        var child = elem.contentItems[idx];\n\n        if (child.componentName === 'codeEditor') {\n            return this.findParentRowOrColumnOrStack(child);\n        } else {\n            if (child.isRow || child.isColumn || child.isStack) {\n                var editorFound = this.findEditorInChildren(child);\n                if (editorFound) return editorFound;\n            }\n        }\n        idx++;\n    }\n\n    return false;\n};\n\nHub.prototype.findEditorParentRowOrColumn = function () {\n    return this.findEditorInChildren(this.layout.root);\n};\n\nHub.prototype.addInEditorStackIfPossible = function (newElem) {\n    var insertPoint = this.findEditorParentRowOrColumn();\n    if (insertPoint) {\n        insertPoint.addChild(newElem);\n    } else {\n        this.addAtRoot(newElem);\n    }\n};\n\nHub.prototype.addAtRoot = function (newElem) {\n    var rootFirstItem = this.layout.root.contentItems[0];\n    if (rootFirstItem) {\n        if (rootFirstItem.isRow || rootFirstItem.isColumn) {\n            rootFirstItem.addChild(newElem);\n        } else {\n            var newRow = this.layout.createContentItem({type: 'row'}, this.layout.root);\n            this.layout.root.replaceChild(rootFirstItem, newRow);\n            newRow.addChild(rootFirstItem);\n            newRow.addChild(newElem);\n        }\n    } else {\n        this.layout.root.addChild({\n            type: 'row',\n            content: [newElem],\n        });\n    }\n};\n\nHub.prototype.activateTabForContainer = function (container) {\n    if (container && container.tab)\n        container.tab.header.parent.setActiveContentItem(container.tab.contentItem);\n};\n\nmodule.exports = {\n    Hub: Hub,\n};\n","// Copyright (c) 2017, Marc Poulhis - Kalray Inc.\n// Copyright (c) 2021, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\nvar FontScale = require('../fontscale').FontScale;\nvar monaco = require('monaco-editor');\nvar Toggles = require('../toggles').Toggles;\nrequire('../modes/gccdump-rtl-gimple-mode');\nvar _ = require('underscore');\nvar $ = require('jquery');\nvar ga = require('../analytics').ga;\nvar monacoConfig = require('../monaco-config');\nvar TomSelect = require('tom-select');\nvar utils = require('../utils');\n\n\nfunction GccDump(hub, container, state) {\n    this.container = container;\n    this.eventHub = hub.createEventHub();\n    this.domRoot = container.getElement();\n    this.domRoot.html($('#gccdump').html());\n    var root = this.domRoot.find('.monaco-placeholder');\n\n    this.gccDumpEditor = monaco.editor.create(root[0], monacoConfig.extendConfig({\n        readOnly: true,\n        glyphMargin: true,\n        lineNumbersMinChars: 3,\n        dropdownParent: 'body',\n    }));\n\n    this.initButtons(state);\n\n    var gccdump_picker = this.domRoot[0].querySelector('.gccdump-pass-picker');\n    this.selectize = new TomSelect(gccdump_picker, {\n        sortField: -1, // do not sort\n        valueField: 'name',\n        labelField: 'name',\n        searchField: ['name'],\n        options: [],\n        items: [],\n        plugins: ['input_autogrow'],\n        maxOptions: 500,\n    });\n\n    // this is used to save internal state.\n    this.state = {};\n\n    this.state._compilerid = state._compilerid;\n    this.state._editorid = state._editorid;\n    this._compilerName = state._compilerName;\n\n    this.awaitingInitialResults = false;\n    this.selection = state.selection;\n\n    this.initCallbacks();\n\n    if (state && state.selectedPass) {\n        this.state.selectedPass = state.selectedPass;\n\n        // To keep URL format stable wrt GccDump, only a string of the form 'r.expand' is stored.\n        // Old links also have the pass number prefixed but this can be ignored.\n        // Create the object that will be used instead of this bare string.\n        var selectedPassRe = /[0-9]*(i|t|r)\\.([\\w-_]*)/;\n        var passType = {\n            i: 'ipa',\n            r: 'rtl',\n            t: 'tree',\n        };\n        var match = state.selectedPass.match(selectedPassRe);\n        var selectedPassO = {\n            filename_suffix: match[1] + '.' + match[2],\n            name: match[2] + ' (' + passType[match[1]] + ')',\n            command_prefix: '-fdump-' + passType[match[1]] + '-' + match[2],\n        };\n\n        this.eventHub.emit('gccDumpPassSelected', this.state._compilerid, selectedPassO, false);\n    }\n\n    // until we get our first result from compilation backend with all fields,\n    // disable UI callbacks.\n    this.uiIsReady = false;\n    this.onUiNotReady();\n\n    this.eventHub.emit('gccDumpFiltersChanged', this.state._compilerid, this.getEffectiveFilters(), false);\n\n    this.updateButtons();\n    this.saveState();\n    this.setTitle();\n\n    // UI is ready, request compilation to get passes list and\n    // current output (if any)\n    this.eventHub.emit('gccDumpUIInit', this.state._compilerid);\n    ga.proxy('send', {\n        hitType: 'event',\n        eventCategory: 'OpenViewPane',\n        eventAction: 'GccDump',\n    });\n}\n\nGccDump.prototype.initButtons = function (state) {\n    this.filters = new Toggles(this.domRoot.find('.dump-filters'), state);\n    this.fontScale = new FontScale(this.domRoot, state, this.gccDumpEditor);\n\n    this.topBar = this.domRoot.find('.top-bar');\n    this.dumpFiltersButtons = this.domRoot.find('.dump-filters .btn');\n\n    this.dumpTreesButton = this.domRoot.find('[data-bind=\\'treeDump\\']');\n    this.dumpTreesTitle = this.dumpTreesButton.prop('title');\n\n    this.dumpRtlButton = this.domRoot.find('[data-bind=\\'rtlDump\\']');\n    this.dumpRtlTitle = this.dumpRtlButton.prop('title');\n\n    this.dumpIpaButton = this.domRoot.find('[data-bind=\\'ipaDump\\']');\n    this.dumpIpaTitle = this.dumpIpaButton.prop('title');\n\n    this.optionAddressButton = this.domRoot.find('[data-bind=\\'addressOption\\']');\n    this.optionAddressTitle = this.optionAddressButton.prop('title');\n\n    this.optionSlimButton = this.domRoot.find('[data-bind=\\'slimOption\\']');\n    this.optionSlimTitle = this.optionSlimButton.prop('title');\n\n    this.optionRawButton = this.domRoot.find('[data-bind=\\'rawOption\\']');\n    this.optionRawTitle = this.optionRawButton.prop('title');\n\n    this.optionDetailsButton = this.domRoot.find('[data-bind=\\'detailsOption\\']');\n    this.optionDetailsTitle = this.optionDetailsButton.prop('title');\n\n    this.optionStatsButton = this.domRoot.find('[data-bind=\\'statsOption\\']');\n    this.optionStatsTitle = this.optionStatsButton.prop('title');\n\n    this.optionBlocksButton = this.domRoot.find('[data-bind=\\'blocksOption\\']');\n    this.optionBlocksTitle = this.optionBlocksButton.prop('title');\n\n    this.optionVopsButton = this.domRoot.find('[data-bind=\\'vopsOption\\']');\n    this.optionVopsTitle = this.optionVopsButton.prop('title');\n\n    this.optionLinenoButton = this.domRoot.find('[data-bind=\\'linenoOption\\']');\n    this.optionLinenoTitle = this.optionLinenoButton.prop('title');\n\n    this.optionUidButton = this.domRoot.find('[data-bind=\\'uidOption\\']');\n    this.optionUidTitle = this.optionUidButton.prop('title');\n\n    this.optionAllButton = this.domRoot.find('[data-bind=\\'allOption\\']');\n    this.optionAllTitle = this.optionAllButton.prop('title');\n\n    this.hideable = this.domRoot.find('.hideable');\n};\n\nGccDump.prototype.initCallbacks = function () {\n    this.filters.on('change', _.bind(this.onFilterChange, this));\n    this.selectize.on('change', _.bind(this.onPassSelect, this));\n\n    this.fontScale.on('change', _.bind(this.saveState, this));\n\n    this.eventHub.on('compileResult', this.onCompileResult, this);\n    this.eventHub.on('compiler', this.onCompiler, this);\n    this.eventHub.on('compilerClose', this.onCompilerClose, this);\n    this.eventHub.on('settingsChange', this.onSettingsChange, this);\n\n    this.eventHub.emit('gccDumpViewOpened', this.state._compilerid);\n    this.eventHub.emit('requestSettings');\n    this.container.on('destroy', this.close, this);\n\n    this.container.on('resize', this.resize, this);\n    this.container.on('shown', this.resize, this);\n\n    this.cursorSelectionThrottledFunction =\n        _.throttle(_.bind(this.onDidChangeCursorSelection, this), 500);\n    this.gccDumpEditor.onDidChangeCursorSelection(_.bind(function (e) {\n        this.cursorSelectionThrottledFunction(e);\n    }, this));\n};\n\nGccDump.prototype.updateButtons = function () {\n    var formatButtonTitle = function (button, title) {\n        button.prop('title', '[' + (button.hasClass('active') ? 'ON' : 'OFF') + '] ' + title);\n    };\n    formatButtonTitle(this.dumpTreesButton, this.dumpTreesTitle);\n    formatButtonTitle(this.dumpRtlButton, this.dumpRtlTitle);\n    formatButtonTitle(this.dumpIpaButton, this.dumpIpaTitle);\n    formatButtonTitle(this.optionAddressButton, this.optionAddressTitle);\n    formatButtonTitle(this.optionSlimButton, this.optionSlimTitle);\n    formatButtonTitle(this.optionRawButton, this.optionRawTitle);\n    formatButtonTitle(this.optionDetailsButton, this.optionDetailsTitle);\n    formatButtonTitle(this.optionStatsButton, this.optionStatsTitle);\n    formatButtonTitle(this.optionBlocksButton, this.optionBlocksTitle);\n    formatButtonTitle(this.optionVopsButton, this.optionVopsTitle);\n    formatButtonTitle(this.optionLinenoButton, this.optionLinenoTitle);\n    formatButtonTitle(this.optionUidButton, this.optionUidTitle);\n    formatButtonTitle(this.optionAllButton, this.optionAllTitle);\n};\n\n// Disable view's menu when invalid compiler has been\n// selected after view is opened.\nGccDump.prototype.onUiNotReady = function () {\n    // disable drop down menu and buttons\n    this.selectize.disable();\n    this.dumpFiltersButtons.prop('disabled', true);\n};\n\nGccDump.prototype.onUiReady = function () {\n    // enable drop down menu and buttons\n    this.selectize.enable();\n\n    this.dumpFiltersButtons.prop('disabled', false);\n};\n\nGccDump.prototype.onPassSelect = function (passId) {\n    var selectedPass = this.selectize.options[passId];\n\n    if (this.inhibitPassSelect !== true) {\n        this.eventHub.emit('gccDumpPassSelected', this.state._compilerid, selectedPass, true);\n    }\n\n    // To keep shared URL compatible, we keep on storing only a string in the\n    // state and stick to the original format.\n    // Previously, we were simply storing the full file suffix (the part after [...]):\n    //    [file.c.]123t.expand\n    // We don't have the number now, but we can store the file suffix without this number\n    // (the number is useless and should probably have never been there in the\n    // first place).\n\n    this.state.selectedPass = selectedPass.filename_suffix;\n    this.saveState();\n};\n\nGccDump.prototype.resize = function () {\n    var topBarHeight = utils.updateAndCalcTopBarHeight(this.domRoot, this.topBar, this.hideable);\n    this.gccDumpEditor.layout({\n        width: this.domRoot.width(),\n        height: this.domRoot.height() - topBarHeight,\n    });\n};\n\n// Called after result from new compilation received\n// if gccDumpOutput is false, cleans the select menu\nGccDump.prototype.updatePass = function (filters, selectize, gccDumpOutput) {\n    var passes = gccDumpOutput ? gccDumpOutput.all : [];\n\n    // we are changing selectize but don't want any callback to\n    // trigger new compilation\n    this.inhibitPassSelect = true;\n\n    selectize.clear(true);\n    selectize.clearOptions(true);\n\n    _.each(passes, function (p) {\n        selectize.addOption(p);\n    }, this);\n\n    if (gccDumpOutput.selectedPass)\n        selectize.addItem(gccDumpOutput.selectedPass.name, true);\n    else\n        selectize.clear(true);\n\n    this.eventHub.emit('gccDumpPassSelected', this.state._compilerid, gccDumpOutput.selectedPass, false);\n\n    this.inhibitPassSelect = false;\n};\n\nGccDump.prototype.onCompileResult = function (id, compiler, result) {\n    if (this.state._compilerid !== id || !compiler) return;\n\n    if (result.gccDumpOutput && result.gccDumpOutput.syntaxHighlight) {\n        monaco.editor.setModelLanguage(this.gccDumpEditor.getModel(), 'gccdump-rtl-gimple');\n    } else {\n        monaco.editor.setModelLanguage(this.gccDumpEditor.getModel(), 'plaintext');\n    }\n    if (compiler.supportsGccDump && result.gccDumpOutput) {\n        var currOutput = result.gccDumpOutput.currentPassOutput;\n\n        // if result contains empty selected pass, probably means\n        // we requested an invalid/outdated pass.\n        if (!result.gccDumpOutput.selectedPass) {\n            this.selectize.clear(true);\n            this.state.selectedPass = null;\n        }\n        this.updatePass(this.filters, this.selectize, result.gccDumpOutput);\n        this.showGccDumpResults(currOutput);\n\n        // enable UI on first successful compilation or after an invalid compiler selection (eg. clang)\n        if (!this.uiIsReady) {\n            this.uiIsReady = true;\n            this.onUiReady();\n        }\n    } else {\n        this.selectize.clear(true);\n        this.state.selectedPass = null;\n        this.updatePass(this.filters, this.selectize, false);\n        this.uiIsReady = false;\n        this.onUiNotReady();\n        if (!compiler.supportsGccDump) {\n            this.showGccDumpResults('<Tree/RTL output is not supported for this compiler (GCC only)>');\n        } else {\n            this.showGccDumpResults('<Tree/RTL output is empty>');\n        }\n    }\n    this.saveState();\n};\n\nGccDump.prototype.getPaneName = function () {\n    return 'GCC Tree/RTL Viewer ' + (this._compilerName || '') +\n        ' (Editor #' + this.state._editorid + ', Compiler #' + this.state._compilerid + ')';\n};\n\nGccDump.prototype.setTitle = function () {\n    this.container.setTitle(this.getPaneName());\n};\n\nGccDump.prototype.showGccDumpResults = function (results) {\n    this.gccDumpEditor.setValue(results);\n\n    if (!this.awaitingInitialResults) {\n        if (this.selection) {\n            this.gccDumpEditor.setSelection(this.selection);\n            this.gccDumpEditor.revealLinesInCenter(this.selection.startLineNumber,\n                this.selection.endLineNumber);\n        }\n        this.awaitingInitialResults = true;\n    }\n};\n\nGccDump.prototype.onCompiler = function (id, compiler, options, editorid) {\n    if (id === this.state._compilerid) {\n        this._compilerName = compiler ? compiler.name : '';\n        this.state._editorid = editorid;\n        this.setTitle();\n    }\n};\n\nGccDump.prototype.onCompilerClose = function (id) {\n    if (id === this.state._compilerid) {\n        // We can't immediately close as an outer loop somewhere in GoldenLayout is iterating over\n        // the hierarchy. We can't modify while it's being iterated over.\n        this.close();\n        _.defer(function (self) {\n            self.container.close();\n        }, this);\n    }\n};\n\nGccDump.prototype.getEffectiveFilters = function () {\n    return this.filters.get();\n};\n\nGccDump.prototype.onFilterChange = function () {\n    this.saveState();\n    this.updateButtons();\n\n    if (this.inhibitPassSelect !== true) {\n        this.eventHub.emit('gccDumpFiltersChanged', this.state._compilerid, this.getEffectiveFilters(), true);\n    }\n};\n\nGccDump.prototype.saveState = function () {\n    var state = this.currentState();\n    this.container.setState(state);\n    this.fontScale.addState(state);\n};\n\nGccDump.prototype.currentState = function () {\n    var filters = this.getEffectiveFilters();\n    return {\n        _compilerid: this.state._compilerid,\n        _editorid: this.state._editorid,\n        selectedPass: this.state.selectedPass,\n        treeDump: filters.treeDump,\n        rtlDump: filters.rtlDump,\n        ipaDump: filters.ipaDump,\n        addressOption: filters.addressOption,\n        slimOption: filters.slimOption,\n        rawOption: filters.rawOption,\n        detailsOption: filters.detailsOption,\n        statsOption: filters.statsOption,\n        blocksOption: filters.blocksOption,\n        vopsOption: filters.vopsOption,\n        linenoOption: filters.linenoOption,\n        uidOption: filters.uidOption,\n        allOption: filters.allOption,\n        selection: this.selection,\n    };\n};\n\nGccDump.prototype.onSettingsChange = function (newSettings) {\n    this.gccDumpEditor.updateOptions({\n        contextmenu: newSettings.useCustomContextMenu,\n        minimap: {\n            enabled: newSettings.showMinimap,\n        },\n        fontFamily: newSettings.editorsFFont,\n        fontLigatures: newSettings.editorsFLigatures,\n    });\n};\n\nGccDump.prototype.onDidChangeCursorSelection = function (e) {\n    if (this.awaitingInitialResults) {\n        this.selection = e.selection;\n        this.saveState();\n    }\n};\n\nGccDump.prototype.close = function () {\n    this.eventHub.unsubscribe();\n    this.eventHub.emit('gccDumpViewClosed', this.state._compilerid);\n    this.gccDumpEditor.dispose();\n};\n\nmodule.exports = {\n    GccDump: GccDump,\n};\n","// Copyright (c) 2021, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\nimport _ from 'underscore';\nimport GoldenLayout from 'golden-layout';\n\nconst lzstring = require('lz-string');\nconst rison = require('rison');\nconst Components = require('./components');\n\n\nexport function convertOldState(state: any): any {\n    const sc = state.compilers[0];\n    if (!sc) throw new Error('Unable to determine compiler from old state');\n    const content = [];\n    let source;\n    if (sc.sourcez) {\n        source = lzstring.decompressFromBase64(sc.sourcez);\n    } else {\n        source = sc.source;\n    }\n    const options = {compileOnChange: true, colouriseAsm: state.filterAsm.colouriseAsm};\n    const filters = _.clone(state.filterAsm);\n    delete filters.colouriseAsm;\n    content.push(Components.getEditorWith(1, source, options));\n    content.push(Components.getCompilerWith(1, filters, sc.options, sc.compiler));\n    return {version: 4, content: [{type: 'row', content: content}]};\n}\n\n\nexport function loadState(state: any): any {\n    if (!state || state.version === undefined) return false;\n    switch (state.version) {\n        case 1:\n            state.filterAsm = {};\n            state.version = 2;\n        /* falls through */\n        case 2:\n            state.compilers = [state];\n            state.version = 3;\n        /* falls through */\n        case 3:\n            state = convertOldState(state);\n            break;  // no fall through\n        case 4:\n            state = GoldenLayout.unminifyConfig(state);\n            break;\n        default:\n            throw new Error(\"Invalid version '\" + state.version + \"'\");\n    }\n    return state;\n}\n\nexport function risonify(obj: object): string {\n    return rison.quote(rison.encode_object(obj));\n}\n\nexport function unrisonify(text: string): any {\n    return rison.decode_object(decodeURIComponent(text.replace(/\\+/g, '%20')));\n}\n\nexport function deserialiseState(stateText: string): any {\n    let state;\n    let exception;\n    try {\n        state = unrisonify(stateText);\n        if (state && state.z) {\n            state = unrisonify(lzstring.decompressFromBase64(state.z));\n        }\n    } catch (ex) {\n        exception = ex;\n    }\n\n    if (!state) {\n        try {\n            state = JSON.parse(decodeURIComponent(stateText));\n        } catch (ex) {\n            if (!exception) exception = ex;\n        }\n    }\n    if (!state && exception) throw exception;\n    return loadState(state);\n}\n\nexport function serialiseState(stateText: any): string {\n    const ctx = GoldenLayout.minifyConfig({content: stateText.content});\n    ctx.version = 4;\n    const uncompressed = risonify(ctx);\n    const compressed = risonify({z: lzstring.compressToBase64(uncompressed)});\n    const MinimalSavings = 0.20;  // at least this ratio smaller\n    if (compressed.length < uncompressed.length * (1.0 - MinimalSavings)) {\n        return compressed;\n    } else {\n        return uncompressed;\n    }\n}\n","// Copyright (c) 2020, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\nimport _ from 'underscore';\nimport * as monaco from 'monaco-editor';\n\ninterface RegisteredCodeLens {\n    compilerId: number;\n    editorModel: monaco.editor.ITextModel;\n    lenses: monaco.languages.CodeLens[];\n}\n\nlet registeredCodelenses: RegisteredCodeLens[] = [];\nlet providersPerLanguage: Record<string, monaco.IDisposable> = {};\n\nexport function registerLensesForCompiler(compilerId: number, editorModel: monaco.editor.ITextModel, lenses: monaco.languages.CodeLens[]): void {\n    const item: RegisteredCodeLens = _.find(registeredCodelenses, (item: RegisteredCodeLens): boolean => {\n        return item.compilerId === compilerId;\n    });\n\n    if (item) {\n        item.lenses = lenses;\n    } else {\n        registeredCodelenses.push({\n            compilerId: compilerId,\n            editorModel: editorModel,\n            lenses: lenses,\n        });\n    }\n}\n\nfunction provide(model: monaco.editor.ITextModel): monaco.languages.CodeLensList {\n    const item: RegisteredCodeLens = _.find(registeredCodelenses, (item: RegisteredCodeLens): boolean => {\n        return item.editorModel === model;\n    });\n\n    if (item) {\n        return {\n            lenses: item.lenses,\n            dispose: function () {},\n        };\n    } else {\n        return {\n            lenses: [],\n            dispose: function () {},\n        };\n    }\n}\n\nexport function unregister(compilerId: number): void {\n    const item: RegisteredCodeLens = _.find(registeredCodelenses, (item: RegisteredCodeLens): boolean => {\n        return item.compilerId === compilerId;\n    });\n\n    if (item) {\n        registeredCodelenses = _.without(registeredCodelenses, item);\n    }\n}\n\nexport function registerProviderForLanguage(language: string): void {\n    if (!providersPerLanguage[language]) {\n        providersPerLanguage[language] = monaco.languages.registerCodeLensProvider(language, {\n            provideCodeLenses: provide,\n        });\n    }\n}\n","// Copyright (c) 2021, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\nimport { options } from './options'\n\nconst prefix = options.localStoragePrefix ?? '';\n\nexport function get(key: string, ifNotPresent: string): string {\n    try {\n        return window.localStorage.getItem(prefix + key) ?? ifNotPresent;\n    } catch (e) {\n        // Swallow up any security exceptions...\n        return ifNotPresent;\n    }\n}\n\nexport function set(key: string, value: string): boolean {\n    try {\n        window.localStorage.setItem(prefix + key, value);\n        return true;\n    } catch (e) {\n        // Swallow up any security exceptions...\n    }\n    return false;\n}\n\nexport function remove(key: string) {\n    try {\n        window.localStorage.removeItem(prefix + key);\n    } catch (e) {\n        // Swallow up any security exceptions...\n    }\n}\n","// Copyright (c) 2016, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n// here instead of in the editor.js and compiler.js etc to prevent circular dependencies.\nmodule.exports = {\n    getCompiler: function (editorId, lang) {\n        return {\n            type: 'component',\n            componentName: 'compiler',\n            componentState: {source: editorId, lang: lang},\n        };\n    },\n    getCompilerWith: function (editorId, filters, options, compilerId, langId, libs) {\n        return {\n            type: 'component',\n            componentName: 'compiler',\n            componentState: {\n                source: editorId,\n                filters: filters,\n                options: options,\n                compiler: compilerId,\n                lang: langId,\n                libs: libs,\n            },\n        };\n    },\n    getCompilerForTree: function (treeId, lang) {\n        return {\n            type: 'component',\n            componentName: 'compiler',\n            componentState: {tree: treeId, lang: lang},\n        };\n    },\n    getExecutor: function (editorId, lang) {\n        return {\n            type: 'component',\n            componentName: 'executor',\n            componentState: {source: editorId, lang: lang},\n        };\n    },\n    getExecutorWith: function (editorId, lang, compilerId, libraries, compilerArgs, treeId) {\n        return {\n            type: 'component',\n            componentName: 'executor',\n            componentState: {\n                source: editorId,\n                tree: treeId,\n                lang: lang,\n                compiler: compilerId,\n                libs: libraries,\n                options: compilerArgs,\n            },\n        };\n    },\n    getExecutorForTree: function (treeId, lang) {\n        return {\n            type: 'component',\n            componentName: 'executor',\n            componentState: {tree: treeId, lang: lang},\n        };\n    },\n    getEditor: function (id, langId) {\n        return {\n            type: 'component',\n            componentName: 'codeEditor',\n            componentState: {id: id, lang: langId},\n        };\n    },\n    getEditorWith: function (id, source, options) {\n        return {\n            type: 'component',\n            componentName: 'codeEditor',\n            componentState: {id: id, source: source, options: options},\n        };\n    },\n    getTree: function (id) {\n        return {\n            type: 'component',\n            componentName: 'tree',\n            componentState: {id: id},\n        };\n    },\n    getOutput: function (compiler, editor, tree) {\n        return {\n            type: 'component',\n            componentName: 'output',\n            componentState: {compiler: compiler, editor: editor, tree: tree},\n        };\n    },\n    getToolViewWith: function (compiler, editor, toolId, args, monacoStdin, tree) {\n        return {\n            type: 'component',\n            componentName: 'tool',\n            componentState: {\n                compiler: compiler,\n                editor: editor,\n                toolId: toolId,\n                args: args,\n                tree: tree,\n                monacoStdin: monacoStdin,\n            },\n        };\n    },\n    getToolInputView: function () {\n        return {\n            type: 'component',\n            componentName: 'toolInputView',\n            componentState: {},\n        };\n    },\n    getToolInputViewWith: function (compilerId, toolId, toolName) {\n        return {\n            type: 'component',\n            componentName: 'toolInputView',\n            componentState: {\n                compilerId: compilerId,\n                toolId: toolId,\n                toolName: toolName,\n            },\n        };\n    },\n    getDiff: function () {\n        return {\n            type: 'component',\n            componentName: 'diff',\n            componentState: {},\n        };\n    },\n    getOptView: function () {\n        return {\n            type: 'component',\n            componentName: 'opt',\n            componentState: {},\n        };\n    },\n    getOptViewWith: function (id, source, optimization, compilerName, editorid) {\n        return {\n            type: 'component',\n            componentName: 'opt',\n            componentState: {\n                id: id,\n                source: source,\n                optOutput: optimization,\n                compilerName: compilerName,\n                editorid: editorid,\n            },\n        };\n    },\n    getFlagsView: function () {\n        return {\n            type: 'component',\n            componentName: 'flags',\n            componentState: {},\n        };\n    },\n    getFlagsViewWith: function (id, compilerName, compilerFlags) {\n        return {\n            type: 'component',\n            componentName: 'flags',\n            componentState: {\n                id: id,\n                compilerName: compilerName,\n                compilerFlags: compilerFlags,\n            },\n        };\n    },\n    getAstView: function () {\n        return {\n            type: 'component',\n            componentName: 'ast',\n            componentState: {},\n        };\n    },\n    getAstViewWith: function (id, source, astOutput, compilerName, editorid) {\n        return {\n            type: 'component',\n            componentName: 'ast',\n            componentState: {\n                id: id,\n                source: source,\n                astOutput: astOutput,\n                compilerName: compilerName,\n                editorid: editorid,\n            },\n        };\n    },\n    getGccDumpView: function () {\n        return {\n            type: 'component',\n            componentName: 'gccdump',\n            componentState: {},\n        };\n    },\n    getGccDumpViewWith: function (id, compilerName, editorid, gccDumpOutput) {\n        var ret = {\n            type: 'component',\n            componentName: 'gccdump',\n            componentState: {\n                _compilerid: id,\n                _compilerName: compilerName,\n                _editorid: editorid,\n            },\n        };\n        if (gccDumpOutput) {\n            ret.treeDump = gccDumpOutput.treeDump;\n            ret.rtlDump = gccDumpOutput.rtlDump;\n            ret.ipaDump = gccDumpOutput.ipaDump;\n            ret.addressOption = gccDumpOutput.addressOption;\n            ret.slimOption = gccDumpOutput.slimOption;\n            ret.rawOption = gccDumpOutput.rawOption;\n            ret.detailsOption = gccDumpOutput.detailsOption;\n            ret.statsOption = gccDumpOutput.statsOption;\n            ret.blocksOption = gccDumpOutput.blocksOption;\n            ret.vopsOption = gccDumpOutput.vopsOption;\n            ret.linenoOption = gccDumpOutput.linenoOption;\n            ret.uidOption = gccDumpOutput.uidOption;\n            ret.allOption = gccDumpOutput.allOption;\n            ret.selectedPass = gccDumpOutput.selectedPass;\n        }\n        return ret;\n    },\n\n    getCfgView: function () {\n        return {\n            type: 'component',\n            componentName: 'cfg',\n            componentState: {},\n        };\n    },\n    getCfgViewWith: function (id, editorid) {\n        return {\n            type: 'component',\n            componentName: 'cfg',\n            componentState: {\n                id: id,\n                editorid: editorid,\n            },\n        };\n    },\n    getConformanceView: function (editorid, source, langId) {\n        return {\n            type: 'component',\n            componentName: 'conformance',\n            componentState: {\n                editorid: editorid,\n                source: source,\n                langId: langId,\n            },\n        };\n    },\n    getIrView: function () {\n        return {\n            type: 'component',\n            componentName: 'ir',\n            componentState: {},\n        };\n    },\n    getIrViewWith: function (id, source, irOutput, compilerName, editorid) {\n        return {\n            type: 'component',\n            componentName: 'ir',\n            componentState: {\n                id: id,\n                source: source,\n                irOutput: irOutput,\n                compilerName: compilerName,\n                editorid: editorid,\n            },\n        };\n    },\n    getRustMirView: function () {\n        return {\n            type: 'component',\n            componentName: 'rustmir',\n            componentState: {},\n        };\n    },\n    getRustMirViewWith: function (id, source, rustMirOutput, compilerName, editorid) {\n        return {\n            type: 'component',\n            componentName: 'rustmir',\n            componentState: {\n                id: id,\n                source: source,\n                rustMirOutput: rustMirOutput,\n                compilerName: compilerName,\n                editorid: editorid,\n            },\n        };\n    },\n    getGnatDebugView: function () {\n        return {\n            type: 'component',\n            componentName: 'gnatdebug',\n            componentState: {},\n        };\n    },\n    getGnatDebugViewWith: function (id, source, gnatDebugOutput, compilerName, editorid) {\n        return {\n            type: 'component',\n            componentName: 'gnatdebug',\n            componentState: {\n                id: id,\n                source: source,\n                gnatDebugOutput: gnatDebugOutput,\n                compilerName: compilerName,\n                editorid: editorid,\n            },\n        };\n    },\n    getRustMacroExpView: function () {\n        return {\n            type: 'component',\n            componentName: 'rustmacroexp',\n            componentState: {},\n        };\n    },\n    getRustMacroExpViewWith: function (id, source, rustMacroExpOutput, compilerName, editorid) {\n        return {\n            type: 'component',\n            componentName: 'rustmacroexp',\n            componentState: {\n                id: id,\n                source: source,\n                rustMacroExpOutput: rustMacroExpOutput,\n                compilerName: compilerName,\n                editorid: editorid,\n            },\n        };\n    },\n    getDeviceView: function () {\n        return {\n            type: 'component',\n            componentName: 'device',\n            componentState: {},\n        };\n    },\n    getDeviceViewWith: function (id, source, deviceOutput, compilerName, editorid) {\n        return {\n            type: 'component',\n            componentName: 'device',\n            componentState: {\n                id: id,\n                source: source,\n                deviceOutput: deviceOutput,\n                compilerName: compilerName,\n                editorid: editorid,\n            },\n        };\n    },\n};\n","// Copyright (c) 2017, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\nvar FontScale = require('../fontscale').FontScale;\nvar monaco = require('monaco-editor');\nvar _ = require('underscore');\nvar $ = require('jquery');\nvar ga = require('../analytics').ga;\nvar TomSelect = require('tom-select');\n\nrequire('../modes/asm-mode');\n\n\n// note that these variables are saved to state, so don't change, only add to it\nvar\n    DiffType_ASM = 0,\n    DiffType_CompilerStdOut = 1,\n    DiffType_CompilerStdErr = 2,\n    DiffType_ExecStdOut = 3,\n    DiffType_ExecStdErr = 4;\n\nfunction State(id, model, difftype) {\n    this.id = id;\n    this.model = model;\n    this.compiler = null;\n    this.result = null;\n    this.difftype = difftype;\n}\n\nState.prototype.update = function (id, compiler, result) {\n    if (this.id !== id) return false;\n    this.compiler = compiler;\n    this.result = result;\n    this.refresh();\n\n    return true;\n};\n\nState.prototype.refresh = function () {\n    var output = [];\n    if (this.result) {\n        switch (this.difftype) {\n            case DiffType_ASM:\n                output = this.result.asm || [];\n                break;\n            case DiffType_CompilerStdOut:\n                output = this.result.stdout || [];\n                break;\n            case DiffType_CompilerStdErr:\n                output = this.result.stderr || [];\n                break;\n            case DiffType_ExecStdOut:\n                if (this.result.execResult)\n                    output = this.result.execResult.stdout || [];\n                break;\n            case DiffType_ExecStdErr:\n                if (this.result.execResult)\n                    output = this.result.execResult.stderr || [];\n                break;\n        }\n    }\n    this.model.setValue(_.pluck(output, 'text').join('\\n'));\n};\n\nfunction getItemDisplayTitle(item) {\n    if (typeof item.id === 'string') {\n        var p = item.id.indexOf('_exec');\n        if (p !== -1) {\n            return 'Executor #' + item.id.substr(0, p);\n        }\n    }\n\n    return 'Compiler #' + item.id;\n}\n\nfunction Diff(hub, container, state) {\n    this.container = container;\n    this.eventHub = hub.createEventHub();\n    this.domRoot = container.getElement();\n    this.domRoot.html($('#diff').html());\n    this.compilers = {};\n    var root = this.domRoot.find('.monaco-placeholder');\n\n    this.outputEditor = monaco.editor.createDiffEditor(root[0], {\n        fontFamily: 'Consolas, \"Liberation Mono\", Courier, monospace',\n        scrollBeyondLastLine: true,\n        readOnly: true,\n        language: 'asm',\n    });\n\n    this.lhs = new State(state.lhs, monaco.editor.createModel('', 'asm'), state.lhsdifftype || DiffType_ASM);\n    this.rhs = new State(state.rhs, monaco.editor.createModel('', 'asm'), state.rhsdifftype || DiffType_ASM);\n    this.outputEditor.setModel({original: this.lhs.model, modified: this.rhs.model});\n\n    this.selectize = {};\n\n    this.domRoot[0].querySelectorAll('.difftype-picker').forEach(_.bind(function (picker) {\n\n        var instance = new TomSelect(picker, {\n            sortField: 'name',\n            valueField: 'id',\n            labelField: 'name',\n            searchField: ['name'],\n            options: [\n                {id: DiffType_ASM, name: 'Assembly'},\n                {id: DiffType_CompilerStdOut, name: 'Compiler stdout'},\n                {id: DiffType_CompilerStdErr, name: 'Compiler stderr'},\n                {id: DiffType_ExecStdOut, name: 'Execution stdout'},\n                {id: DiffType_ExecStdErr, name: 'Execution stderr'},\n            ],\n            items: [],\n            render: {\n                option: function (item, escape) {\n                    return '<div>' + escape(item.name) + '</div>';\n                },\n            },\n            dropdownParent: 'body',\n            plugins: ['input_autogrow'],\n            onChange: _.bind(function (value) {\n                if (picker.classList.contains('lhsdifftype')) {\n                    this.lhs.difftype = parseInt(value);\n                    this.lhs.refresh();\n                } else {\n                    this.rhs.difftype = parseInt(value);\n                    this.rhs.refresh();\n                }\n                this.updateState();\n            }, this),\n        });\n\n        if (picker.classList.contains('lhsdifftype')) {\n            this.selectize.lhsdifftype = instance;\n        } else {\n            this.selectize.rhsdifftype = instance;\n        }\n\n    }, this));\n\n\n    this.domRoot[0].querySelectorAll('.diff-picker').forEach(_.bind(function (picker) {\n        var instance = new TomSelect(picker, {\n            sortField: 'name',\n            valueField: 'id',\n            labelField: 'name',\n            searchField: ['name'],\n            options: [],\n            items: [],\n            render: {\n                option: function (item, escape) {\n                    return '<div>' +\n                        '<span class=\"compiler\">' + escape(item.compiler.name) + '</span>' +\n                        '<span class=\"options\">' + escape(item.options) + '</span>' +\n                        '<ul class=\"meta\">' +\n                        '<li class=\"editor\">Editor #' + escape(item.editorId) + '</li>' +\n                        '<li class=\"compilerId\">' + escape(getItemDisplayTitle(item)) + '</li>' +\n                        '</ul></div>';\n                },\n            },\n            dropdownParent: 'body',\n            plugins: ['input_autogrow'],\n            onChange: _.bind(function (value) {\n\n                var compiler = this.compilers[value];\n                if (!compiler) return;\n                if (picker.classList.contains('lhs')) {\n                    this.lhs.compiler = compiler;\n                    this.lhs.id = compiler.id;\n                } else {\n                    this.rhs.compiler = compiler;\n                    this.rhs.id = compiler.id;\n                }\n                this.onDiffSelect(compiler.id);\n            }, this),\n        });\n\n        if (picker.classList.contains('lhs')) {\n            this.selectize.lhs = instance;\n        } else {\n            this.selectize.rhs = instance;\n        }\n    }, this));\n\n\n    this.initButtons(state);\n    this.initCallbacks();\n\n    this.updateCompilerNames();\n    this.updateCompilers();\n    ga.proxy('send', {\n        hitType: 'event',\n        eventCategory: 'OpenViewPane',\n        eventAction: 'Diff',\n    });\n}\n\n// TODO: de-dupe with compiler etc\nDiff.prototype.resize = function () {\n    var topBarHeight = this.topBar.outerHeight(true);\n    this.outputEditor.layout({\n        width: this.domRoot.width(),\n        height: this.domRoot.height() - topBarHeight,\n    });\n};\n\nDiff.prototype.onDiffSelect = function (id) {\n    this.requestResendResult(id);\n    this.updateCompilerNames();\n    this.updateState();\n};\n\nDiff.prototype.onCompileResult = function (id, compiler, result) {\n    // both sides must be updated, don't be tempted to rewrite this as\n    // var changes = lhs.update() || rhs.update();\n    var lhsChanged = this.lhs.update(id, compiler, result);\n    var rhsChanged = this.rhs.update(id, compiler, result);\n    if (lhsChanged || rhsChanged) {\n        this.updateCompilerNames();\n    }\n};\n\nDiff.prototype.onExecuteResult = function (id, compiler, result) {\n    var compileResult = _.assign({}, result.buildResult);\n    compileResult.execResult = {\n        code: result.code,\n        stdout: result.stdout,\n        stderr: result.stderr,\n    };\n\n    this.onCompileResult(id + '_exec', compiler, compileResult);\n};\n\nDiff.prototype.initButtons = function (state) {\n    this.fontScale = new FontScale(this.domRoot, state, this.outputEditor);\n\n    this.topBar = this.domRoot.find('.top-bar');\n};\n\nDiff.prototype.initCallbacks = function () {\n    this.fontScale.on('change', _.bind(this.updateState, this));\n\n    this.eventHub.on('compileResult', this.onCompileResult, this);\n    this.eventHub.on('executeResult', this.onExecuteResult, this);\n    this.eventHub.on('compiler', this.onCompiler, this);\n    this.eventHub.on('compilerClose', this.onCompilerClose, this);\n    this.eventHub.on('executor', this.onExecutor, this);\n    this.eventHub.on('executorClose', this.onExecutorClose, this);\n    this.eventHub.on('settingsChange', this.onSettingsChange, this);\n    this.eventHub.on('themeChange', this.onThemeChange, this);\n    this.container.on('destroy', function () {\n        this.eventHub.unsubscribe();\n        this.outputEditor.dispose();\n    }, this);\n    this.container.on('resize', this.resize, this);\n    this.container.on('shown', this.resize, this);\n\n    this.requestResendResult(this.lhs.id);\n    this.requestResendResult(this.rhs.id);\n\n    this.eventHub.emit('findCompilers');\n    this.eventHub.emit('findExecutors');\n\n    this.eventHub.emit('requestTheme');\n    this.eventHub.emit('requestSettings');\n};\n\nDiff.prototype.requestResendResult = function (id) {\n    if (typeof id === 'string') {\n        var p = id.indexOf('_exec');\n        if (p !== -1) {\n            var execId = parseInt(id.substr(0, p));\n            this.eventHub.emit('resendExecution', execId);\n        }\n    } else {\n        this.eventHub.emit('resendCompilation', id);\n    }\n};\n\nDiff.prototype.onCompiler = function (id, compiler, options, editorId) {\n    if (!compiler) return;\n    options = options || '';\n    var name = compiler.name + ' ' + options;\n    // TODO: selectize doesn't play nicely with CSS tricks for truncation; this is the best I can do\n    // There's a plugin at: http://www.benbybenjacobs.com/blog/2014/04/09/no-wrap-plugin-for-selectize-dot-js\n    // but it doesn't look easy to integrate.\n    var maxLength = 30;\n    if (name.length > maxLength - 3) name = name.substr(0, maxLength - 3) + '...';\n    this.compilers[id] = {\n        id: id,\n        name: name,\n        options: options,\n        editorId: editorId,\n        compiler: compiler,\n    };\n    if (!this.lhs.id) {\n        this.lhs.compiler = this.compilers[id];\n        this.lhs.id = id;\n        this.onDiffSelect(id);\n    } else if (!this.rhs.id) {\n        this.rhs.compiler = this.compilers[id];\n        this.rhs.id = id;\n        this.onDiffSelect(id);\n    }\n    this.updateCompilers();\n};\n\nDiff.prototype.onExecutor = function (id, compiler, options, editorId) {\n    this.onCompiler(id + '_exec', compiler, options, editorId);\n};\n\nDiff.prototype.onCompilerClose = function (id) {\n    delete this.compilers[id];\n    this.updateCompilers();\n};\n\nDiff.prototype.onExecutorClose = function (id) {\n    this.onCompilerClose(id + '_exec');\n};\n\nDiff.prototype.updateCompilerNames = function () {\n    this.container.setTitle(this.getPaneName());\n};\n\nDiff.prototype.getPaneName = function () {\n    var name = 'Diff Viewer';\n    if (this.lhs.compiler && this.rhs.compiler) {\n        name += ' ' + this.lhs.compiler.name + ' vs ' + this.rhs.compiler.name;\n    }\n    return name;\n};\n\nDiff.prototype.updateCompilersFor = function (selectize, id) {\n    selectize.clearOptions();\n    _.each(this.compilers, function (compiler) {\n        selectize.addOption(compiler);\n    }, this);\n    if (this.compilers[id]) {\n        selectize.setValue(id);\n    }\n};\n\nDiff.prototype.updateCompilers = function () {\n    this.updateCompilersFor(this.selectize.lhs, this.lhs.id);\n    this.updateCompilersFor(this.selectize.rhs, this.rhs.id);\n\n    this.selectize.lhsdifftype.setValue(this.lhs.difftype || DiffType_ASM);\n    this.selectize.rhsdifftype.setValue(this.rhs.difftype || DiffType_ASM);\n};\n\nDiff.prototype.updateState = function () {\n    var state = {\n        lhs: this.lhs.id,\n        rhs: this.rhs.id,\n        lhsdifftype: this.lhs.difftype,\n        rhsdifftype: this.rhs.difftype,\n    };\n    this.fontScale.addState(state);\n    this.container.setState(state);\n};\n\nDiff.prototype.onThemeChange = function (newTheme) {\n    if (this.outputEditor)\n        this.outputEditor.updateOptions({theme: newTheme.monaco});\n};\n\nDiff.prototype.onSettingsChange = function (newSettings) {\n    this.outputEditor.updateOptions({\n        minimap: {\n            enabled: newSettings.showMinimap,\n        },\n        fontFamily: newSettings.editorsFFont,\n        fontLigatures: newSettings.editorsFLigatures,\n    });\n};\n\nmodule.exports = {\n    Diff: Diff,\n    getComponent: function (lhs, rhs) {\n        return {\n            type: 'component',\n            componentName: 'diff',\n            componentState: {lhs: lhs, rhs: rhs},\n        };\n    },\n};\n","// Copyright (c) 2021, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\nimport $ from 'jquery';\n\nimport { AlertAskOptions, AlertEnterTextOptions, AlertNotifyOptions } from './alert.interfaces';\n\nexport class Alert {\n    yesHandler: (answer?: string | string[] | number) => void | null = null;\n    noHandler: () => void | null = null;\n    prefixMessage: string = '';\n\n    constructor() {\n        const yesNoModal = $('#yes-no');\n        yesNoModal.find('button.yes').on('click', () => {\n            this.yesHandler?.();\n        });\n        yesNoModal.find('button.no').on('click', () => {\n            this.noHandler?.();\n        });\n\n        const enterSomething = $('#enter-something');\n        enterSomething.find('button.yes').on('click', () => {\n            const answer = enterSomething.find('.question-answer');\n            this.yesHandler?.(answer.val());\n        });\n        enterSomething.find('button.no').on('click', () => {\n            this.noHandler?.();\n        });\n    }\n\n    /**\n     * Display an alert with a title and a body\n     */\n    alert(title: string, body: string, onClose?: () => void) {\n        const modal = $('#alert');\n        modal.find('.modal-title').html(title);\n        modal.find('.modal-body').html(body);\n        modal.modal();\n        if (onClose) {\n            modal.off('hidden.bs.modal');\n            modal.on('hidden.bs.modal', onClose);\n        }\n        return modal;\n    }\n\n    /**\n     * Asks the user a two choice question, where the title, content and buttons are customizable\n     */\n    ask(title: string, question: string, askOptions: AlertAskOptions) {\n        const modal = $('#yes-no');\n        this.yesHandler = askOptions?.yes ?? (() => undefined);\n        this.noHandler = askOptions?.no ?? (() => undefined);\n        modal.find('.modal-title').html(title);\n        modal.find('.modal-body')\n            .css(\"min-height\", \"inherit\")\n            .html(question);\n        if (askOptions.yesHtml) modal.find('.modal-footer .yes').html(askOptions.yesHtml);\n        if (askOptions.yesClass) {\n            modal.find('.modal-footer .yes')\n                .removeClass('btn-link')\n                .addClass(askOptions.yesClass);\n        }\n        if (askOptions.noHtml) modal.find('.modal-footer .no').html(askOptions.noHtml);\n        if (askOptions.noClass) {\n            modal.find('.modal-footer .no')\n                .removeClass('btn-link')\n                .addClass(askOptions.noClass);\n        }\n        if (askOptions.onClose) {\n            modal.off('hidden.bs.modal');\n            modal.on('hidden.bs.modal', askOptions.onClose);\n        }\n        modal.modal();\n        return modal;\n    }\n\n    /**\n     * Notifes the user of something by a popup which can be stacked, auto-dismissed, etc... based on options\n     */\n    notify(body: string, {\n        group = \"\",\n        collapseSimilar = true,\n        alertClass = \"\",\n        autoDismiss = true,\n        dismissTime = 5000\n    }: AlertNotifyOptions) {\n        const container = $('#notifications');\n        if (!container) return;\n        const newElement = $(`\n            <div class=\"alert notification ${alertClass}\" tabindex=\"-1\" role=\"dialog\">\n                <button type=\"button\" class=\"close\" style=\"float: left; margin-right: 5px;\" data-dismiss=\"alert\">\n                    &times;\n                </button>\n                <span id=\"msg\">${this.prefixMessage}${body}</span>\n            </div>\n        `);\n        if (group !== \"\") {\n            if (collapseSimilar) {\n                // Only collapsing if a group has been specified\n                container.find(`[data-group=\"${group}\"]`).remove();\n            }\n            newElement.attr('data-group', group)\n        }\n        if (autoDismiss) {\n            setTimeout(() => {\n                newElement.fadeOut('slow', () => {\n                    newElement.remove();\n                });\n            }, dismissTime);\n        }\n        // Append the newly created element to the container\n        container.append(newElement);\n    }\n\n    /**\n     * Asks the user a two choice question, where the title, content and buttons are customizable\n     */\n    enterSomething(title: string, question: string, defaultValue: string, askOptions: AlertEnterTextOptions) {\n        const modal = $('#enter-something');\n        this.yesHandler = askOptions?.yes ?? (() => undefined);\n        this.noHandler = askOptions?.no ?? (() => undefined);\n        modal.find('.modal-title').html(title);\n        modal.find('.modal-body .question').html(question);\n\n        const yesButton = modal.find('.modal-footer .yes');\n        const noButton = modal.find('.modal-footer .no');\n        const answerEdit = modal.find('.modal-body .question-answer');\n        answerEdit.val(defaultValue);\n        answerEdit.on('keyup', (e) => {\n            if (e.keyCode === 13 || e.which === 13) {\n                yesButton.trigger('click');\n            }\n        });\n\n        if (askOptions.yesHtml) yesButton.html(askOptions.yesHtml);\n        if (askOptions.yesClass) {\n            yesButton.removeClass('btn-light').addClass(askOptions.yesClass);\n        }\n        if (askOptions.noHtml) noButton.html(askOptions.noHtml);\n        if (askOptions.noClass) {\n            noButton.removeClass('btn-light').addClass(askOptions.noClass);\n        }\n        if (askOptions.onClose) {\n            modal.off('hidden.bs.modal');\n            modal.on('hidden.bs.modal', askOptions.onClose);\n        }\n\n        modal.on('shown.bs.modal', () => {\n            answerEdit.trigger('focus');\n        });\n        modal.modal();\n        return modal;\n    }\n}\n","// Copyright (c) 2021, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\nimport _ from 'underscore';\nimport { Container } from 'golden-layout';\nimport * as monaco from 'monaco-editor';\n\nimport { BasePaneState, PaneCompilerState } from './pane.interfaces';\n\nimport { FontScale } from '../fontscale';\nimport { SiteSettings } from '../settings.interfaces';\nimport * as utils from '../utils';\n\n/**\n * Basic container for a tool pane in Compiler Explorer\n *\n * Type parameter E indicates which monaco editor kind this pane hosts. Common\n * values are monaco.editor.IDiffEditor and monaco.ICodeEditor\n */\nexport abstract class Pane<E extends monaco.editor.IEditor, S extends {}> {\n    compilerInfo: PaneCompilerState;\n    container: Container;\n    domRoot: JQuery;\n    topBar: JQuery;\n    hideable: JQuery;\n    eventHub: any /* typeof hub.createEventHub() */;\n    selection: monaco.Selection;\n    editor: E;\n    fontScale: typeof FontScale;\n    isAwaitingInitialResults: boolean = false;\n    settings: SiteSettings | {} = {};\n\n    /**\n     * Base constructor for any pane. Performs common initialization tasks such\n     * as registering standard event listeners and lifecycle handlers.\n     *\n     * Overridable for implementors\n     */\n    protected constructor(hub: any /* Hub */, container: Container, state: S & BasePaneState) {\n        this.container = container;\n        this.eventHub = hub.createEventHub();\n        this.domRoot = container.getElement();\n        this.hideable = this.domRoot.find('.hideable');\n\n        this.domRoot.html(this.getInitialHTML());\n        const editorRoot = this.domRoot.find('.monaco-placeholder')[0];\n        this.editor = this.createEditor(editorRoot);\n\n        this.selection = state.selection;\n        this.compilerInfo = {\n            compilerId: state.id,\n            compilerName: state.compilerName,\n            editorId: state.editorid,\n        };\n        this.fontScale = new FontScale(this.domRoot, state, this.editor);\n        this.topBar = this.domRoot.find('.top-bar');\n\n        this.registerButtons(state);\n        this.registerStandardCallbacks();\n        this.registerCallbacks();\n        this.registerEditorActions();\n        this.setTitle();\n        this.registerOpeningAnalyticsEvent();\n    }\n\n    /**\n     * Get the initial HTML layout for the pane's default content. A typical\n     * implementation looks like this:\n     *\n     * ```ts\n     * override getInitialHTML(): string {\n     *     return $('#rustmir').html();\n     * }\n     * ```\n     */\n    abstract getInitialHTML(): string;\n\n    /**\n     * Initialize the monaco editor instance. Typical implementation for looks\n     * like this:\n     *\n     * ```ts\n     * return monaco.editor.create(editorRoot, extendConfig({\n     *     // goodies\n     * }));\n     * ```\n     */\n    abstract createEditor(editorRoot: HTMLElement): E;\n\n    /**\n     * Emit analytics event for opening the pane tab. Typical implementation\n     * looks like this:\n     *\n     * ```ts\n     * ga.proxy('send', {\n     *   hitType: 'event',\n     *   eventCategory: 'OpenViewPane',\n     *   eventAction: 'RustMir',\n     * });\n     * ```\n     */\n    abstract registerOpeningAnalyticsEvent(): void\n\n    /** Optionally overridable code for initializing pane buttons */\n    registerButtons(state: S): void {}\n\n    /** Optionally overridable code for initializing event callbacks */\n    registerCallbacks(): void {}\n\n    /**\n     * Optionally overridable code for initializing monaco actions on the\n     * editor instance\n     */\n    registerEditorActions(): void {}\n\n    /**\n     * Produce a textual title for the pane\n     *\n     * Typical implementation uses the compiler and editor ids in combination\n     * with a name.\n     *\n     * This title is attached to the pane in the UI.\n     *\n     * ```ts\n     * return `Rust MIR Viewer ${this.compilerInfo.compilerName}` +\n     *     `(Editor #${this.compilerInfo.editorId}, ` +\n     *     `Compiler #${this.compilerInfo.compilerId})`;\n     * ```\n     */\n    abstract getPaneName(): string;\n\n    /**\n     * Handle user selected compiler change.\n     *\n     * This event is triggered when the user selects a different compiler in the\n     * compiler dropdown.\n     *\n     * Note that this event is also triggered when the changed compiler is not\n     * the one this view is attached to. Therefore it is smart to check that\n     * the updated compiler is the one the view is attached to. This can be done\n     * with a simple check.\n     *\n     * ```ts\n     * if (this.compilerInfo.compilerId === compilerId) { ... }\n     * ```\n     *\n     * @param compilerId Id of the compiler that had its version changed\n     * @param compiler The updated compiler object\n     * @param options\n     * @param editorId The editor id the updated compiler is attached to\n     */\n    abstract onCompiler(compilerId: number, compiler: unknown, options: unknown, editorId: number): void;\n\n    /**\n     * Handle compilation result.\n     *\n     * This event is triggered when a code compilation was triggered.\n     *\n     * Note that this event is triggered for *any* compilation, even when the\n     * compilation was done for a source/compiler this view is not attached to.\n     * Therefore it is smart to check that the updated compiler is the one the\n     * view is attached to. This can be done with a simple check.\n     *\n     * ```ts\n     * if (this.compilerInfo.compilerId === compilerId) { ... }\n     * ```\n     *\n     * @param compilerId Id of the compiler that had a compilation\n     * @param compiler The compiler object\n     * @param result The entire HTTP request response\n     */\n    abstract onCompileResult(compilerId: number, compiler: unknown, result: unknown): void;\n\n    /**\n     * Perform any clean-up events when the pane is closed.\n     *\n     * This is typically used to emit an analytics event for closing the pane,\n     * unsubscribing from the event hub and disposing the monaco editor.\n     */\n    abstract close(): void;\n\n    /** Initialize standard lifecycle hooks */\n    protected registerStandardCallbacks(): void {\n        this.fontScale.on('change', this.updateState.bind(this));\n        this.container.on('destroy', this.close.bind(this));\n        this.container.on('resize', this.resize.bind(this));\n        this.eventHub.on('compileResult', this.onCompileResult.bind(this));\n        this.eventHub.on('compiler', this.onCompiler.bind(this));\n        this.eventHub.on('compilerClose', this.onCompilerClose.bind(this));\n        this.eventHub.on('settingsChange', this.onSettingsChange.bind(this));\n        this.eventHub.on('shown', this.resize.bind(this));\n        this.eventHub.on('resize', this.resize.bind(this));\n    }\n\n    protected setTitle() {\n        this.container.setTitle(this.getPaneName());\n    }\n\n    /** Close the pane if the compiler this pane was attached to closes */\n    protected onCompilerClose(compilerId: number) {\n        if (this.compilerInfo.compilerId === compilerId) {\n            _.defer(() => this.container.close());\n        }\n    }\n\n    protected onDidChangeCursorSelection(event: monaco.editor.ICursorSelectionChangedEvent) {\n        if (this.isAwaitingInitialResults) {\n            this.selection = event.selection;\n            this.updateState();\n        }\n    }\n\n    protected onSettingsChange(settings: SiteSettings) {\n        this.settings = settings;\n        this.editor.updateOptions({\n            contextmenu: settings.useCustomContextMenu,\n            minimap: {\n                enabled: settings.showMinimap,\n            },\n            fontFamily: settings.editorsFFont,\n            fontLigatures: settings.editorsFLigatures,\n        });\n    }\n\n    getCurrentState() {\n        const state = {\n            id: this.compilerInfo.compilerId,\n            editorId: this.compilerInfo.editorId,\n            selection: this.selection,\n        };\n        this.fontScale.addState(state);\n        return state;\n    }\n\n    updateState() {\n        this.container.setState(this.getCurrentState());\n    }\n\n    resize() {\n        const topBarHeight = utils.updateAndCalcTopBarHeight(this.domRoot,\n            this.topBar, this.hideable);\n        if (!this.editor) return;\n        this.editor.layout({\n            width: this.domRoot.width(),\n            height: this.domRoot.height() - topBarHeight,\n        });\n    }\n}\n","module.exports = \"<!doctype html> <html lang=en> <body> <span id=last-changed></span> <h2>Compiler Explorer Cookie Policy</h2> <p> Browsers support the storing and sending back of small text files called \\\"Cookies\\\". These cookie files can be used (amongst other things) to help track the usage of a website. See <a href=https://developer.mozilla.org/docs/Web/HTTP/Cookies target=_blank rel=\\\"noreferrer noopener\\\">the Mozilla description of cookies</a> for more details. </p> <p> Compiler Explorer uses Google Analytics, which in turn uses cookies. Google Analytics allows us to see how many individual users of Compiler Explorer there are, how often users visit us, the average amount of time spent on the site, the frequency and distribution of compilers selected, and so on. It is invaluable in helping us make decisions in prioritising work on the site. It's important to note that these cookies are anonymous: we don't know who each individual user is. Our Google Analytics settings prevent data being retained for more than 14 months. The cookie stored is a first party cookie: you will find it in your browser under \\\"godbolt.org\\\" cookies. </p> <p> Your privacy is important to us and you may opt out of this tracking at any time using the buttons on this dialog, with no loss of access or functionality of Compiler Explorer. </p> <h2><span style=color:#2f4f4f>Necessary</span> Local Storage</h2> <p> To store your preferred options between sessions, such as your input code and user interface layout, we make use of your browser's local storage, where we place: </p> <ul> <li>The current page state, such as: <ul> <li>Your current code</li> <li>Selected compilers and their options</li> <li>Pane layout</li> <li>Font sizes</li> </ul> </li> <li>Your settings as shown in the settings popup (which can be found at: More > Settings), such as: <ul> <li>Your theme selection</li> <li>The default language</li> <li>Compile-as-you-type settings</li> </ul> </li> </ul> <p> Note that the usage of local storage is necessary for the proper functioning of the site, and it won't be disabled if you choose to not grant cookie usage consent. This information is not used to track any user identifying information. The data stored locally is only that required by the site to function. </p> <h3>How to control the cookies</h3> <p> You can change your cookie consent decision on Compiler Explorer by pressing one of the following buttons: </p> </body> </html> \";","import _ from 'underscore';\nimport { MultifileService } from './multifile-service';\n\nclass ColouredSourcelineInfo {\n    sourceLine: number;\n    compilerId: number;\n    compilerLine: number;\n    colourIdx: number;\n};\n\nexport class LineColouring {\n    private colouredSourceLinesByEditor: Object;\n    private multifileService: MultifileService;\n    private linesAndColourByCompiler: Object;\n    private linesAndColourByEditor: Object;\n\n    constructor(multifileService: MultifileService) {\n        this.multifileService = multifileService;\n\n        this.clear();\n    }\n\n    public clear() {\n        this.colouredSourceLinesByEditor = [];\n        this.linesAndColourByCompiler = {};\n        this.linesAndColourByEditor = {};\n    }\n\n    public addFromAssembly(compilerId, asm) {\n        let asmLineIdx = 0;\n        for (const asmLine of asm ) {\n            if (asmLine.source && asmLine.source.line > 0) {\n                const editorId = this.multifileService.getEditorIdByFilename(asmLine.source.file);\n                if (editorId > 0) {\n                    if (!this.colouredSourceLinesByEditor[editorId]) {\n                        this.colouredSourceLinesByEditor[editorId] = new Array<ColouredSourcelineInfo>();\n                    }\n\n                    if (!this.linesAndColourByCompiler[compilerId]) {\n                        this.linesAndColourByCompiler[compilerId] = {};\n                    }\n\n                    if (!this.linesAndColourByEditor[editorId]) {\n                        this.linesAndColourByEditor[editorId] = {};\n                    }\n\n                    this.colouredSourceLinesByEditor[editorId].push({\n                        sourceLine: asmLine.source.line - 1,\n                        compilerId: compilerId,\n                        compilerLine: asmLineIdx,\n                        colourIdx: -1,\n                    });\n                }\n            }\n            asmLineIdx++;\n        }\n    }\n\n    private getUniqueLinesForEditor(editorId: number) {\n        const lines = [];\n\n        for (const info of this.colouredSourceLinesByEditor[editorId]) {\n            if (!lines.includes(info.sourceLine))\n                lines.push(info.sourceLine);\n        }\n\n        return lines;\n    }\n\n    private setColourBySourceline(editorId: number, line: number, colourIdx: number) {\n        for (const info of this.colouredSourceLinesByEditor[editorId]) {\n            if (info.sourceLine === line) {\n                info.colourIdx = colourIdx;\n            }\n        }\n    }\n\n    public calculate() {\n        let colourIdx = 0;\n\n        for (const editorIdStr of _.keys(this.colouredSourceLinesByEditor)) {\n            const editorId = parseInt(editorIdStr);\n\n            const lines = this.getUniqueLinesForEditor(editorId);\n            for (const line of lines) {\n                this.setColourBySourceline(editorId, line, colourIdx);\n                colourIdx++;\n            }\n        }\n\n        const compilerIds = _.keys(this.linesAndColourByCompiler);\n        const editorIds = _.keys(this.linesAndColourByEditor);\n\n        for (const compilerIdStr of compilerIds) {\n            const compilerId = parseInt(compilerIdStr);\n            for (const editorId of _.keys(this.colouredSourceLinesByEditor)) {\n                for (const info of this.colouredSourceLinesByEditor[editorId]) {\n                    if (info.compilerId === compilerId && info.colourIdx >= 0) {\n                        this.linesAndColourByCompiler[compilerId][info.compilerLine] = info.colourIdx;\n                    }\n                }\n            }\n        }\n\n        for (const editorId of editorIds) {\n            for (const info of this.colouredSourceLinesByEditor[editorId]) {\n                if (info.colourIdx >= 0) {\n                    this.linesAndColourByEditor[editorId][info.sourceLine] = info.colourIdx;\n                }\n            }\n        }\n    }\n\n    public getColoursForCompiler(compilerId: number): Object {\n        if (this.linesAndColourByCompiler[compilerId]) {\n            return this.linesAndColourByCompiler[compilerId];\n        } else {\n            return {};\n        }\n    }\n\n    public getColoursForEditor(editorId: number): Object {\n        if (this.linesAndColourByEditor[editorId]) {\n            return this.linesAndColourByEditor[editorId];\n        } else {\n            return {};\n        }\n    }\n};\n","// Copyright (c) 2019, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\nvar monaco = require('monaco-editor');\n\nfunction definition() {\n    return {\n        tokenizer: {\n            root: [\n                [/^[a-zA-Z_][a-zA-Z_0-9]*/, { token: 'type.identifier' }],\n                [/^\\s+/, { token: 'whitespace', next: '@opcode' }],\n                [/^\\.[a-zA-Z]+\\s*/, { token: 'type.identifier', next: '@arguments' }],\n                [/;.*$/, { token: 'comment', next: '@root' }],\n                [/\\s*,\\s*/, { token: 'delimiter', next: '@arguments' }],\n            ],\n\n            opcode: [\n                [/[a-zA-Z]+$/, { token: 'keyword', next: '@root' }],\n                [/[a-zA-Z]+\\s*/, { token: 'keyword', next: '@arguments' }],\n                [/;.*$/, { token: 'comment', next: '@root' }],\n            ],\n\n            arguments: [\n                [/\\$#[0-9a-fA-F]+/, { token: 'number', next: '@root' }],\n                [/\\$[0-9a-fA-F]+/, { token: 'number', next: '@root' }],\n                [/#\\$[0-9a-fA-F]+/, { token: 'number', next: '@root' }],\n                [/#<[0-9]+\\(%[a-zA-Z]+\\)/, { token: 'number', next: '@root' }],\n                [/#>[0-9]+\\(%[a-zA-Z]+\\)/, { token: 'number', next: '@root' }],\n                [/#<\\$[0-9a-fA-F]+/, { token: 'number', next: '@root' }],\n                [/#>\\$[0-9a-fA-F]+/, { token: 'number', next: '@root' }],\n                [/#%[0-1]+/, { token: 'number', next: '@root' }],\n                [/#[0-9]+/, { token: 'number', next: '@root' }],\n                [/[a-zA-Z_][a-zA-Z_0-9]*/, { token: 'type.identifier', next: '@root' }],\n                [/[0-9]+/, { token: 'number', next: '@root' }],\n                [/;.*$/, { token: 'comment', next: '@root' }],\n            ],\n        },\n    };\n}\n\nvar def = definition();\nmonaco.languages.register({ id: 'asm6502' });\nmonaco.languages.setMonarchTokensProvider('asm6502', def);\n\nexport = def;\n","// Copyright (c) 2021, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar ga = require('./analytics').ga;\nvar local = require('./local');\nvar TomSelect = require('tom-select');\n\nvar favoriteGroupName = '__favorites__';\nvar favoriteStoreKey = 'favCompilerIds';\nvar nextSelectorId = 1;\n\nfunction CompilerPicker(domRoot, hub, langId, compilerId, onCompilerChange, compilerIsVisible) {\n    this.eventHub = hub.createEventHub();\n    this.id = nextSelectorId++;\n    this.domNode = domRoot.find('.compiler-picker')[0];\n    this.compilerService = hub.compilerService;\n    this.onCompilerChange = onCompilerChange;\n    this.eventHub.on('compilerFavoriteChange', this.onCompilerFavoriteChange, this);\n    this.tomSelect = null;\n    this.lastLangId = null;\n    this.lastCompilerId = null;\n    if (_.isFunction(compilerIsVisible)) {\n        this.compilerIsVisible = compilerIsVisible;\n    } else {\n        this.compilerIsVisible = function () { return true; };\n    }\n\n    this.initialize(langId, compilerId);\n}\n\nCompilerPicker.prototype.close = function () {\n    this.eventHub.unsubscribe();\n    if (this.tomSelect)\n        this.tomSelect.destroy();\n    this.tomSelect = null;\n};\n\nCompilerPicker.prototype.initialize = function (langId, compilerId) {\n    this.lastLangId = langId;\n    this.lastCompilerId = compilerId;\n\n    this.tomSelect = new TomSelect(this.domNode, {\n        sortField: this.compilerService.getSelectizerOrder(),\n        valueField: 'id',\n        labelField: 'name',\n        searchField: ['name'],\n        placeholder: ' Select a compiler...',\n        optgroupField: '$groups',\n        optgroups: this.getGroups(langId),\n        lockOptgroupOrder: true,\n        options: this.getOptions(langId, compilerId),\n        items: compilerId ? [compilerId] : [],\n        dropdownParent: 'body',\n        closeAfterSelect: true,\n        plugins: ['dropdown_input'],\n        maxOptions: 1000,\n        onChange: _.bind(function (val) {\n            if (val) {\n                ga.proxy('send', {\n                    hitType: 'event',\n                    eventCategory: 'SelectCompiler',\n                    eventAction: val,\n                });\n                this.onCompilerChange(val);\n                this.lastCompilerId = val;\n            }\n        }, this),\n        duplicates: true,\n        render: {\n            option: function (data, escape) {\n                var extraClasses = data.$groups.indexOf(favoriteGroupName) !== -1 ? 'fas fa-star fav' : 'far fa-star';\n                return '<div class=\"d-flex\"><div>' + escape(data.name) + '</div>' +\n                    '<div title=\"Click to mark or unmark as a favorite\" class=\"ml-auto toggle-fav\">' +\n                    '<i class=\"' + extraClasses + '\"></i>' +\n                    '</div>' +\n                    '</div>';\n            },\n        },\n    });\n\n    $(this.tomSelect.dropdown_content).on('click', '.toggle-fav', _.bind(function (evt) {\n        evt.preventDefault();\n        evt.stopPropagation();\n\n        var optionElement = evt.currentTarget.closest('.option');\n        var clickedGroup = optionElement.parentElement.dataset.group;\n        var value = optionElement.dataset.value;\n        var data = this.tomSelect.options[value];\n        var isAddingNewFavorite = data.$groups.indexOf(favoriteGroupName) === -1;\n        var elemTop = optionElement.offsetTop;\n\n        if (isAddingNewFavorite) {\n            data.$groups.push(favoriteGroupName);\n            this.addToFavorites(data.id);\n        } else {\n            data.$groups.splice(data.group.indexOf(favoriteGroupName), 1);\n            this.removeFromFavorites(data.id);\n        }\n\n        this.tomSelect.updateOption(value, data);\n        this.tomSelect.refreshOptions(false);\n\n        if (clickedGroup !== favoriteGroupName) {\n            // If the user clicked on an option that wasn't in the top \"Favorite\" group, then we just added\n            // or removed a bunch of controls way up in the list. Find the new element top and adjust the scroll\n            // so the element that was just clicked is back under the mouse.\n            optionElement = this.tomSelect.getOption(value);\n            var previousSmooth = this.tomSelect.dropdown_content.style.scrollBehavior;\n            this.tomSelect.dropdown_content.style.scrollBehavior = 'auto';\n            this.tomSelect.dropdown_content.scrollTop += (optionElement.offsetTop - elemTop);\n            this.tomSelect.dropdown_content.style.scrollBehavior = previousSmooth;\n        }\n    }, this));\n};\n\nCompilerPicker.prototype.getOptions = function (langId, compilerId) {\n    var favorites = this.getFavorites();\n    return _.chain(this.compilerService.getCompilersForLang(langId))\n        .filter(_.bind(function (e) {\n            return (this.compilerIsVisible(e) && !e.hidden) || e.id === compilerId;\n        }, this))\n        .map(function (e) {\n            e.$groups = [e.group];\n            if (favorites[e.id])\n                e.$groups.unshift(favoriteGroupName);\n            return e;\n        })\n        .value();\n};\n\nCompilerPicker.prototype.getGroups = function (langId) {\n    var optgroups = this.compilerService.getGroupsInUse(langId);\n    optgroups.unshift({value: favoriteGroupName, label: 'Favorites'});\n    return optgroups;\n};\n\nCompilerPicker.prototype.update = function (langId, compilerId) {\n    this.tomSelect.destroy();\n    this.initialize(langId, compilerId);\n};\n\nCompilerPicker.prototype.onCompilerFavoriteChange = function (id) {\n    if (this.id !== id) {\n        // Rebuild the rest of compiler pickers so they can properly show the new fav status\n        this.update(this.lastLangId, this.lastCompilerId);\n    }\n};\n\nCompilerPicker.prototype.getFavorites = function () {\n    return JSON.parse(local.get(favoriteStoreKey, '{}'));\n};\n\nCompilerPicker.prototype.setFavorites = function (faves) {\n    local.set(favoriteStoreKey, JSON.stringify(faves));\n};\n\nCompilerPicker.prototype.isAFavorite = function (compilerId) {\n    return !!this.getFavorites()[compilerId];\n};\n\nCompilerPicker.prototype.addToFavorites = function (compilerId) {\n    var faves = this.getFavorites();\n    faves[compilerId] = true;\n    this.setFavorites(faves);\n    this.eventHub.emit('compilerFavoriteChange', this.id);\n};\n\nCompilerPicker.prototype.removeFromFavorites = function (compilerId) {\n    var faves = this.getFavorites();\n    delete faves[compilerId];\n    this.setFavorites(faves);\n    this.eventHub.emit('compilerFavoriteChange', this.id);\n};\n\nmodule.exports = {\n    CompilerPicker: CompilerPicker,\n};\n","// Copyright (c) 2018, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar monaco = require('monaco-editor');\nvar cpp = require('monaco-editor/esm/vs/basic-languages/cpp/cpp');\nvar cppp = require('./cppp-mode');\n\n// We need to create a new definition for cpp so we can remove invalid keywords\n\nfunction definition() {\n    var cuda = $.extend(true, {}, cppp); // deep copy\n\n    function addKeywords(keywords) {\n        // (Ruben) Done one by one as if you just push them all, Monaco complains that they're not strings, but as\n        // far as I can tell, they indeed are all strings. This somehow fixes it. If you know how to fix it, plz go\n        for (var i = 0; i < keywords.length; ++i) {\n            cuda.keywords.push(keywords[i]);\n        }\n    }\n\n    cuda.tokenPostfix = '.cu';\n\n    // Keywords for CUDA\n    addKeywords([\n        '__host__', '__global__', '__device__', '__shared__', '__noinline__', '__forceinline__', '__restrict__',\n    ]);\n\n    return cuda;\n}\n\nmonaco.languages.register({id: 'cuda'});\nmonaco.languages.setLanguageConfiguration('cuda', cpp.conf);\nmonaco.languages.setMonarchTokensProvider('cuda', definition());\n\nexport {};\n","import _ from 'underscore';\nconst options = require('./options').options;\n\nexport class LibUtils {\n    private copyAndFilterLibraries(allLibraries, filter) {\n        const filterLibAndVersion = _.map(filter, (lib) => {\n            const match = lib.match(/([\\w-]*)\\.([\\w-]*)/i);\n            if (match) {\n                return {\n                    id: match[1],\n                    version: match[2],\n                };\n            } else {\n                return {\n                    id: lib,\n                    version: false,\n                };\n            }\n        });\n\n        const filterLibIds = new Set();\n        _.each(filterLibAndVersion, (lib) => {\n            filterLibIds.add(lib.id);\n        });\n\n        const copiedLibraries = {};\n        _.each(allLibraries, (lib, libid) => {\n            if (!filterLibIds.has(libid)) return;\n\n            const libcopy = Object.assign({}, lib);\n            libcopy.versions = _.omit(lib.versions, (version, versionid) => {\n                for (const filter of filterLibAndVersion) {\n                    if (filter.id === libid) {\n                        if (!filter.version) return false;\n                        if (filter.version === versionid) return false;\n                    }\n                }\n\n                return true;\n            });\n\n            copiedLibraries[libid] = libcopy;\n        });\n\n        return copiedLibraries;\n    }\n\n    public getSupportedLibraries(supportedLibrariesArr, langId) {\n        const allLibs = options.libs[langId];\n        if (supportedLibrariesArr && supportedLibrariesArr.length > 0) {\n            return this.copyAndFilterLibraries(allLibs, supportedLibrariesArr);\n        }\n        return allLibs;\n    }\n}\n","// Copyright (c) 2021, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\nimport _ from 'underscore';\nimport * as monaco from 'monaco-editor';\nimport { Container } from 'golden-layout';\n\nimport { Pane } from './pane';\nimport { BasePaneState } from './pane.interfaces';\nimport { RustMirState } from './rustmir-view.interfaces';\n\nimport { ga } from '../analytics';\nimport { extendConfig } from '../monaco-config';\n\nexport class RustMir extends Pane<monaco.editor.IStandaloneCodeEditor, RustMirState> {\n    constructor(hub: any, container: Container, state: RustMirState & BasePaneState) {\n        super(hub, container, state);\n        if (state && state.rustMirOutput) {\n            this.showRustMirResults(state.rustMirOutput);\n        }\n    }\n\n    override getInitialHTML(): string {\n        return $('#rustmir').html();\n    }\n\n    override createEditor(editorRoot: HTMLElement): monaco.editor.IStandaloneCodeEditor {\n        return monaco.editor.create(editorRoot, extendConfig({\n            language: 'rust',\n            readOnly: true,\n            glyphMargin: true,\n            lineNumbersMinChars: 3,\n        }));\n    }\n\n    override registerOpeningAnalyticsEvent(): void {\n        ga.proxy('send', {\n            hitType: 'event',\n            eventCategory: 'OpenViewPane',\n            eventAction: 'RustMir',\n        });\n    }\n\n    override getPaneName(): string {\n        return `Rust MIR Viewer ${this.compilerInfo.compilerName}` +\n            `(Editor #${this.compilerInfo.editorId}, ` +\n            `Compiler #${this.compilerInfo.compilerId})`;\n    }\n\n    override registerCallbacks(): void {\n        const throttleFunction = _.throttle((event) => this.onDidChangeCursorSelection(event), 500);\n        this.editor.onDidChangeCursorSelection((event) => throttleFunction(event));\n        this.eventHub.emit('rustMirViewOpened', this.compilerInfo.compilerId);\n        this.eventHub.emit('requestSettings');\n    }\n\n    override onCompileResult(compilerId: number, compiler: any, result: any): void {\n        if (this.compilerInfo.compilerId !== compilerId) return;\n        if (result.hasRustMirOutput) {\n            this.showRustMirResults(result.rustMirOutput);\n        } else if (compiler.supportsRustMirView) {\n            this.showRustMirResults([{text: '<No output>'}]);\n        }\n    }\n\n    override onCompiler(compilerId: number, compiler: any, options: any, editorId: number): void {\n        if (this.compilerInfo.compilerId === compilerId) {\n            this.compilerInfo.compilerName = compiler ? compiler.name : '';\n            this.compilerInfo.editorId = editorId;\n            this.setTitle();\n            if (compiler && !compiler.supportsRustMirView) {\n                this.showRustMirResults([{text: '<Rust MIR output is not supported for this compiler>'}]);\n            }\n        }\n    }\n\n    showRustMirResults(result: any[]): void {\n        if (!this.editor) return;\n        this.editor.getModel().setValue(result.length\n            ? _.pluck(result, 'text').join('\\n')\n            : '<No Rust MIR generated>');\n\n        if (!this.isAwaitingInitialResults) {\n            if (this.selection) {\n                this.editor.setSelection(this.selection);\n                this.editor.revealLinesInCenter(this.selection.selectionStartLineNumber,\n                    this.selection.endLineNumber);\n            }\n            this.isAwaitingInitialResults = true;\n        }\n    }\n\n    override close(): void {\n        this.eventHub.unsubscribe();\n        this.eventHub.emit('rustMirViewClosed', this.compilerInfo.compilerId);\n        this.editor.dispose();\n    }\n}\n","// Copyright (c) 2018, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\n\nvar FontScale = require('../fontscale').FontScale;\nvar monaco = require('monaco-editor');\nvar _ = require('underscore');\nvar $ = require('jquery');\nvar colour = require('../colour');\nvar ga = require('../analytics').ga;\nvar monacoConfig = require('../monaco-config');\n\nfunction Ir(hub, container, state) {\n    this.container = container;\n    this.eventHub = hub.createEventHub();\n    this.domRoot = container.getElement();\n    this.domRoot.html($('#ir').html());\n\n    this.decorations = {};\n    this.prevDecorations = [];\n    var root = this.domRoot.find('.monaco-placeholder');\n\n    this.irEditor = monaco.editor.create(root[0], monacoConfig.extendConfig({\n        language: 'llvm-ir',\n        readOnly: true,\n        glyphMargin: true,\n        lineNumbersMinChars: 3,\n    }));\n\n    this._compilerid = state.id;\n    this._compilerName = state.compilerName;\n    this._editorid = state.editorid;\n\n    this.awaitingInitialResults = false;\n    this.selection = state.selection;\n\n    this.settings = {};\n\n    this.colours = [];\n    this.irCode = [];\n\n    this.initButtons(state);\n    this.initCallbacks();\n    this.initEditorActions();\n\n    if (state && state.irOutput) {\n        this.showIrResults(state.irOutput);\n    }\n    this.setTitle();\n\n    ga.proxy('send', {\n        hitType: 'event',\n        eventCategory: 'OpenViewPane',\n        eventAction: 'Ir',\n    });\n}\n\nIr.prototype.initEditorActions = function () {\n    this.irEditor.addAction({\n        id: 'viewsource',\n        label: 'Scroll to source',\n        keybindings: [monaco.KeyMod.CtrlCmd | monaco.KeyCode.F10],\n        keybindingContext: null,\n        contextMenuGroupId: 'navigation',\n        contextMenuOrder: 1.5,\n        run: _.bind(function (ed) {\n            var desiredLine = ed.getPosition().lineNumber - 1;\n            var source = this.irCode[desiredLine].source;\n            if (source !== null && source.file === null) {\n                // a null file means it was the user's source\n                this.eventHub.emit('editorLinkLine', this._editorid, source.line, -1, -1, true);\n            }\n        }, this),\n    });\n};\n\nIr.prototype.initButtons = function (state) {\n    this.fontScale = new FontScale(this.domRoot, state, this.irEditor);\n\n    this.topBar = this.domRoot.find('.top-bar');\n};\n\nIr.prototype.initCallbacks = function () {\n    this.linkedFadeTimeoutId = -1;\n    this.mouseMoveThrottledFunction = _.throttle(_.bind(this.onMouseMove, this), 50);\n    this.irEditor.onMouseMove(_.bind(function (e) {\n        this.mouseMoveThrottledFunction(e);\n    }, this));\n\n    this.cursorSelectionThrottledFunction =\n        _.throttle(_.bind(this.onDidChangeCursorSelection, this), 500);\n    this.irEditor.onDidChangeCursorSelection(_.bind(function (e) {\n        this.cursorSelectionThrottledFunction(e);\n    }, this));\n\n    this.fontScale.on('change', _.bind(this.updateState, this));\n\n    this.container.on('destroy', this.close, this);\n\n    var onColoursOnCompile = this.eventHub.mediateDependentCalls(this.onColours, this.onCompileResponse);\n\n    this.eventHub.on('compileResult', onColoursOnCompile.dependencyProxy, this);\n    this.eventHub.on('compiler', this.onCompiler, this);\n    this.eventHub.on('colours', onColoursOnCompile.dependentProxy, this);\n    this.eventHub.on('panesLinkLine', this.onPanesLinkLine, this);\n    this.eventHub.on('compilerClose', this.onCompilerClose, this);\n    this.eventHub.on('settingsChange', this.onSettingsChange, this);\n    this.eventHub.emit('irViewOpened', this._compilerid);\n    this.eventHub.emit('requestSettings');\n\n    this.container.on('resize', this.resize, this);\n    this.container.on('shown', this.resize, this);\n};\n\n// TODO: de-dupe with compiler etc\nIr.prototype.resize = function () {\n    var topBarHeight = this.topBar.outerHeight(true);\n    this.irEditor.layout({\n        width: this.domRoot.width(),\n        height: this.domRoot.height() - topBarHeight,\n    });\n};\n\nIr.prototype.onCompileResponse = function (id, compiler, result) {\n    if (this._compilerid !== id) return;\n    if (result.hasIrOutput) {\n        this.showIrResults(result.irOutput);\n    } else if (compiler.supportsIrView) {\n        this.showIrResults([{text: '<No output>'}]);\n    }\n};\n\nIr.prototype.getPaneName = function () {\n    return 'IR Viewer ' + this._compilerName + ' (Editor #' + this._editorid + ', Compiler #' + this._compilerid + ')';\n};\n\nIr.prototype.setTitle = function () {\n    this.container.setTitle(this.getPaneName());\n};\n\nIr.prototype.showIrResults = function (irCode) {\n    if (!this.irEditor) return;\n    this.irCode = irCode;\n    this.irEditor.getModel().setValue(irCode.length ? _.pluck(irCode, 'text').join('\\n') : '<No IR generated>');\n\n    if (!this.awaitingInitialResults) {\n        if (this.selection) {\n            this.irEditor.setSelection(this.selection);\n            this.irEditor.revealLinesInCenter(this.selection.startLineNumber,\n                this.selection.endLineNumber);\n        }\n        this.awaitingInitialResults = true;\n    }\n};\n\nIr.prototype.onCompiler = function (id, compiler, options, editorid) {\n    if (id === this._compilerid) {\n        this._compilerName = compiler ? compiler.name : '';\n        this._editorid = editorid;\n        this.setTitle();\n        if (compiler && !compiler.supportsIrView) {\n            this.irEditor.setValue('<IR output is not supported for this compiler>');\n        }\n    }\n};\n\nIr.prototype.onColours = function (id, colours, scheme) {\n    if (id === this._compilerid) {\n        var irColours = {};\n        _.each(this.irCode, function (x, index) {\n            if (x.source && x.source.file === null && x.source.line > 0 && colours[x.source.line - 1] !== undefined) {\n                irColours[index] = colours[x.source.line - 1];\n            }\n        });\n        this.colours = colour.applyColours(this.irEditor, irColours, scheme, this.colours);\n    }\n};\n\nIr.prototype.onCompilerClose = function (id) {\n    if (id === this._compilerid) {\n        // We can't immediately close as an outer loop somewhere in GoldenLayout is iterating over\n        // the hierarchy. We can't modify while it's being iterated over.\n        _.defer(function (self) {\n            self.container.close();\n        }, this);\n    }\n};\n\nIr.prototype.updateState = function () {\n    this.container.setState(this.currentState());\n};\n\nIr.prototype.currentState = function () {\n    var state = {\n        id: this._compilerid,\n        editorid: this._editorid,\n        selection: this.selection,\n    };\n    this.fontScale.addState(state);\n    return state;\n};\n\nIr.prototype.onCompilerClose = function (id) {\n    if (id === this._compilerid) {\n        // We can't immediately close as an outer loop somewhere in GoldenLayout is iterating over\n        // the hierarchy. We can't modify while it's being iterated over.\n        this.close();\n        _.defer(function (self) {\n            self.container.close();\n        }, this);\n    }\n};\n\nIr.prototype.onSettingsChange = function (newSettings) {\n    this.settings = newSettings;\n    this.irEditor.updateOptions({\n        contextmenu: newSettings.useCustomContextMenu,\n        minimap: {\n            enabled: newSettings.showMinimap,\n        },\n        fontFamily: newSettings.editorsFFont,\n        fontLigatures: newSettings.editorsFLigatures,\n    });\n};\n\nIr.prototype.onMouseMove = function (e) {\n    if (e === null || e.target === null || e.target.position === null) return;\n    if (this.settings.hoverShowSource === true && this.irCode) {\n        this.clearLinkedLines();\n        var hoverCode = this.irCode[e.target.position.lineNumber - 1];\n        if (hoverCode) {\n            // We check that we actually have something to show at this point!\n            var sourceLine = -1;\n            var sourceColBegin = -1;\n            var sourceColEnd = -1;\n            if (hoverCode.source && !hoverCode.source.file) {\n                sourceLine = hoverCode.source.line;\n                if (hoverCode.source.column) {\n                    sourceColBegin = hoverCode.source.column;\n                    sourceColEnd = sourceColBegin;\n                }\n            }\n            this.eventHub.emit('editorLinkLine', this._editorid, sourceLine, sourceColBegin, sourceColEnd, false);\n            this.eventHub.emit('panesLinkLine', this._compilerid,\n                sourceLine, sourceColBegin, sourceColEnd,\n                false, this.getPaneName());\n        }\n    }\n};\n\nIr.prototype.onDidChangeCursorSelection = function (e) {\n    if (this.awaitingInitialResults) {\n        this.selection = e.selection;\n        this.updateState();\n    }\n};\n\n\nIr.prototype.updateDecorations = function () {\n    this.prevDecorations = this.irEditor.deltaDecorations(\n        this.prevDecorations, _.flatten(_.values(this.decorations)));\n};\n\nIr.prototype.clearLinkedLines = function () {\n    this.decorations.linkedCode = [];\n    this.updateDecorations();\n};\n\nIr.prototype.onPanesLinkLine = function (compilerId, lineNumber, colBegin, colEnd, revealLine, sender) {\n    if (Number(compilerId) === this._compilerid) {\n        var lineNums = [];\n        var directlyLinkedLineNums = [];\n        var signalFromAnotherPane = sender !== this.getPaneName();\n        _.each(this.irCode, function (irLine, i) {\n            if (irLine.source && irLine.source.file === null && irLine.source.line === lineNumber) {\n                var line = i + 1;\n                lineNums.push(line);\n                var currentCol = irLine.source.column;\n                if (signalFromAnotherPane && currentCol && colBegin <= currentCol && currentCol <= colEnd) {\n                    directlyLinkedLineNums.push(line);\n                }\n            }\n        });\n        if (revealLine && lineNums[0]) this.irEditor.revealLineInCenter(lineNums[0]);\n        var lineClass = sender !== this.getPaneName() ? 'linked-code-decoration-line' : '';\n        var linkedLineDecorations = _.map(lineNums, function (line) {\n            return {\n                range: new monaco.Range(line, 1, line, 1),\n                options: {\n                    isWholeLine: true,\n                    linesDecorationsClassName: 'linked-code-decoration-margin',\n                    className: lineClass,\n                },\n            };\n        });\n        var directlyLinkedLineDecorations = _.map(directlyLinkedLineNums, function (line) {\n            return {\n                range: new monaco.Range(line, 1, line, 1),\n                options: {\n                    isWholeLine: true,\n                    inlineClassName: 'linked-code-decoration-column',\n                },\n            };\n        });\n        this.decorations.linkedCode = linkedLineDecorations.concat(directlyLinkedLineDecorations);\n        if (this.linkedFadeTimeoutId !== -1) {\n            clearTimeout(this.linkedFadeTimeoutId);\n        }\n        this.linkedFadeTimeoutId = setTimeout(_.bind(function () {\n            this.clearLinkedLines();\n            this.linkedFadeTimeoutId = -1;\n        }, this), 5000);\n        this.updateDecorations();\n    }\n};\n\nIr.prototype.close = function () {\n    this.eventHub.unsubscribe();\n    this.eventHub.emit('irViewClosed', this._compilerid);\n    this.irEditor.dispose();\n};\n\nmodule.exports = {\n    Ir: Ir,\n};\n","// Copyright (c) 2020, Lock3 Software LLC\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n// Originally based on `./d-mode.js` by the Compiler Explorer Authors\n\n'use strict';\nvar monaco = require('monaco-editor');\n\nfunction definition() {\n    return {\n        defaultToken: '',\n\n        brackets: [\n            { token: 'delimiter.curly', open: '{', close: '}' },\n            { token: 'delimiter.parenthesis', open: '(', close: ')' },\n            { token: 'delimiter.square', open: '[', close: ']' },\n            { token: 'delimiter.angle', open: '<', close: '>' },\n        ],\n\n        keywords: [\n            'array',\n            'auto',\n            'bool',\n            'break',\n            'case',\n            'catch',\n            'char',\n            'class',\n            'const',\n            'constexpr',\n            'const_cast',\n            'continue',\n            'decltype',\n            'default',\n            'delete',\n            'do',\n            'dynamic_cast',\n            'else',\n            'enum',\n            'explicit',\n            'export',\n            'extern',\n            'false',\n            'final',\n            'for',\n            'if',\n            'in',\n            'inline',\n            'mutable',\n            'namespace',\n            'new',\n            'noexcept',\n            'operator',\n            'override',\n            'private',\n            'protected',\n            'public',\n            'register',\n            'reinterpret_cast',\n            'return',\n            'sizeof',\n            'static',\n            'static_assert',\n            'static_cast',\n            'switch',\n            'template',\n            'this',\n            'thread_local',\n            'throw',\n            'tile_static',\n            'true',\n            'try',\n            'typedef',\n            'typeid',\n            'typename',\n            'union',\n            'using',\n            'virtual',\n            'void',\n            'volatile',\n            'wchar_t',\n            'where',\n            'while',\n\n            // Additional C++ keywords\n            'alignas',\n            'alignof',\n            'and',\n            'or',\n            'not',\n\n            // Gold specific keywords\n            'returns',\n            'otherwise',\n            'then',\n            'until',\n            'null',\n            'ref',\n            'rref',\n        ],\n\n        typeKeywords: [\n            // C++ keywords\n            'int',\n            'double',\n            'float',\n\n            // Gold specific keywords\n            'type',\n            'uint',\n            'uint8',\n            'uint16',\n            'uint32',\n            'uint64',\n            'uint128',\n            'float16',\n            'float32',\n            'float64',\n            'float128',\n            'int8',\n            'int16',\n            'int32',\n            'int64',\n            'int128',\n            'type',\n            'char8',\n            'char16',\n            'char32',\n            'null_t',\n        ],\n\n        operators: [\n            '=', '>', '<', '!', '~', '?', ':',\n            '==', '<=', '>=', '<>', '&&', '||',\n            '+', '-', '*', '/', '&', '|', '^', '%', '<<',\n            '>>', '>>>', '+=', '-=', '*=', '/=', '&=', '|=',\n            '^=', '%=', '<<=', '>>=', '>>>=',\n        ],\n\n        symbols: /[=><!~?:&|+\\-*/^%]+/,\n        escapes: /\\\\(?:[abfnrtv\\\\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,\n\n        // The main tokenizer\n        tokenizer: {\n            root: [\n                // identifiers and keywords\n                [/[a-z_$][\\w$]*/, {\n                    cases: {\n                        '@typeKeywords': 'keyword',\n                        '@keywords': 'keyword',\n                        '@default': 'identifier',\n                    },\n                }],\n                [/[A-Z][\\w$]*/, 'type.identifier'],  // to show class names nicely\n\n                // whitespace\n                {include: '@whitespace'},\n\n                // delimiters and operators\n                [/[{}()[\\]]/, '@brackets'],\n                [/[<>](?!@symbols)/, '@brackets'],\n                [/@symbols/, {\n                    cases: {\n                        '@operators': 'operator',\n                        '@default': '',\n                    },\n                }],\n\n                // numbers\n                [/\\d*\\.\\d+([eE][-+]?\\d+)?[fFdD]?/, 'number.float'],\n                [/0[xX][0-9a-fA-F_]*[0-9a-fA-F][Ll]?/, 'number.hex'],\n                [/0[0-7_]*[0-7][Ll]?/, 'number.octal'],\n                [/0[bB][0-1_]*[0-1][Ll]?/, 'number.binary'],\n                [/\\d+[lL]?/, 'number'],\n\n                // strings\n                [/\"([^\"\\\\]|\\\\.)*$/, 'string.invalid'],  // non-teminated string\n                [/\"/, 'string', '@string'],\n\n                // characters\n                [/'[^\\\\']+'/, 'string'],\n                [/(')(@escapes)(')/, ['string', 'string.escape', 'string']],\n                [/'/, 'string.invalid'],\n            ],\n\n            // strings\n            string: [\n                [/[^\\\\\"]+/, 'string'],\n                [/@escapes/, 'string.escape'],\n                [/\"/, 'string', '@pop'],\n            ],\n\n            // characters\n            characters: [\n                [/'[^\\\\']+'/, 'string'],\n                [/(')(@escapes)(')/, ['string', 'string.escape', 'string']],\n                [/'/, 'string.invalid'],\n            ],\n\n            whitespace: [\n                [/[ \\t\\r\\n]+/, 'white'],\n                [/<#/, 'comment', '@nestingcomment'],\n                [/#.*$/, 'comment'],\n            ],\n\n            comment: [\n                [/[#]/, 'comment'],\n            ],\n\n            nestingcomment: [\n                [/[^<#]+/, 'comment'],\n                [/<#/, 'comment', '@push'],\n                [/<#/, 'comment.invalid'],\n                [/#>/, 'comment', '@pop'],\n                [/[<#]/, 'comment'],\n            ],\n        },\n    };\n}\n\nfunction configuration() {\n    return {\n        comments: {\n            lineComment: '#',\n            blockComment: ['<#', '#>'],\n        },\n\n        brackets: [\n            ['{', '}'],\n            ['[', ']'],\n            ['(', ')'],\n        ],\n\n        autoClosingPairs: [\n            { open: '[', close: ']' },\n            { open: '{', close: '}' },\n            { open: '(', close: ')' },\n            { open: '\\'', close: '\\'', notIn: ['string', 'comment'] },\n            { open: '\"', close: '\"', notIn: ['string'] },\n        ],\n\n        surroundingPairs: [\n            { open: '{', close: '}' },\n            { open: '[', close: ']' },\n            { open: '(', close: ')' },\n            { open: '\"', close: '\"' },\n            { open: '\\'', close: '\\'' },\n        ],\n    };\n}\n\nmonaco.languages.register({id: 'cppx-gold'});\nmonaco.languages.setMonarchTokensProvider('cppx-gold', definition());\nmonaco.languages.setLanguageConfiguration('cppx-gold', configuration());\n\nexport {};\n","// Copyright (c) 2016, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\n'use strict';\nvar _ = require('underscore');\nvar $ = require('jquery');\nvar EventEmitter = require('events');\nvar options = require('./options').options;\n\nfunction makeFontSizeDropdown(elem, obj, buttonDropdown) {\n    var onWheelEvent = function (e) {\n        e.preventDefault();\n        var selectedId = elem.find('.active').index();\n        if (e.originalEvent.deltaY >= 0 && selectedId < elem.children().length - 1) {\n            selectedId++;\n        } else if (e.originalEvent.deltaY < 0 && selectedId > 0) {\n            selectedId--;\n        }\n        elem.children().eq(selectedId).trigger('click');\n    };\n\n    var onClickEvent = function () {\n        // Toggle off the selection of the others\n        $(this)\n            .addClass('active')\n            .siblings().removeClass('active');\n        // Send the data\n        obj.scale = $(this).data('value');\n        obj.apply();\n        obj.emit('change');\n    };\n\n    for (var i = 8; i <= 30; i++) {\n        var item = $('<button></button>');\n\n        item.attr('data-value', i)\n            .addClass('dropdown-item btn btn-sm btn-light')\n            .text(i)\n            .appendTo(elem)\n            .on('click', onClickEvent);\n\n        if (obj.scale === i) {\n            item.addClass('active');\n        }\n    }\n\n    if (buttonDropdown) {\n        buttonDropdown.on('wheel', onWheelEvent);\n    }\n}\n\nfunction convertOldScale(oldScale) {\n    // New low + ((new max - new low) * (oldScale - old low) / (old max - old low))\n    return Math.floor(8 + (22 * (oldScale - 0.3) / 2.7));\n}\n\nfunction FontScale(domRoot, state, fontSelectorOrEditor) {\n    EventEmitter.call(this);\n    this.domRoot = domRoot;\n    // Old scale went from 0.3 to 3. New one uses 8 up to 30, so we can convert the old ones to the new format\n    this.scale = state.fontScale || options.defaultFontScale;\n    // The check seems pointless, but it ensures a false in case it's undefined\n    // FontScale assumes it's an old state if it does not see a fontUsePx in the state, so at first it will use pt.\n    // So the second condition is there to make new objects actually use px\n    this.usePxUnits = state.fontUsePx === true || !state.fontScale;\n    if (this.scale < 8) {\n        this.scale = convertOldScale(this.scale);\n    }\n    this.setTarget(fontSelectorOrEditor);\n    this.apply();\n    makeFontSizeDropdown(this.domRoot.find('.font-size-list'), this, this.domRoot.find('.fs-button'));\n}\n\n_.extend(FontScale.prototype, EventEmitter.prototype);\n\nFontScale.prototype.apply = function () {\n    if (this.isFontOfStr) {\n        this.domRoot.find(this.fontSelectorOrEditor).css('font-size', this.scale + (this.usePxUnits ? 'px' : 'pt'));\n    } else {\n        this.fontSelectorOrEditor.updateOptions({\n            fontSize: this.scale,\n        });\n    }\n};\n\nFontScale.prototype.addState = function (state) {\n    state.fontScale = this.scale;\n    state.fontUsePx = true;\n};\n\nFontScale.prototype.setScale = function (scale) {\n    this.scale = scale;\n    this.apply();\n};\n\nFontScale.prototype.setTarget = function (target) {\n    this.fontSelectorOrEditor = target;\n    this.isFontOfStr = typeof (this.fontSelectorOrEditor) === 'string';\n};\n\nmodule.exports = {\n    FontScale: FontScale,\n};\n","// Copyright (c) 2021, Compiler Explorer Authors\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//     * Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\nrequire('../modes/ada-mode');\nrequire('../modes/clean-mode');\nrequire('../modes/cpp-for-opencl-mode');\nrequire('../modes/cppcircle-mode');\nrequire('../modes/cppp-mode');\nrequire('../modes/cppx-blue-mode');\nrequire('../modes/cppx-gold-mode');\nrequire('../modes/crystal-mode');\nrequire('../modes/cuda-mode');\nrequire('../modes/d-mode');\nrequire('../modes/fortran-mode');\nrequire('../modes/haskell-mode');\nrequire('../modes/ispc-mode');\nrequire('../modes/llvm-ir-mode');\nrequire('../modes/nc-mode');\nrequire('../modes/nim-mode');\nrequire('../modes/ocaml-mode');\nrequire('../modes/openclc-mode');\nrequire('../modes/zig-mode');\nrequire('../modes/cmake-mode');\n"],"sourceRoot":""}